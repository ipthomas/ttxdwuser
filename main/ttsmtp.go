package main

import (
	"crypto/tls"
	"fmt"
	"log"
	"net/smtp"
)

func (i *NotifyEvent) Notify() error {
	var err error
	auth := smtp.PlainAuth("", i.From, i.Password, i.Server)
	conn, err := smtp.Dial(i.Server + ":" + i.Port)
	if err != nil {
		log.Println(err.Error())
		return err
	}
	defer conn.Close()
	tlsConfig := &tls.Config{
		InsecureSkipVerify: true,
	}
	if err = conn.StartTLS(tlsConfig); err != nil {
		log.Println(err.Error())
		return err
	}
	if err = conn.Auth(auth); err != nil {
		log.Println(err.Error())
		return err
	}
	if err = conn.Mail(i.From); err != nil {
		log.Println(err.Error())
		return err
	}
	if err = conn.Rcpt(i.To); err != nil {
		log.Println(err.Error())
		return err
	}
	wc, err := conn.Data()
	if err != nil {
		log.Println(err.Error())
		return err
	}
	defer wc.Close()
	if _, err = fmt.Fprint(wc, i.Body); err != nil {
		log.Println(err.Error())
	} else {
		log.Printf("Notification sent to %s", i.To)
	}

	return err
}

// func (i *NotifyEvent) Notify() error {
// 	// Sender and recipient email addresses
// 	from := i.From //"sender@example.com"
// 	to := i.To     //"recipient@example.com"

// 	// SMTP server configuration
// 	smtpHost := i.Server       //"smtp.example.com"
// 	smtpPort := i.Port         //"587"
// 	smtpUsername := i.From     //"your_username"
// 	smtpPassword := i.Password //"your_password"

// 	// Create a new message
// 	msg := &bytes.Buffer{}
// 	writer := multipart.NewWriter(msg)
// 	defer writer.Close()

// 	// Create and add the HTML part of the email
// 	htmlPart, _ := writer.CreatePart(textproto.MIMEHeader{
// 		"Content-Type": []string{"text/html; charset=UTF-8"},
// 	})
// 	htmlbody := "<html><body><img src=\"cid:logo.png\"><h1>Workflow Event Notification</h1><p>" + i.Body + "</p></body></html>"
// 	htmlPart.Write([]byte(htmlbody))

// 	// Attach the image as an inline attachment
// 	imagePart, _ := writer.CreatePart(textproto.MIMEHeader{
// 		"Content-Type":        []string{"image/png"},
// 		"Content-Disposition": []string{"inline; filename=logo.png"},
// 		"Content-ID":          []string{"<logo.png>"},
// 	})
// 	base64Image := "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"
// 	imageData, err := base64.StdEncoding.DecodeString(base64Image)
// 	if err != nil {
// 		fmt.Println("Error decoding base64 image:", err)
// 		return err
// 	}
// 	imagePart.Write(imageData)

// 	// Authenticate and send the email
// 	auth := smtp.PlainAuth("", smtpUsername, smtpPassword, smtpHost)
// 	err = smtp.SendMail(smtpHost+":"+smtpPort, auth, from, []string{to}, msg.Bytes())
// 	if err != nil {
// 		fmt.Println("Error sending email:", err)
// 		return err
// 	}

// 	fmt.Println("Email sent successfully!")
// 	return nil
// }
