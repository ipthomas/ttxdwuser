2023/09/14 18:15:52.409913 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 18:15:52.410410 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 18:15:52.410547 ttdb.go:54: Opened Database
2023/09/14 18:15:52.611101 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 18:15:52.678167 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 18:15:52.678240 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 18:15:52.747160 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 18:15:52.849675 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 18:15:52.849827 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 18:15:52.916657 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 18:15:52.992858 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 18:15:52.992929 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 18:15:53.060011 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 18:15:53.127603 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 18:15:53.127664 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 18:15:53.197443 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 18:15:53.264145 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 18:15:53.264259 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 18:15:53.331455 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 18:15:53.452669 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 18:15:53.452872 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 18:15:53.520543 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 18:15:53.588418 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 18:15:53.588451 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 18:15:53.655644 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 18:15:53.721227 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 18:15:53.721424 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 18:15:53.789554 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 18:15:53.858445 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 18:15:53.858604 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 18:15:53.930389 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 18:15:54.002497 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 18:15:54.002692 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 18:15:54.081145 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 18:15:54.179787 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 18:15:54.179853 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 18:15:54.284594 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 18:15:54.383641 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 18:15:54.383794 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 18:15:54.454498 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 18:15:54.526480 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 18:15:54.526663 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 18:15:54.594542 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 18:15:54.661062 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 18:15:54.661220 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 18:15:54.727827 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 18:15:54.795421 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 18:15:54.795591 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 18:15:54.862740 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 18:15:54.930673 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 18:15:54.930877 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 18:15:55.003605 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 18:15:55.073713 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 18:15:55.073860 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 18:15:55.141194 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 18:15:55.212620 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 18:15:55.212783 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 18:15:55.279539 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 18:15:55.351687 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 18:15:55.351829 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 18:15:55.418231 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 18:15:55.497400 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 18:15:55.497525 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 18:15:55.564592 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 18:15:55.636011 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 18:15:55.636163 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 18:15:55.703043 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 18:15:55.773097 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 18:15:55.773231 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 18:15:55.773579 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 18:16:02.101907 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:02.102219 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:02.102547 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:02.102579 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:02.102860 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:02.294287 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:02.302783 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:02.303909 server.go:3217: http: panic serving [::1]:54692: runtime error: invalid memory address or nil pointer dereference
goroutine 8 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0000aa330?, 0xc00040a178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f5000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0001321c0}, 0xc00010a200)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc0000a8209?, {0x1565930?, 0xc0001321c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc00011e0c0?}, {0x1565930, 0xc0001321c0}, 0xc00010a200)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007b4d0, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:02.305001 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:02.305066 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:02.305118 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:02.305137 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:02.305154 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:02.394646 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:02.400668 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:02.401231 server.go:3217: http: panic serving [::1]:54693: runtime error: invalid memory address or nil pointer dereference
goroutine 9 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0001941f8?, 0xc000160178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00037e000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00034aee0}, 0xc00037a000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc000030789?, {0x1565930?, 0xc00034aee0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000075a10?}, {0x1565930, 0xc00034aee0}, 0xc00037a000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007b560, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:02.402578 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:02.402637 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:02.402694 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:02.402712 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:02.402730 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:02.490083 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:02.496184 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:02.496773 server.go:3217: http: panic serving [::1]:54696: runtime error: invalid memory address or nil pointer dereference
goroutine 25 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0000282a0?, 0xc00025c178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00037f000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00037f000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00037f000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00037f000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00037f000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00034a2a0}, 0xc00010af00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc0000a8c09?, {0x1565930?, 0xc00034a2a0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001c4420?}, {0x1565930, 0xc00034a2a0}, 0xc00010af00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a090, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:03.538175 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:03.538315 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:03.538386 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:03.538418 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:03.538447 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:03.703603 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:03.709710 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:03.710305 server.go:3217: http: panic serving [::1]:54698: runtime error: invalid memory address or nil pointer dereference
goroutine 28 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000028480?, 0xc000348178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f5000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00034ab60}, 0xc000291c00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc000253609?, {0x1565930?, 0xc00034ab60?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0002d6780?}, {0x1565930, 0xc00034ab60}, 0xc000291c00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a360, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:03.710997 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:03.711075 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:03.711132 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:03.711154 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:03.711176 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:03.798581 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:03.803416 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:03.803786 server.go:3217: http: panic serving [::1]:54699: runtime error: invalid memory address or nil pointer dereference
goroutine 29 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000194060?, 0xc0006d4178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003d8000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003d8000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003d8000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003d8000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003d8000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00034b500}, 0xc000291b00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc000329f09?, {0x1565930?, 0xc00034b500?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0002d6720?}, {0x1565930, 0xc00034b500}, 0xc000291b00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a3f0, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:03.804929 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:03.804980 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:03.805029 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:03.805040 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:03.805051 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:03.893868 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:03.899172 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:03.899717 server.go:3217: http: panic serving [::1]:54700: runtime error: invalid memory address or nil pointer dereference
goroutine 66 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0001941f8?, 0xc000126178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003d9000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003d9000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003d9000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003d9000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003d9000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00034a1c0}, 0xc000524b00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc0003286c9?, {0x1565930?, 0xc00034a1c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0003ee360?}, {0x1565930, 0xc00034a1c0}, 0xc000524b00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a090, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:08.923020 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:08.923169 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:08.923245 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:08.923275 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:08.923291 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:09.114576 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:09.117470 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:09.117780 server.go:3217: http: panic serving [::1]:54705: runtime error: invalid memory address or nil pointer dereference
goroutine 69 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0000281c8?, 0xc0002b0178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f5000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0006e8000}, 0xc00010a200)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc000030089?, {0x1565930?, 0xc0006e8000?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0006de030?}, {0x1565930, 0xc0006e8000}, 0xc00010a200)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a360, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:09.118281 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:09.118428 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:09.118473 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:09.118488 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:09.118500 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:09.205682 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:09.209222 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:09.209565 server.go:3217: http: panic serving [::1]:54706: runtime error: invalid memory address or nil pointer dereference
goroutine 70 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000194060?, 0xc0001f6178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000310000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000310000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000310000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000310000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000310000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0006e88c0}, 0xc00037b800)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc0000a8bc9?, {0x1565930?, 0xc0006e88c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001d8660?}, {0x1565930, 0xc0006e88c0}, 0xc00037b800)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a480, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:09.210227 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:09.210260 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:09.210289 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:09.210302 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:09.210311 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:09.316469 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:09.319194 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:09.319557 server.go:3217: http: panic serving [::1]:54708: runtime error: invalid memory address or nil pointer dereference
goroutine 72 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000194240?, 0xc00026e178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000311000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000311000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000311000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000311000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000311000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0006e8380}, 0xc00010af00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc0000a8ac9?, {0x1565930?, 0xc0006e8380?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000214450?}, {0x1565930, 0xc0006e8380}, 0xc00010af00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a090, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:39.333925 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:39.333971 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:39.333999 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:39.334008 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:39.334014 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:39.576321 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:39.577474 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:39.577602 server.go:3217: http: panic serving [::1]:54724: runtime error: invalid memory address or nil pointer dereference
goroutine 75 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0001943a8?, 0xc0003b8178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f5000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0004d0000}, 0xc0004c0000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc0004c2009?, {0x1565930?, 0xc0004d0000?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0004b6030?}, {0x1565930, 0xc0004d0000}, 0xc0004c0000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a360, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:39.577893 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:39.577912 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:39.577926 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:39.577944 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:39.577948 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:39.708244 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:39.709582 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:39.709760 server.go:3217: http: panic serving [::1]:54725: runtime error: invalid memory address or nil pointer dereference
goroutine 76 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000194570?, 0xc00015c178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000416000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000416000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000416000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000416000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000416000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0006e8fc0}, 0xc000299b00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc00026fe09?, {0x1565930?, 0xc0006e8fc0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0002c4750?}, {0x1565930, 0xc0006e8fc0}, 0xc000299b00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a3f0, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:16:39.710447 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:16:39.710471 ttproxy.go:138: 	Request Query Params
2023/09/14 18:16:39.710491 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:16:39.710496 ttgethandler.go:15: Path = /spa
2023/09/14 18:16:39.710500 tttmplts.go:23: Using Default SPA template
2023/09/14 18:16:39.811236 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:16:39.812489 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:16:39.812675 server.go:3217: http: panic serving [::1]:54726: runtime error: invalid memory address or nil pointer dereference
goroutine 78 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000028138?, 0xc000224178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f5000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0006e82a0}, 0xc000298d00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc0004c2909?, {0x1565930?, 0xc0006e82a0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000172420?}, {0x1565930, 0xc0006e82a0}, 0xc000298d00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a090, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:17:39.829822 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:17:39.829870 ttproxy.go:138: 	Request Query Params
2023/09/14 18:17:39.829890 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:17:39.829899 ttgethandler.go:15: Path = /spa
2023/09/14 18:17:39.829906 tttmplts.go:23: Using Default SPA template
2023/09/14 18:17:40.021839 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:17:40.023724 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:17:40.023830 server.go:3217: http: panic serving [::1]:54740: runtime error: invalid memory address or nil pointer dereference
goroutine 42 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0000aa150?, 0xc000486178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000417000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000417000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000417000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000417000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000417000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00036c2a0}, 0xc0004f6000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc000030bc9?, {0x1565930?, 0xc00036c2a0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0004f0030?}, {0x1565930, 0xc00036c2a0}, 0xc0004f6000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc000128000, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:17:40.024129 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:17:40.024146 ttproxy.go:138: 	Request Query Params
2023/09/14 18:17:40.024163 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:17:40.024169 ttgethandler.go:15: Path = /spa
2023/09/14 18:17:40.024174 tttmplts.go:23: Using Default SPA template
2023/09/14 18:17:40.153649 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:17:40.154940 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:17:40.155113 server.go:3217: http: panic serving [::1]:54741: runtime error: invalid memory address or nil pointer dereference
goroutine 43 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0002b2060?, 0xc000172178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000416000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000416000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000416000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000416000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000416000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00036c1c0}, 0xc00025ab00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc0000313c9?, {0x1565930?, 0xc00036c1c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc00026bef0?}, {0x1565930, 0xc00036c1c0}, 0xc00025ab00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc000128120, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:17:40.155870 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:17:40.155897 ttproxy.go:138: 	Request Query Params
2023/09/14 18:17:40.155916 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:17:40.155922 ttgethandler.go:15: Path = /spa
2023/09/14 18:17:40.155928 tttmplts.go:23: Using Default SPA template
2023/09/14 18:17:40.254538 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:17:40.255510 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:17:40.255738 server.go:3217: http: panic serving [::1]:54744: runtime error: invalid memory address or nil pointer dereference
goroutine 46 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0000aa300?, 0xc0002d0178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f5000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f5000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0002e82a0}, 0xc0001c6d00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc0000a9a09?, {0x1565930?, 0xc0002e82a0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001dbe90?}, {0x1565930, 0xc0002e82a0}, 0xc0001c6d00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0001f0000, {0x1565b28, 0xc0000758c0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:18:13.360497 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 18:18:15.179264 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 18:18:15.179778 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 18:18:15.179925 ttdb.go:54: Opened Database
2023/09/14 18:18:15.362720 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 18:18:15.428129 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 18:18:15.428216 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 18:18:15.494851 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 18:18:15.594737 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 18:18:15.594782 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 18:18:15.660392 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 18:18:15.726512 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 18:18:15.726703 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 18:18:15.795729 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 18:18:15.866657 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 18:18:15.866709 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 18:18:15.933166 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 18:18:16.000180 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 18:18:16.000306 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 18:18:16.064873 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 18:18:16.186339 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 18:18:16.186504 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 18:18:16.252595 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 18:18:16.319314 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 18:18:16.319411 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 18:18:16.383739 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 18:18:16.449393 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 18:18:16.449534 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 18:18:16.516945 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 18:18:16.585792 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 18:18:16.585932 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 18:18:16.651955 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 18:18:16.717742 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 18:18:16.717800 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 18:18:16.783392 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 18:18:16.863014 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 18:18:16.863128 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 18:18:16.928670 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 18:18:17.008865 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 18:18:17.008899 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 18:18:17.080640 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 18:18:17.152469 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 18:18:17.152513 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 18:18:17.218421 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 18:18:17.283333 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 18:18:17.283486 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 18:18:17.350202 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 18:18:17.418424 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 18:18:17.418578 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 18:18:17.490253 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 18:18:17.556082 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 18:18:17.556135 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 18:18:17.621878 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 18:18:17.690036 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 18:18:17.690128 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 18:18:17.756142 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 18:18:17.823778 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 18:18:17.823934 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 18:18:17.888356 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 18:18:17.957007 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 18:18:17.957228 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 18:18:18.024649 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 18:18:18.097254 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 18:18:18.097424 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 18:18:18.162896 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 18:18:18.234309 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 18:18:18.234445 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 18:18:18.299794 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 18:18:18.366630 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 18:18:18.366773 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 18:18:18.367040 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 18:18:22.255607 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:18:22.255840 ttproxy.go:138: 	Request Query Params
2023/09/14 18:18:22.256068 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:18:22.256090 ttgethandler.go:15: Path = /spa
2023/09/14 18:18:22.256353 tttmplts.go:23: Using Default SPA template
2023/09/14 18:18:22.445093 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:18:22.458210 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:18:22.458955 server.go:3217: http: panic serving [::1]:54766: runtime error: invalid memory address or nil pointer dereference
goroutine 37 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0000ba078?, 0xc000496178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00034c000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00034c000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00034c000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00034c000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00034c000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00022f260}, 0xc000334000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc000232209?, {0x1565930?, 0xc00022f260?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000212a50?}, {0x1565930, 0xc00022f260}, 0xc000334000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0001e5050, {0x1565b28, 0xc0001af650})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:18:22.460457 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:18:22.460538 ttproxy.go:138: 	Request Query Params
2023/09/14 18:18:22.460591 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:18:22.460609 ttgethandler.go:15: Path = /spa
2023/09/14 18:18:22.460621 tttmplts.go:23: Using Default SPA template
2023/09/14 18:18:22.546242 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:18:22.552163 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:18:22.552792 server.go:3217: http: panic serving [::1]:54767: runtime error: invalid memory address or nil pointer dereference
goroutine 38 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000028330?, 0xc0000ce178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000141000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000141000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000141000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000141000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000141000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00022e1c0}, 0xc0001c6100)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc000030609?, {0x1565930?, 0xc00022e1c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001af7a0?}, {0x1565930, 0xc00022e1c0}, 0xc0001c6100)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0001e50e0, {0x1565b28, 0xc0001af650})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:18:22.554566 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:18:22.554646 ttproxy.go:138: 	Request Query Params
2023/09/14 18:18:22.554706 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:18:22.554729 ttgethandler.go:15: Path = /spa
2023/09/14 18:18:22.554751 tttmplts.go:23: Using Default SPA template
2023/09/14 18:18:22.642565 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:18:22.646990 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:18:22.647490 server.go:3217: http: panic serving [::1]:54768: runtime error: invalid memory address or nil pointer dereference
goroutine 26 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000028510?, 0xc000264178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00034d000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00034d000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00034d000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00034d000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00034d000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00022ea80}, 0xc0001c7900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc000198b09?, {0x1565930?, 0xc00022ea80?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000172bd0?}, {0x1565930, 0xc00022ea80}, 0xc0001c7900)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00013c360, {0x1565b28, 0xc0001af650})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:19:10.137383 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:19:10.137515 ttproxy.go:138: 	Request Query Params
2023/09/14 18:19:10.137622 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:19:10.137670 ttgethandler.go:15: Path = /spa
2023/09/14 18:19:10.137695 tttmplts.go:23: Using Default SPA template
2023/09/14 18:19:10.326474 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:19:10.333488 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:19:10.334141 server.go:3217: http: panic serving [::1]:54782: runtime error: invalid memory address or nil pointer dereference
goroutine 29 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0000ba228?, 0xc0000b0178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003c6000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003c6000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003c6000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003c6000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003c6000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0003c2000}, 0xc0006a6700)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc00068c349?, {0x1565930?, 0xc0003c2000?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0003ba030?}, {0x1565930, 0xc0003c2000}, 0xc0006a6700)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00013c630, {0x1565b28, 0xc0001af650})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:19:10.334903 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:19:10.334974 ttproxy.go:138: 	Request Query Params
2023/09/14 18:19:10.335041 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:19:10.335066 ttgethandler.go:15: Path = /spa
2023/09/14 18:19:10.335088 tttmplts.go:23: Using Default SPA template
2023/09/14 18:19:10.421139 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:19:10.426735 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:19:10.427260 server.go:3217: http: panic serving [::1]:54783: runtime error: invalid memory address or nil pointer dereference
goroutine 30 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000028228?, 0xc00017c178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003c7000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003c7000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003c7000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003c7000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003c7000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0003c22a0}, 0xc000335100)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc0002328c9?, {0x1565930?, 0xc0003c22a0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc00029eed0?}, {0x1565930, 0xc0003c22a0}, 0xc000335100)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00013c6c0, {0x1565b28, 0xc0001af650})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:19:10.428607 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:19:10.428678 ttproxy.go:138: 	Request Query Params
2023/09/14 18:19:10.428739 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:19:10.428762 ttgethandler.go:15: Path = /spa
2023/09/14 18:19:10.428832 tttmplts.go:23: Using Default SPA template
2023/09/14 18:19:10.516490 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:19:10.525070 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:19:10.525662 server.go:3217: http: panic serving [::1]:54786: runtime error: invalid memory address or nil pointer dereference
goroutine 31 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000220060?, 0xc00048e178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000141000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000141000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000141000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000141000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000141000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0002f62a0}, 0xc0001f2d00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc000198b49?, {0x1565930?, 0xc0002f62a0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc00022de90?}, {0x1565930, 0xc0002f62a0}, 0xc0001f2d00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00013c090, {0x1565b28, 0xc0001af650})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:19:35.631234 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 18:19:37.529938 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 18:19:37.530479 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 18:19:37.530632 ttdb.go:54: Opened Database
2023/09/14 18:19:37.709642 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 18:19:37.774568 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 18:19:37.774625 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 18:19:37.839041 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 18:19:37.936664 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 18:19:37.936696 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 18:19:38.011189 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 18:19:38.080593 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 18:19:38.080733 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 18:19:38.148862 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 18:19:38.216553 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 18:19:38.216663 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 18:19:38.281782 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 18:19:38.346147 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 18:19:38.346193 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 18:19:38.411135 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 18:19:38.529693 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 18:19:38.529852 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 18:19:38.594665 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 18:19:38.659940 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 18:19:38.660032 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 18:19:38.724833 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 18:19:38.789151 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 18:19:38.789206 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 18:19:38.855621 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 18:19:38.925097 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 18:19:38.925137 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 18:19:38.989844 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 18:19:39.057336 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 18:19:39.057392 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 18:19:39.122659 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 18:19:39.198024 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 18:19:39.198061 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 18:19:39.262586 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 18:19:39.340246 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 18:19:39.340293 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 18:19:39.407228 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 18:19:39.479066 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 18:19:39.479111 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 18:19:39.543397 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 18:19:39.609359 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 18:19:39.609388 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 18:19:39.674889 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 18:19:39.739077 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 18:19:39.739139 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 18:19:39.803871 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 18:19:39.869052 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 18:19:39.869120 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 18:19:39.933488 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 18:19:40.001236 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 18:19:40.001283 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 18:19:40.068425 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 18:19:40.135270 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 18:19:40.135312 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 18:19:40.200864 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 18:19:40.269926 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 18:19:40.269998 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 18:19:40.335428 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 18:19:40.408851 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 18:19:40.408920 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 18:19:40.474634 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 18:19:40.546468 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 18:19:40.546549 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 18:19:40.610601 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 18:19:40.677513 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 18:19:40.677598 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 18:19:40.677709 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 18:19:54.636062 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:19:54.636312 ttproxy.go:138: 	Request Query Params
2023/09/14 18:19:54.636545 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:19:54.636566 ttgethandler.go:15: Path = /spa
2023/09/14 18:19:54.636831 tttmplts.go:23: Using Default SPA template
2023/09/14 18:19:54.825912 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:19:54.834709 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:19:54.836035 server.go:3217: http: panic serving [::1]:54814: runtime error: invalid memory address or nil pointer dereference
goroutine 38 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc00024a690?, 0xc000430178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00037e000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc00024fea0}, 0xc000362000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc00025a309?, {0x1565930?, 0xc00024fea0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000207050?}, {0x1565930, 0xc00024fea0}, 0xc000362000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0001d4a20, {0x1565b28, 0xc0001aeed0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:19:54.838052 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:19:54.838134 ttproxy.go:138: 	Request Query Params
2023/09/14 18:19:54.838196 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:19:54.838219 ttgethandler.go:15: Path = /spa
2023/09/14 18:19:54.838237 tttmplts.go:23: Using Default SPA template
2023/09/14 18:19:54.932731 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:19:54.939009 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:19:54.939645 server.go:3217: http: panic serving [::1]:54815: runtime error: invalid memory address or nil pointer dereference
goroutine 39 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc000096150?, 0xc0004ee178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00037f000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00037f000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00037f000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00037f000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00037f000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0003807e0}, 0xc0001c6100)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc00045cc89?, {0x1565930?, 0xc0003807e0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001af020?}, {0x1565930, 0xc0003807e0}, 0xc0001c6100)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0001d4ab0, {0x1565b28, 0xc0001aeed0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:19:54.941357 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:19:54.941462 ttproxy.go:138: 	Request Query Params
2023/09/14 18:19:54.941640 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:19:54.941678 ttgethandler.go:15: Path = /spa
2023/09/14 18:19:54.941701 tttmplts.go:23: Using Default SPA template
2023/09/14 18:19:55.033619 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:19:55.036924 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:34: undefined variable "$pat"
2023/09/14 18:19:55.037418 server.go:3217: http: panic serving [::1]:54816: runtime error: invalid memory address or nil pointer dereference
goroutine 59 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434e00, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1842?, {0xc0000961f8?, 0xc000268178?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00037e000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00037e000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x1565930, 0xc0003802a0}, 0xc0001c6f00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xf2
net/http.HandlerFunc.ServeHTTP(0xc000198b09?, {0x1565930?, 0xc0003802a0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc00013c420?}, {0x1565930, 0xc0003802a0}, 0xc0001c6f00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc000212000, {0x1565b28, 0xc0001aeed0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 18:22:44.643321 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 18:22:47.587390 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 18:22:47.587851 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 18:22:47.588014 ttdb.go:54: Opened Database
2023/09/14 18:22:47.788226 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 18:22:47.865361 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 18:22:47.865420 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 18:22:47.952752 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 18:22:48.052996 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 18:22:48.053174 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 18:22:48.126097 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 18:22:48.194689 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 18:22:48.194849 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 18:22:48.261987 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 18:22:48.330451 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 18:22:48.330604 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 18:22:48.396672 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 18:22:48.463924 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 18:22:48.464084 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 18:22:48.531515 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 18:22:48.651887 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 18:22:48.652077 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 18:22:48.718347 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 18:22:48.785889 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 18:22:48.786056 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 18:22:48.853072 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 18:22:48.925146 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 18:22:48.925326 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 18:22:48.991338 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 18:22:49.056695 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 18:22:49.056847 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 18:22:49.122384 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 18:22:49.191108 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 18:22:49.191262 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 18:22:49.257355 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 18:22:49.344987 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 18:22:49.345127 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 18:22:49.411270 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 18:22:49.495058 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 18:22:49.495331 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 18:22:49.562853 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 18:22:49.634953 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 18:22:49.635114 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 18:22:49.707427 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 18:22:49.772915 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 18:22:49.773071 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 18:22:49.838361 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 18:22:49.904060 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 18:22:49.904140 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 18:22:49.971870 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 18:22:50.037011 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 18:22:50.037156 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 18:22:50.103997 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 18:22:50.176352 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 18:22:50.176587 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 18:22:50.245721 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 18:22:50.315103 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 18:22:50.315231 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 18:22:50.381380 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 18:22:50.451763 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 18:22:50.451926 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 18:22:50.517751 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 18:22:50.591309 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 18:22:50.591489 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 18:22:50.656950 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 18:22:50.727365 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 18:22:50.727442 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 18:22:50.792996 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 18:22:50.857952 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 18:22:50.857977 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 18:22:50.858109 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 18:22:53.985503 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:22:53.985853 ttproxy.go:138: 	Request Query Params
2023/09/14 18:22:53.986193 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:22:53.986216 ttgethandler.go:15: Path = /spa
2023/09/14 18:22:53.986494 tttmplts.go:23: Using Default SPA template
2023/09/14 18:22:54.182676 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:22:54.194493 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 18:22:54.200710 ttproxy.go:149: Response Status Code 200
2023/09/14 18:22:54.249021 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:22:54.249077 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:22:54.249137 ttproxy.go:138: 	Request Query Params
2023/09/14 18:22:54.249191 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:22:54.249212 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 18:22:54.249094 ttproxy.go:138: 	Request Query Params
2023/09/14 18:22:54.249473 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 18:22:54.249498 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 18:22:54.249788 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 18:22:54.353866 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 18:22:54.403542 ttproxy.go:149: Response Status Code 200
2023/09/14 18:22:54.426844 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 18:22:54.434160 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:22:54.438089 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 18:22:54.438268 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.438264 +0100 BST
2023/09/14 18:22:54.438819 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 18:22:54.438856 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 18:22:54.438958 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.443232 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 18:22:54.444122 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 18:22:54.444350 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:22:54.444738 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 18:22:54.445172 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 18:22:54.445265 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.445262 +0100 BST
2023/09/14 18:22:54.445576 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 18:22:54.445597 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 18:22:54.445677 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.445751 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 18:22:54.446060 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 18:22:54.446081 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 18:22:54.446513 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:22:54.446904 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 18:22:54.446958 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.446957 +0100 BST
2023/09/14 18:22:54.447270 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 18:22:54.447286 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 18:22:54.447351 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.447408 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 18:22:54.447725 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 18:22:54.447743 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:22:54.447940 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:22:54.448287 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 18:22:54.448354 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.448352 +0100 BST
2023/09/14 18:22:54.448640 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 18:22:54.448653 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 18:22:54.448707 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.448763 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 18:22:54.449049 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 18:22:54.449305 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:22:54.449521 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:22:54.450258 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 18:22:54.450327 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.450325 +0100 BST
2023/09/14 18:22:54.450481 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 18:22:54.450490 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 18:22:54.450527 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.450562 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 18:22:54.450691 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 18:22:54.450703 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:22:54.450816 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:22:54.450957 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 18:22:54.450981 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.45098 +0100 BST
2023/09/14 18:22:54.451082 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 18:22:54.451088 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 18:22:54.451113 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.451143 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 18:22:54.451264 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 18:22:54.451273 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:22:54.451366 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:22:54.451505 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 18:22:54.451536 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.451535 +0100 BST
2023/09/14 18:22:54.451652 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 18:22:54.451659 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 18:22:54.451687 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.451718 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 18:22:54.451838 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 18:22:54.451846 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:22:54.451931 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:22:54.452064 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 18:22:54.452094 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.452093 +0100 BST
2023/09/14 18:22:54.452210 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 18:22:54.452215 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 18:22:54.452241 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.452270 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 18:22:54.452380 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 18:22:54.452400 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:22:54.452583 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:22:54.452741 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 18:22:54.452766 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.452765 +0100 BST
2023/09/14 18:22:54.452921 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 18:22:54.452927 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:22:54.452959 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.452986 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 18:22:54.452991 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:22:54.452998 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:22:54.453197 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 18:22:54.453374 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 18:22:54.453400 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.453399 +0100 BST
2023/09/14 18:22:54.453547 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 18:22:54.453552 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:22:54.453581 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.453610 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 18:22:54.453752 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 18:22:54.453760 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 18:22:54.453946 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:22:54.454137 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 18:22:54.454169 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.454169 +0100 BST
2023/09/14 18:22:54.454330 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 18:22:54.454335 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 18:22:54.454363 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.454390 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 18:22:54.454394 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:22:54.454402 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:22:54.454591 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:22:54.454773 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 18:22:54.454801 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.4548 +0100 BST
2023/09/14 18:22:54.456298 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 18:22:54.456324 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 18:22:54.456560 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.456594 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 18:22:54.456599 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:22:54.456606 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:22:54.456693 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:22:54.456821 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 18:22:54.456847 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.456846 +0100 BST
2023/09/14 18:22:54.456954 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 18:22:54.456960 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 18:22:54.456984 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.457014 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 18:22:54.457125 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 18:22:54.457133 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:22:54.457213 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 18:22:54.457873 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 18:22:54.457971 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.457969 +0100 BST
2023/09/14 18:22:54.458198 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 18:22:54.458214 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 18:22:54.458265 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.458319 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 18:22:54.458523 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 18:22:54.458542 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 18:22:54.458939 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:22:54.459312 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 18:22:54.459362 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.459361 +0100 BST
2023/09/14 18:22:54.459640 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 18:22:54.459652 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 18:22:54.459699 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.459750 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 18:22:54.459759 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:22:54.459772 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:22:54.460028 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 18:22:54.460296 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 18:22:54.460336 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.460335 +0100 BST
2023/09/14 18:22:54.460565 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 18:22:54.460579 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 18:22:54.460619 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.460660 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 18:22:54.460900 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 18:22:54.460914 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 18:22:54.461252 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:22:54.461538 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 18:22:54.461577 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.461576 +0100 BST
2023/09/14 18:22:54.461824 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 18:22:54.461833 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 18:22:54.461873 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.461914 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 18:22:54.461921 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:22:54.461933 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:22:54.462254 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 18:22:54.462575 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 18:22:54.462617 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.462616 +0100 BST
2023/09/14 18:22:54.462902 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 18:22:54.462910 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 18:22:54.462962 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.463007 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 18:22:54.463014 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:22:54.463025 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 18:22:54.463309 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:22:54.463460 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 18:22:54.463498 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.463497 +0100 BST
2023/09/14 18:22:54.463507 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 50 Mins
2023/09/14 18:22:54.463557 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 18:22:54.463566 ttxdwconsumer.go:347: Workflow Time Remaining : 436h9m33.536436s
2023/09/14 18:22:54.463620 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.463662 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 18:22:54.463669 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:22:54.463684 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 18:22:54.463698 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 18:22:54.464200 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:22:54.464646 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 18:22:54.464685 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.464684 +0100 BST
2023/09/14 18:22:54.465083 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 18:22:54.465091 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:22:54.465131 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.465172 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 18:22:54.465179 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:22:54.465191 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 18:22:54.465601 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:22:54.466327 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 18:22:54.466367 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.466366 +0100 BST
2023/09/14 18:22:54.466632 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 18:22:54.466638 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 18:22:54.466664 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.466693 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 18:22:54.466699 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:22:54.466707 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 18:22:54.467011 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:22:54.467257 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 18:22:54.467282 ttxdwconsumer.go:330: Time Now 2023-09-14 18:22:54.467281 +0100 BST
2023/09/14 18:22:54.467287 ttxdwconsumer.go:336: Duration - 1 Days 8 Hrs 1 Mins
2023/09/14 18:22:54.467315 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 18:22:54.467325 ttxdwconsumer.go:347: Workflow Time Remaining : 447h58m34.532675s
2023/09/14 18:22:54.467351 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:22:54.467377 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 18:22:54.467381 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:22:54.467389 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 18:22:54.467419 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 18:22:54.467489 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 18:22:54.548410 ttproxy.go:149: Response Status Code 200
2023/09/14 18:22:54.580598 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:22:54.580684 ttproxy.go:138: 	Request Query Params
2023/09/14 18:22:54.580750 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:22:54.580769 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 18:22:54.582541 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:22:54.582588 ttproxy.go:138: 	Request Query Params
2023/09/14 18:22:54.582614 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 18:22:54.582628 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 18:22:54.582641 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 18:22:54.641840 ttproxy.go:149: Response Status Code 200
2023/09/14 18:22:54.647346 ttproxy.go:149: Response Status Code 200
2023/09/14 18:23:09.606208 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:23:09.606412 ttproxy.go:138: 	Request Query Params
2023/09/14 18:23:09.606497 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:23:09.606545 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 18:23:09.606517 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:23:09.606615 ttproxy.go:149: Response Status Code 200
2023/09/14 18:23:09.606673 ttproxy.go:138: 	Request Query Params
2023/09/14 18:23:09.606749 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 18:23:09.606765 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 18:23:09.668096 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 18:23:09.731424 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 18:23:09.731638 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 18:23:09.732355 ttproxy.go:149: Response Status Code 200
2023/09/14 18:23:12.509371 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:23:12.509486 ttproxy.go:138: 	Request Query Params
2023/09/14 18:23:12.509554 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 18:23:12.509601 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 18:23:12.509684 tttmplts.go:37: CGL Worker starting
2023/09/14 18:23:12.510019 tttmplts.go:30: PIXm Worker starting
2023/09/14 18:23:12.510926 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 18:23:12.514424 tthttp.go:164: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 18:23:12.514467 tthttp.go:164: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 18:23:12.755456 tthttp.go:178: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 18:23:12.760405 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 18:23:12.760553 tttmplts.go:39: CGL Worker done
2023/09/14 18:23:12.760599 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 18:23:17.512937 tthttp.go:178: Server Response - Status Code 0 
2023/09/14 18:23:17.513177 tttmplts.go:32: PIXm Worker done
2023/09/14 18:23:17.513221 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 18:23:17.513437 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 18:23:17.513587 tthttp.go:164: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[d59f2664-c417-457b-b0e9-70e729e04c11]]
2023/09/14 18:23:17.728773 tthttp.go:178: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 18:23:17.731968 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 18:23:17.733466 ttproxy.go:149: Response Status Code 200
2023/09/14 18:24:28.990029 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 18:24:31.879186 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 18:24:31.879672 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 18:24:31.879805 ttdb.go:54: Opened Database
2023/09/14 18:24:32.093534 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 18:24:32.172654 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 18:24:32.172707 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 18:24:32.257187 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 18:24:32.362922 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 18:24:32.363095 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 18:24:32.433791 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 18:24:32.502038 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 18:24:32.502060 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 18:24:32.568382 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 18:24:32.636214 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 18:24:32.636245 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 18:24:32.702824 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 18:24:32.768243 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 18:24:32.768390 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 18:24:32.835274 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 18:24:32.960213 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 18:24:32.960357 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 18:24:33.026277 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 18:24:33.093532 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 18:24:33.093624 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 18:24:33.159647 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 18:24:33.229603 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 18:24:33.229790 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 18:24:33.296272 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 18:24:33.364791 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 18:24:33.364860 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 18:24:33.430892 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 18:24:33.496330 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 18:24:33.496525 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 18:24:33.567352 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 18:24:33.648664 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 18:24:33.648822 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 18:24:33.715038 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 18:24:33.794866 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 18:24:33.794943 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 18:24:33.861887 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 18:24:33.933548 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 18:24:33.933696 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 18:24:34.004305 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 18:24:34.075861 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 18:24:34.076034 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 18:24:34.142717 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 18:24:34.208946 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 18:24:34.209126 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 18:24:34.274514 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 18:24:34.341642 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 18:24:34.341680 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 18:24:34.407543 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 18:24:34.474717 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 18:24:34.474829 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 18:24:34.539657 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 18:24:34.612031 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 18:24:34.612160 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 18:24:34.677328 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 18:24:34.748134 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 18:24:34.748335 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 18:24:34.818192 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 18:24:34.890857 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 18:24:34.891042 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 18:24:34.957976 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 18:24:35.029456 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 18:24:35.029541 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 18:24:35.096058 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 18:24:35.161204 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 18:24:35.161243 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 18:24:35.161389 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 18:24:38.923750 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:24:38.924115 ttproxy.go:138: 	Request Query Params
2023/09/14 18:24:38.924449 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:24:38.924489 ttgethandler.go:15: Path = /spa
2023/09/14 18:24:38.924769 tttmplts.go:23: Using Default SPA template
2023/09/14 18:24:39.112154 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:24:39.129330 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 18:24:39.135482 ttproxy.go:149: Response Status Code 200
2023/09/14 18:24:39.190550 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:24:39.190635 ttproxy.go:138: 	Request Query Params
2023/09/14 18:24:39.190690 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 18:24:39.190710 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 18:24:39.190729 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 18:24:39.190772 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:24:39.190813 ttproxy.go:138: 	Request Query Params
2023/09/14 18:24:39.190838 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:24:39.190850 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 18:24:39.253897 ttproxy.go:149: Response Status Code 200
2023/09/14 18:24:39.483977 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 18:24:39.554304 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 18:24:39.558579 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:24:39.560047 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 18:24:39.560199 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.560195 +0100 BST
2023/09/14 18:24:39.560806 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 18:24:39.560847 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 18:24:39.560992 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.561175 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 18:24:39.561753 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 18:24:39.561997 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:24:39.562420 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 18:24:39.562930 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 18:24:39.563020 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.563018 +0100 BST
2023/09/14 18:24:39.563398 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 18:24:39.563427 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 18:24:39.563518 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.563611 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 18:24:39.564033 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 18:24:39.564070 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 18:24:39.564795 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:24:39.565432 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 18:24:39.565519 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.565516 +0100 BST
2023/09/14 18:24:39.565929 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 18:24:39.565944 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 18:24:39.566010 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.566093 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 18:24:39.566547 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 18:24:39.566570 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:24:39.566803 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:24:39.567202 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 18:24:39.567266 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.567263 +0100 BST
2023/09/14 18:24:39.567604 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 18:24:39.567619 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 18:24:39.567693 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.567765 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 18:24:39.568118 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 18:24:39.568341 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:24:39.568602 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:24:39.569023 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 18:24:39.569093 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.569091 +0100 BST
2023/09/14 18:24:39.569633 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 18:24:39.569657 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 18:24:39.569733 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.569829 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 18:24:39.570199 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 18:24:39.570226 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:24:39.570457 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:24:39.570805 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 18:24:39.570875 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.570873 +0100 BST
2023/09/14 18:24:39.571143 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 18:24:39.571158 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 18:24:39.571220 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.571286 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 18:24:39.571546 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 18:24:39.571564 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:24:39.571775 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:24:39.572599 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 18:24:39.572669 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.572667 +0100 BST
2023/09/14 18:24:39.572938 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 18:24:39.572952 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 18:24:39.573014 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.573077 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 18:24:39.573348 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 18:24:39.573366 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:24:39.573530 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:24:39.573761 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 18:24:39.573797 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.573796 +0100 BST
2023/09/14 18:24:39.573902 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 18:24:39.573910 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 18:24:39.573934 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.573970 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 18:24:39.574069 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 18:24:39.574089 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:24:39.574261 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:24:39.574403 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 18:24:39.574426 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.574425 +0100 BST
2023/09/14 18:24:39.574539 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 18:24:39.574544 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:24:39.574568 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.574591 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 18:24:39.574595 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:24:39.574605 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:24:39.574701 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 18:24:39.574833 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 18:24:39.574855 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.574854 +0100 BST
2023/09/14 18:24:39.574963 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 18:24:39.574968 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:24:39.574989 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.575012 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 18:24:39.575122 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 18:24:39.575129 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 18:24:39.575489 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:24:39.575753 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 18:24:39.575787 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.575786 +0100 BST
2023/09/14 18:24:39.576447 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 18:24:39.576455 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 18:24:39.576484 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.576505 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 18:24:39.576509 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:24:39.576515 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:24:39.576679 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:24:39.576867 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 18:24:39.576898 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.576897 +0100 BST
2023/09/14 18:24:39.577038 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 18:24:39.577044 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 18:24:39.577065 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.577087 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 18:24:39.577092 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:24:39.577098 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:24:39.577180 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:24:39.577299 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 18:24:39.577321 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.577321 +0100 BST
2023/09/14 18:24:39.577412 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 18:24:39.577417 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 18:24:39.577441 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.577464 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 18:24:39.577554 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 18:24:39.577561 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:24:39.577636 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 18:24:39.578034 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 18:24:39.578073 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.578072 +0100 BST
2023/09/14 18:24:39.578179 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 18:24:39.578186 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 18:24:39.578210 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.578234 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 18:24:39.578328 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 18:24:39.578337 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 18:24:39.578514 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:24:39.578659 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 18:24:39.578732 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.57873 +0100 BST
2023/09/14 18:24:39.578897 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 18:24:39.578907 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 18:24:39.578934 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.578959 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 18:24:39.578964 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:24:39.578972 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:24:39.579110 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 18:24:39.579260 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 18:24:39.579280 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.579279 +0100 BST
2023/09/14 18:24:39.579405 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 18:24:39.579412 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 18:24:39.579434 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.579456 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 18:24:39.579587 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 18:24:39.579595 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 18:24:39.579767 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:24:39.579923 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 18:24:39.579955 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.579954 +0100 BST
2023/09/14 18:24:39.580088 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 18:24:39.580093 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 18:24:39.580114 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.580136 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 18:24:39.580140 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:24:39.580146 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:24:39.580321 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 18:24:39.580492 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 18:24:39.580512 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.580511 +0100 BST
2023/09/14 18:24:39.580638 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 18:24:39.580642 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 18:24:39.580663 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.580688 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 18:24:39.580692 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:24:39.580697 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 18:24:39.580859 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:24:39.580937 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 18:24:39.580957 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.580956 +0100 BST
2023/09/14 18:24:39.580961 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 52 Mins
2023/09/14 18:24:39.580987 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 18:24:39.580991 ttxdwconsumer.go:347: Workflow Time Remaining : 436h7m48.419009s
2023/09/14 18:24:39.581018 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.581038 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 18:24:39.581042 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:24:39.581048 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 18:24:39.581055 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 18:24:39.581298 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:24:39.581502 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 18:24:39.581531 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.58153 +0100 BST
2023/09/14 18:24:39.581724 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 18:24:39.581728 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:24:39.581748 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.581777 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 18:24:39.581781 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:24:39.581786 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 18:24:39.582011 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:24:39.582189 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 18:24:39.582209 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.582208 +0100 BST
2023/09/14 18:24:39.582386 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 18:24:39.582390 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 18:24:39.582428 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.582448 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 18:24:39.582451 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:24:39.582456 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 18:24:39.582703 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:24:39.583089 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 18:24:39.583215 ttxdwconsumer.go:330: Time Now 2023-09-14 18:24:39.583213 +0100 BST
2023/09/14 18:24:39.583225 ttxdwconsumer.go:336: Duration - 1 Days 8 Hrs 3 Mins
2023/09/14 18:24:39.583337 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 18:24:39.583343 ttxdwconsumer.go:347: Workflow Time Remaining : 447h56m49.416658s
2023/09/14 18:24:39.583382 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:24:39.584431 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 18:24:39.584458 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:24:39.584470 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 18:24:39.584520 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 18:24:39.584557 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 18:24:39.672024 ttproxy.go:149: Response Status Code 200
2023/09/14 18:24:39.695712 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:24:39.695784 ttproxy.go:138: 	Request Query Params
2023/09/14 18:24:39.695836 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:24:39.695857 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 18:24:39.698404 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:24:39.698440 ttproxy.go:138: 	Request Query Params
2023/09/14 18:24:39.698459 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 18:24:39.698467 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 18:24:39.698923 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 18:24:39.759249 ttproxy.go:149: Response Status Code 200
2023/09/14 18:24:39.760412 ttproxy.go:149: Response Status Code 200
2023/09/14 18:24:48.999523 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:24:48.999643 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:24:48.999681 ttproxy.go:138: 	Request Query Params
2023/09/14 18:24:48.999708 ttproxy.go:138: 	Request Query Params
2023/09/14 18:24:48.999763 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:24:49.000255 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 18:24:49.000289 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 18:24:49.000280 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 18:24:49.000404 ttproxy.go:149: Response Status Code 200
2023/09/14 18:24:49.061752 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 18:24:49.123906 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 18:24:49.124100 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 18:24:49.124588 ttproxy.go:149: Response Status Code 200
2023/09/14 18:24:51.340890 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:24:51.341048 ttproxy.go:138: 	Request Query Params
2023/09/14 18:24:51.341122 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 18:24:51.341149 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 18:24:51.341243 tttmplts.go:37: CGL Worker starting
2023/09/14 18:24:51.341255 tttmplts.go:30: PIXm Worker starting
2023/09/14 18:24:51.341726 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 18:24:51.343666 tthttp.go:164: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 18:24:51.343681 tthttp.go:164: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 18:24:51.568399 tthttp.go:178: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 18:24:51.570905 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 18:24:51.570979 tttmplts.go:39: CGL Worker done
2023/09/14 18:24:51.570996 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 18:24:56.343651 tthttp.go:178: Server Response - Status Code 0 
2023/09/14 18:24:56.343991 tttmplts.go:32: PIXm Worker done
2023/09/14 18:24:56.344073 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 18:24:56.344471 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 18:24:56.344691 tthttp.go:164: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[4c26b5dd-ddb8-4b96-987d-ddd5b67e3c44]]
2023/09/14 18:24:56.516636 tthttp.go:178: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 18:24:56.519595 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 18:24:56.522982 tttmplts.go:93: template: pdsretrieve_tmplt:12:8: executing "pdsretrieve_tmplt" at <.name>: can't evaluate field name in type *main.Trans
2023/09/14 18:24:56.523115 ttproxy.go:105: template: pdsretrieve_tmplt:12:8: executing "pdsretrieve_tmplt" at <.name>: can't evaluate field name in type *main.Trans
2023/09/14 18:24:56.523169 ttproxy.go:149: Response Status Code 500
2023/09/14 18:24:56.523185 ttproxy.go:151: 
2023/09/14 18:24:56.523199 ttproxy.go:152: Response Headers
2023/09/14 18:24:56.523299 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 18:24:56.523321 ttproxy.go:154: ----------------
2023/09/14 18:24:56.523343 ttproxy.go:155: Response
2023/09/14 18:24:56.523359 ttproxy.go:156: ----------------
2023/09/14 18:24:56.523791 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:54920",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 18:24:56.523812 ttproxy.go:158: -------------
2023/09/14 18:24:56.523832 ttproxy.go:160: Error template: pdsretrieve_tmplt:12:8: executing "pdsretrieve_tmplt" at <.name>: can't evaluate field name in type *main.Trans
2023/09/14 18:24:56.523844 ttproxy.go:161: -------------
2023/09/14 18:26:36.848762 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 18:26:39.532523 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 18:26:39.533002 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 18:26:39.533134 ttdb.go:54: Opened Database
2023/09/14 18:26:39.706722 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 18:26:39.772070 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 18:26:39.772341 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 18:26:39.835463 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 18:26:39.934443 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 18:26:39.934485 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 18:26:40.026223 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 18:26:40.128549 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 18:26:40.128589 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 18:26:40.206352 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 18:26:40.326069 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 18:26:40.326121 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 18:26:40.426703 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 18:26:40.544752 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 18:26:40.544817 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 18:26:40.608465 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 18:26:40.726598 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 18:26:40.726758 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 18:26:40.789147 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 18:26:40.852765 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 18:26:40.852846 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 18:26:40.917330 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 18:26:40.980343 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 18:26:40.980492 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 18:26:41.047524 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 18:26:41.110119 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 18:26:41.110195 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 18:26:41.172630 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 18:26:41.235125 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 18:26:41.235198 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 18:26:41.297294 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 18:26:41.372260 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 18:26:41.372410 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 18:26:41.434086 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 18:26:41.512772 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 18:26:41.512896 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 18:26:41.575654 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 18:26:41.650119 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 18:26:41.650258 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 18:26:41.712164 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 18:26:41.774341 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 18:26:41.774493 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 18:26:41.836455 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 18:26:41.897998 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 18:26:41.898088 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 18:26:41.961052 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 18:26:42.023347 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 18:26:42.023492 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 18:26:42.088264 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 18:26:42.152434 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 18:26:42.152547 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 18:26:42.214619 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 18:26:42.281138 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 18:26:42.281346 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 18:26:42.346758 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 18:26:42.415124 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 18:26:42.415284 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 18:26:42.481265 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 18:26:42.550418 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 18:26:42.550554 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 18:26:42.613927 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 18:26:42.681264 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 18:26:42.681424 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 18:26:42.753409 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 18:26:42.822276 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 18:26:42.822348 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 18:26:42.822509 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 18:26:47.787945 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:26:47.788527 ttproxy.go:138: 	Request Query Params
2023/09/14 18:26:47.789098 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 18:26:47.789149 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 18:26:47.789934 tttmplts.go:37: CGL Worker starting
2023/09/14 18:26:47.789944 tttmplts.go:30: PIXm Worker starting
2023/09/14 18:26:47.791098 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 18:26:47.793720 tthttp.go:164: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 18:26:47.793749 tthttp.go:164: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 18:26:47.974518 tthttp.go:178: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 18:26:47.977532 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 18:26:47.977632 tttmplts.go:39: CGL Worker done
2023/09/14 18:26:47.977660 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 18:26:52.791588 tthttp.go:178: Server Response - Status Code 0 
2023/09/14 18:26:52.792106 tttmplts.go:32: PIXm Worker done
2023/09/14 18:26:52.792185 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 18:26:52.792489 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 18:26:52.792692 tthttp.go:164: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[3273a94e-9cfa-4f94-9306-2560b14692e8]]
2023/09/14 18:26:53.002050 tthttp.go:178: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 18:26:53.187174 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:26:53.197115 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 18:26:53.199958 tttmplts.go:93: template: pdsretrieve_tmplt:12:20: executing "pdsretrieve_tmplt" at <.PDSResponse.Response.name>: can't evaluate field name in type interface {}
2023/09/14 18:26:53.200160 ttproxy.go:105: template: pdsretrieve_tmplt:12:20: executing "pdsretrieve_tmplt" at <.PDSResponse.Response.name>: can't evaluate field name in type interface {}
2023/09/14 18:26:53.200211 ttproxy.go:149: Response Status Code 500
2023/09/14 18:26:53.200228 ttproxy.go:151: 
2023/09/14 18:26:53.200242 ttproxy.go:152: Response Headers
2023/09/14 18:26:53.200343 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 18:26:53.200364 ttproxy.go:154: ----------------
2023/09/14 18:26:53.200375 ttproxy.go:155: Response
2023/09/14 18:26:53.200385 ttproxy.go:156: ----------------
2023/09/14 18:26:53.201048 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:54957",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 18:26:53.201126 ttproxy.go:158: -------------
2023/09/14 18:26:53.201144 ttproxy.go:160: Error template: pdsretrieve_tmplt:12:20: executing "pdsretrieve_tmplt" at <.PDSResponse.Response.name>: can't evaluate field name in type interface {}
2023/09/14 18:26:53.201157 ttproxy.go:161: -------------
2023/09/14 18:26:55.146981 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:26:55.147174 ttproxy.go:138: 	Request Query Params
2023/09/14 18:26:55.147277 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:26:55.147315 ttgethandler.go:15: Path = /spa
2023/09/14 18:26:55.147361 tttmplts.go:23: Using Default SPA template
2023/09/14 18:26:55.147387 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 18:26:55.149144 ttproxy.go:149: Response Status Code 200
2023/09/14 18:26:55.195623 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:26:55.195707 ttproxy.go:138: 	Request Query Params
2023/09/14 18:26:55.195767 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 18:26:55.195793 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 18:26:55.195815 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 18:26:55.196224 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:26:55.196274 ttproxy.go:138: 	Request Query Params
2023/09/14 18:26:55.196297 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:26:55.196309 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 18:26:55.255667 ttproxy.go:149: Response Status Code 200
2023/09/14 18:26:55.503087 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 18:26:55.576344 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 18:26:55.577684 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:26:55.579339 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 18:26:55.579439 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.579436 +0100 BST
2023/09/14 18:26:55.580022 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 18:26:55.580056 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 18:26:55.580140 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.580208 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 18:26:55.580548 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 18:26:55.580745 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:26:55.581084 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 18:26:55.581524 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 18:26:55.581598 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.581596 +0100 BST
2023/09/14 18:26:55.581843 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 18:26:55.581866 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 18:26:55.581932 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.581987 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 18:26:55.582247 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 18:26:55.582287 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 18:26:55.582833 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:26:55.583245 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 18:26:55.583303 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.583301 +0100 BST
2023/09/14 18:26:55.583631 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 18:26:55.583646 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 18:26:55.583703 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.583763 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 18:26:55.584101 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 18:26:55.584122 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:26:55.584333 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:26:55.584765 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 18:26:55.584980 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.584976 +0100 BST
2023/09/14 18:26:55.585409 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 18:26:55.585443 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 18:26:55.585528 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.585596 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 18:26:55.585910 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 18:26:55.586147 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:26:55.586391 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:26:55.587069 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 18:26:55.587165 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.587142 +0100 BST
2023/09/14 18:26:55.587522 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 18:26:55.587542 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 18:26:55.587610 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.587679 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 18:26:55.587975 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 18:26:55.587997 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:26:55.588217 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:26:55.588525 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 18:26:55.588581 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.58858 +0100 BST
2023/09/14 18:26:55.588857 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 18:26:55.588901 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 18:26:55.588995 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.589059 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 18:26:55.589336 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 18:26:55.589357 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:26:55.589550 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:26:55.589843 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 18:26:55.589899 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.589897 +0100 BST
2023/09/14 18:26:55.590652 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 18:26:55.590931 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 18:26:55.591073 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.591160 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 18:26:55.593098 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 18:26:55.593185 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:26:55.593437 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:26:55.593796 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 18:26:55.593858 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.593856 +0100 BST
2023/09/14 18:26:55.594103 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 18:26:55.594118 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 18:26:55.594175 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.594239 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 18:26:55.594494 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 18:26:55.594528 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:26:55.594944 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:26:55.595597 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 18:26:55.595666 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.595664 +0100 BST
2023/09/14 18:26:55.595971 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 18:26:55.595987 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:26:55.596058 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.596124 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 18:26:55.596136 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:26:55.596155 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:26:55.596433 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 18:26:55.596769 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 18:26:55.596833 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.596831 +0100 BST
2023/09/14 18:26:55.597127 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 18:26:55.597140 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:26:55.597195 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.597288 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 18:26:55.597642 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 18:26:55.597669 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 18:26:55.598110 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:26:55.598525 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 18:26:55.598580 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.598579 +0100 BST
2023/09/14 18:26:55.598904 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 18:26:55.598920 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 18:26:55.599013 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.599070 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 18:26:55.599081 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:26:55.599097 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:26:55.599476 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:26:55.599880 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 18:26:55.599936 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.599934 +0100 BST
2023/09/14 18:26:55.600238 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 18:26:55.600250 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 18:26:55.600299 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.600350 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 18:26:55.600359 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:26:55.600374 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:26:55.600541 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:26:55.600897 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 18:26:55.600964 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.600962 +0100 BST
2023/09/14 18:26:55.601089 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 18:26:55.601103 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 18:26:55.601130 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.601161 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 18:26:55.601265 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 18:26:55.601275 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:26:55.601391 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 18:26:55.601518 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 18:26:55.601541 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.60154 +0100 BST
2023/09/14 18:26:55.601654 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 18:26:55.601660 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 18:26:55.601684 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.601716 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 18:26:55.601815 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 18:26:55.601824 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 18:26:55.602011 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:26:55.602168 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 18:26:55.602192 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.602191 +0100 BST
2023/09/14 18:26:55.602329 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 18:26:55.602335 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 18:26:55.602359 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.602383 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 18:26:55.602388 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:26:55.602395 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:26:55.602546 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 18:26:55.602707 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 18:26:55.602731 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.60273 +0100 BST
2023/09/14 18:26:55.602874 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 18:26:55.602880 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 18:26:55.602903 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.602929 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 18:26:55.603068 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 18:26:55.603077 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 18:26:55.603254 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:26:55.603803 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 18:26:55.603828 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.603827 +0100 BST
2023/09/14 18:26:55.603970 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 18:26:55.603975 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 18:26:55.603998 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.604023 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 18:26:55.604027 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:26:55.604034 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:26:55.604221 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 18:26:55.604398 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 18:26:55.604421 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.604421 +0100 BST
2023/09/14 18:26:55.604577 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 18:26:55.604583 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 18:26:55.604614 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.604644 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 18:26:55.604649 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:26:55.604655 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 18:26:55.605014 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:26:55.605231 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 18:26:55.605292 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.60529 +0100 BST
2023/09/14 18:26:55.605304 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 54 Mins
2023/09/14 18:26:55.605385 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 18:26:55.605398 ttxdwconsumer.go:347: Workflow Time Remaining : 436h5m32.394604s
2023/09/14 18:26:55.605477 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.605540 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 18:26:55.605551 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:26:55.605570 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 18:26:55.605590 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 18:26:55.606302 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:26:55.606967 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 18:26:55.607029 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.607027 +0100 BST
2023/09/14 18:26:55.607853 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 18:26:55.607866 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:26:55.607905 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.607944 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 18:26:55.607949 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:26:55.608061 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 18:26:55.609140 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:26:55.609409 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 18:26:55.609438 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.609437 +0100 BST
2023/09/14 18:26:55.609650 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 18:26:55.609656 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 18:26:55.609681 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.609711 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 18:26:55.609716 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:26:55.609728 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 18:26:55.610039 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:26:55.610290 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 18:26:55.610318 ttxdwconsumer.go:330: Time Now 2023-09-14 18:26:55.610317 +0100 BST
2023/09/14 18:26:55.610323 ttxdwconsumer.go:336: Duration - 1 Days 8 Hrs 5 Mins
2023/09/14 18:26:55.610352 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 18:26:55.610357 ttxdwconsumer.go:347: Workflow Time Remaining : 447h54m33.389643s
2023/09/14 18:26:55.610389 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:26:55.610418 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 18:26:55.610423 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:26:55.610434 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 18:26:55.610463 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 18:26:55.610528 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 18:26:55.702276 ttproxy.go:149: Response Status Code 200
2023/09/14 18:26:55.741458 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:26:55.741513 ttproxy.go:138: 	Request Query Params
2023/09/14 18:26:55.741550 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:26:55.741623 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 18:26:55.743905 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:26:55.744005 ttproxy.go:138: 	Request Query Params
2023/09/14 18:26:55.744050 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 18:26:55.744072 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 18:26:55.744096 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 18:26:55.802891 ttproxy.go:149: Response Status Code 200
2023/09/14 18:26:55.809472 ttproxy.go:149: Response Status Code 200
2023/09/14 18:27:10.838652 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:27:10.838813 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:27:10.838886 ttproxy.go:138: 	Request Query Params
2023/09/14 18:27:10.838826 ttproxy.go:138: 	Request Query Params
2023/09/14 18:27:10.838967 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 18:27:10.838988 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 18:27:10.839377 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:27:10.839475 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 18:27:10.839562 ttproxy.go:149: Response Status Code 200
2023/09/14 18:27:10.902362 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 18:27:10.964736 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 18:27:10.964948 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 18:27:10.965448 ttproxy.go:149: Response Status Code 200
2023/09/14 18:27:13.115274 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:27:13.115405 ttproxy.go:138: 	Request Query Params
2023/09/14 18:27:13.115480 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 18:27:13.115505 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 18:27:13.115545 tttmplts.go:37: CGL Worker starting
2023/09/14 18:27:13.115562 tttmplts.go:30: PIXm Worker starting
2023/09/14 18:27:13.115660 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 18:27:13.115880 tthttp.go:164: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 18:27:13.116081 tthttp.go:164: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 18:27:13.186535 tthttp.go:178: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 18:27:13.186927 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 18:27:13.186978 tttmplts.go:39: CGL Worker done
2023/09/14 18:27:13.187004 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 18:27:18.116955 tthttp.go:178: Server Response - Status Code 0 
2023/09/14 18:27:18.117141 tttmplts.go:32: PIXm Worker done
2023/09/14 18:27:18.117172 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 18:27:18.117219 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 18:27:18.117384 tthttp.go:164: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[853e032c-0ca9-446c-9d48-bc4e477f5bfd]]
2023/09/14 18:27:18.160520 tthttp.go:178: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 18:27:18.161132 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 18:27:18.161782 tttmplts.go:93: template: pdsretrieve_tmplt:12:20: executing "pdsretrieve_tmplt" at <.PDSResponse.Response.name>: can't evaluate field name in type interface {}
2023/09/14 18:27:18.161808 ttproxy.go:105: template: pdsretrieve_tmplt:12:20: executing "pdsretrieve_tmplt" at <.PDSResponse.Response.name>: can't evaluate field name in type interface {}
2023/09/14 18:27:18.161828 ttproxy.go:149: Response Status Code 500
2023/09/14 18:27:18.161839 ttproxy.go:151: 
2023/09/14 18:27:18.161847 ttproxy.go:152: Response Headers
2023/09/14 18:27:18.161892 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 18:27:18.161902 ttproxy.go:154: ----------------
2023/09/14 18:27:18.161910 ttproxy.go:155: Response
2023/09/14 18:27:18.161916 ttproxy.go:156: ----------------
2023/09/14 18:27:18.162136 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:54957",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 18:27:18.162167 ttproxy.go:158: -------------
2023/09/14 18:27:18.162176 ttproxy.go:160: Error template: pdsretrieve_tmplt:12:20: executing "pdsretrieve_tmplt" at <.PDSResponse.Response.name>: can't evaluate field name in type interface {}
2023/09/14 18:27:18.162196 ttproxy.go:161: -------------
2023/09/14 18:48:06.083296 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 18:48:08.564426 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 18:48:08.564958 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 18:48:08.565097 ttdb.go:54: Opened Database
2023/09/14 18:48:08.758976 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 18:48:08.827521 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 18:48:08.827776 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 18:48:08.897598 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 18:48:09.001290 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 18:48:09.001416 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 18:48:09.068146 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 18:48:09.136020 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 18:48:09.136130 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 18:48:09.204105 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 18:48:09.272847 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 18:48:09.272934 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 18:48:09.341489 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 18:48:09.409293 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 18:48:09.409423 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 18:48:09.480198 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 18:48:09.605366 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 18:48:09.605545 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 18:48:09.675564 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 18:48:09.744643 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 18:48:09.744751 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 18:48:09.814188 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 18:48:09.882670 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 18:48:09.882842 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 18:48:09.951682 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 18:48:10.022109 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 18:48:10.022352 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 18:48:10.093918 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 18:48:10.164030 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 18:48:10.164087 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 18:48:10.231671 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 18:48:10.314469 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 18:48:10.314613 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 18:48:10.384213 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 18:48:10.468558 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 18:48:10.468720 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 18:48:10.537459 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 18:48:10.613330 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 18:48:10.613488 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 18:48:10.681157 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 18:48:10.754252 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 18:48:10.754416 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 18:48:10.826935 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 18:48:10.896924 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 18:48:10.897151 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 18:48:10.968144 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 18:48:11.035650 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 18:48:11.035809 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 18:48:11.104662 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 18:48:11.175262 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 18:48:11.175425 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 18:48:11.245708 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 18:48:11.317683 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 18:48:11.317849 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 18:48:11.387538 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 18:48:11.463097 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 18:48:11.463254 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 18:48:11.532932 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 18:48:11.609592 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 18:48:11.609732 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 18:48:11.677214 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 18:48:11.753133 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 18:48:11.753310 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 18:48:11.823042 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 18:48:11.892533 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 18:48:11.892622 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 18:48:11.892758 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 18:48:22.047204 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:48:22.047367 ttproxy.go:138: 	Request Query Params
2023/09/14 18:48:22.047700 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 18:48:22.047740 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 18:48:22.047785 tttmplts.go:30: PIXm Worker starting
2023/09/14 18:48:22.047910 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 18:48:22.047779 tttmplts.go:37: CGL Worker starting
2023/09/14 18:48:22.049343 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 18:48:22.049419 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 18:48:22.237555 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 18:48:22.240907 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 18:48:22.241020 tttmplts.go:39: CGL Worker done
2023/09/14 18:48:22.241056 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 18:48:27.048628 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 18:48:27.049238 tttmplts.go:32: PIXm Worker done
2023/09/14 18:48:27.049357 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 18:48:27.049978 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 18:48:27.050196 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[38d769f1-2226-4733-82d6-58626142c175]]
2023/09/14 18:48:27.396873 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 18:48:27.597267 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:48:27.602824 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 18:48:27.605553 tttmplts.go:93: template: pdsretrieve_tmplt:12:28: executing "pdsretrieve_tmplt" at <.PDSRetrieveResponse.name>: can't evaluate field name in type main.PDSRetrieveResponse
2023/09/14 18:48:27.605797 ttproxy.go:105: template: pdsretrieve_tmplt:12:28: executing "pdsretrieve_tmplt" at <.PDSRetrieveResponse.name>: can't evaluate field name in type main.PDSRetrieveResponse
2023/09/14 18:48:27.605844 ttproxy.go:149: Response Status Code 500
2023/09/14 18:48:27.605862 ttproxy.go:151: 
2023/09/14 18:48:27.605874 ttproxy.go:152: Response Headers
2023/09/14 18:48:27.605948 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 18:48:27.605964 ttproxy.go:154: ----------------
2023/09/14 18:48:27.605975 ttproxy.go:155: Response
2023/09/14 18:48:27.605985 ttproxy.go:156: ----------------
2023/09/14 18:48:27.606253 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:55397",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 18:48:27.606273 ttproxy.go:158: -------------
2023/09/14 18:48:27.606284 ttproxy.go:160: Error template: pdsretrieve_tmplt:12:28: executing "pdsretrieve_tmplt" at <.PDSRetrieveResponse.name>: can't evaluate field name in type main.PDSRetrieveResponse
2023/09/14 18:48:27.606503 ttproxy.go:161: -------------
2023/09/14 18:48:30.563545 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:48:30.563655 ttproxy.go:138: 	Request Query Params
2023/09/14 18:48:30.563709 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:48:30.563728 ttgethandler.go:15: Path = /spa
2023/09/14 18:48:30.563741 tttmplts.go:23: Using Default SPA template
2023/09/14 18:48:30.563755 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 18:48:30.565488 ttproxy.go:149: Response Status Code 200
2023/09/14 18:48:30.612942 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:48:30.613021 ttproxy.go:138: 	Request Query Params
2023/09/14 18:48:30.613058 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 18:48:30.613076 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 18:48:30.613093 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 18:48:30.613383 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:48:30.613427 ttproxy.go:138: 	Request Query Params
2023/09/14 18:48:30.613452 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:48:30.613470 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 18:48:30.715978 ttproxy.go:149: Response Status Code 200
2023/09/14 18:48:31.186095 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 18:48:31.254784 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 18:48:31.256529 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:48:31.260235 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 18:48:31.260334 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.260332 +0100 BST
2023/09/14 18:48:31.260852 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 18:48:31.260884 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 18:48:31.260985 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.261093 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 18:48:31.261903 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 18:48:31.262080 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:48:31.262337 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 18:48:31.262661 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 18:48:31.262716 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.262715 +0100 BST
2023/09/14 18:48:31.262942 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 18:48:31.262956 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 18:48:31.263014 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.263071 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 18:48:31.263291 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 18:48:31.263309 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 18:48:31.263684 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:48:31.264045 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 18:48:31.264098 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.264096 +0100 BST
2023/09/14 18:48:31.264395 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 18:48:31.264407 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 18:48:31.264460 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.264858 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 18:48:31.265441 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 18:48:31.265476 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:48:31.265768 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:48:31.266394 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 18:48:31.266490 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.266488 +0100 BST
2023/09/14 18:48:31.266975 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 18:48:31.267005 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 18:48:31.267092 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.267183 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 18:48:31.268444 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 18:48:31.268637 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:48:31.268878 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:48:31.269202 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 18:48:31.269274 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.269272 +0100 BST
2023/09/14 18:48:31.269552 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 18:48:31.269565 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 18:48:31.269622 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.269675 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 18:48:31.270011 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 18:48:31.270035 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:48:31.270229 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:48:31.270684 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 18:48:31.270732 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.270731 +0100 BST
2023/09/14 18:48:31.270937 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 18:48:31.270949 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 18:48:31.270997 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.271048 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 18:48:31.271256 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 18:48:31.271272 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:48:31.271434 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:48:31.271676 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 18:48:31.271724 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.271723 +0100 BST
2023/09/14 18:48:31.271929 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 18:48:31.271944 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 18:48:31.271996 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.272049 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 18:48:31.272259 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 18:48:31.272277 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:48:31.272451 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:48:31.272788 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 18:48:31.272850 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.272849 +0100 BST
2023/09/14 18:48:31.273120 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 18:48:31.273147 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 18:48:31.273238 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.273313 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 18:48:31.273627 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 18:48:31.273680 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:48:31.274251 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:48:31.274640 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 18:48:31.274700 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.274698 +0100 BST
2023/09/14 18:48:31.275007 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 18:48:31.275024 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:48:31.275087 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.275151 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 18:48:31.275166 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:48:31.275184 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:48:31.275529 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 18:48:31.276081 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 18:48:31.276167 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.276164 +0100 BST
2023/09/14 18:48:31.276524 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 18:48:31.276549 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:48:31.276664 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.276774 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 18:48:31.277375 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 18:48:31.277455 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 18:48:31.277962 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:48:31.278739 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 18:48:31.279080 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.279074 +0100 BST
2023/09/14 18:48:31.280151 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 18:48:31.280186 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 18:48:31.280274 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.280356 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 18:48:31.280370 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:48:31.280388 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:48:31.280891 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:48:31.281468 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 18:48:31.281542 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.28154 +0100 BST
2023/09/14 18:48:31.281911 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 18:48:31.281926 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 18:48:31.281992 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.282057 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 18:48:31.282068 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:48:31.282085 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:48:31.282326 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 18:48:31.282692 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 18:48:31.282758 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.282756 +0100 BST
2023/09/14 18:48:31.283110 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 18:48:31.283125 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 18:48:31.283191 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.283260 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 18:48:31.283614 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 18:48:31.283635 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 18:48:31.283865 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 18:48:31.284265 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 18:48:31.284329 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.284327 +0100 BST
2023/09/14 18:48:31.284632 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 18:48:31.284647 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 18:48:31.284717 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.284783 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 18:48:31.285036 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 18:48:31.285055 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 18:48:31.285460 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:48:31.285991 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 18:48:31.286078 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.286076 +0100 BST
2023/09/14 18:48:31.286425 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 18:48:31.286442 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 18:48:31.286498 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.286557 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 18:48:31.286568 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:48:31.286584 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:48:31.286957 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 18:48:31.287682 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 18:48:31.287734 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.287732 +0100 BST
2023/09/14 18:48:31.288028 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 18:48:31.288039 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 18:48:31.288087 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.288140 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 18:48:31.288456 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 18:48:31.288472 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 18:48:31.288853 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:48:31.289206 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 18:48:31.289257 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.289256 +0100 BST
2023/09/14 18:48:31.289557 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 18:48:31.289568 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 18:48:31.289619 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.289669 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 18:48:31.289678 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:48:31.289691 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 18:48:31.290093 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 18:48:31.290554 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 18:48:31.290991 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.290976 +0100 BST
2023/09/14 18:48:31.291604 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 18:48:31.291733 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 18:48:31.292756 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.292810 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 18:48:31.292818 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:48:31.292830 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 18:48:31.293150 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 18:48:31.293316 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 18:48:31.293359 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.293358 +0100 BST
2023/09/14 18:48:31.293367 ttxdwconsumer.go:336: Duration - 1 Days 20 Hrs 16 Mins
2023/09/14 18:48:31.293416 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 18:48:31.293426 ttxdwconsumer.go:347: Workflow Time Remaining : 435h43m56.706576s
2023/09/14 18:48:31.293479 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.293523 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 18:48:31.293531 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:48:31.293544 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 18:48:31.293554 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 18:48:31.294112 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:48:31.294607 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 18:48:31.294651 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.29465 +0100 BST
2023/09/14 18:48:31.295394 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 18:48:31.295405 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 18:48:31.295495 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.295601 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 18:48:31.295620 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:48:31.295636 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 18:48:31.296126 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:48:31.296536 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 18:48:31.296584 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.296583 +0100 BST
2023/09/14 18:48:31.296956 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 18:48:31.296968 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 18:48:31.297015 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.297059 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 18:48:31.297069 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:48:31.297087 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 18:48:31.297613 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 18:48:31.298025 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 18:48:31.298069 ttxdwconsumer.go:330: Time Now 2023-09-14 18:48:31.298067 +0100 BST
2023/09/14 18:48:31.298078 ttxdwconsumer.go:336: Duration - 1 Days 8 Hrs 27 Mins
2023/09/14 18:48:31.298118 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 18:48:31.298127 ttxdwconsumer.go:347: Workflow Time Remaining : 447h32m57.701874s
2023/09/14 18:48:31.298166 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 18:48:31.298206 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 18:48:31.298214 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 18:48:31.298235 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 18:48:31.298289 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 18:48:31.298413 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 18:48:31.388404 ttproxy.go:149: Response Status Code 200
2023/09/14 18:48:31.437650 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:48:31.437710 ttproxy.go:138: 	Request Query Params
2023/09/14 18:48:31.437755 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:48:31.437772 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 18:48:31.439629 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:48:31.439669 ttproxy.go:138: 	Request Query Params
2023/09/14 18:48:31.439689 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 18:48:31.439696 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 18:48:31.439703 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 18:48:31.500088 ttproxy.go:149: Response Status Code 200
2023/09/14 18:48:31.500264 ttproxy.go:149: Response Status Code 200
2023/09/14 18:48:40.348994 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:48:40.349162 ttproxy.go:138: 	Request Query Params
2023/09/14 18:48:40.349247 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 18:48:40.349290 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 18:48:40.349257 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:48:40.349335 ttproxy.go:149: Response Status Code 200
2023/09/14 18:48:40.349994 ttproxy.go:138: 	Request Query Params
2023/09/14 18:48:40.350048 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 18:48:40.350084 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 18:48:40.413434 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 18:48:40.477584 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 18:48:40.477799 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 18:48:40.478446 ttproxy.go:149: Response Status Code 200
2023/09/14 18:48:43.725631 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:48:43.725795 ttproxy.go:138: 	Request Query Params
2023/09/14 18:48:43.725876 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 18:48:43.725907 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 18:48:43.725940 tttmplts.go:37: CGL Worker starting
2023/09/14 18:48:43.725952 tttmplts.go:30: PIXm Worker starting
2023/09/14 18:48:43.726062 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 18:48:43.726451 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 18:48:43.726470 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 18:48:43.824899 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 18:48:43.825359 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 18:48:43.825475 tttmplts.go:39: CGL Worker done
2023/09/14 18:48:43.825514 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 18:48:48.726591 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 18:48:48.727235 tttmplts.go:32: PIXm Worker done
2023/09/14 18:48:48.727545 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 18:48:48.727616 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 18:48:48.727760 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[ed3cffd0-3a6e-419d-ad61-065b689c4a06]]
2023/09/14 18:48:48.830108 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 18:48:48.830926 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 18:48:48.831926 tttmplts.go:93: template: pdsretrieve_tmplt:12:28: executing "pdsretrieve_tmplt" at <.PDSRetrieveResponse.name>: can't evaluate field name in type main.PDSRetrieveResponse
2023/09/14 18:48:48.831979 ttproxy.go:105: template: pdsretrieve_tmplt:12:28: executing "pdsretrieve_tmplt" at <.PDSRetrieveResponse.name>: can't evaluate field name in type main.PDSRetrieveResponse
2023/09/14 18:48:48.832028 ttproxy.go:149: Response Status Code 500
2023/09/14 18:48:48.832047 ttproxy.go:151: 
2023/09/14 18:48:48.832074 ttproxy.go:152: Response Headers
2023/09/14 18:48:48.832162 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 18:48:48.832187 ttproxy.go:154: ----------------
2023/09/14 18:48:48.832205 ttproxy.go:155: Response
2023/09/14 18:48:48.832230 ttproxy.go:156: ----------------
2023/09/14 18:48:48.832648 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:55411",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 18:48:48.832692 ttproxy.go:158: -------------
2023/09/14 18:48:48.832714 ttproxy.go:160: Error template: pdsretrieve_tmplt:12:28: executing "pdsretrieve_tmplt" at <.PDSRetrieveResponse.name>: can't evaluate field name in type main.PDSRetrieveResponse
2023/09/14 18:48:48.832731 ttproxy.go:161: -------------
2023/09/14 18:50:22.731744 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 18:50:25.302452 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 18:50:25.302918 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 18:50:25.303064 ttdb.go:54: Opened Database
2023/09/14 18:50:25.483646 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 18:50:25.559266 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 18:50:25.559322 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 18:50:25.639445 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 18:50:25.793923 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 18:50:25.794116 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 18:50:25.908923 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 18:50:26.040080 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 18:50:26.040241 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 18:50:26.135574 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 18:50:26.202798 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 18:50:26.202964 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 18:50:26.283241 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 18:50:26.349553 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 18:50:26.349704 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 18:50:26.415869 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 18:50:26.537608 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 18:50:26.537709 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 18:50:26.604238 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 18:50:26.669091 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 18:50:26.669198 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 18:50:26.734190 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 18:50:26.799382 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 18:50:26.799525 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 18:50:26.865020 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 18:50:26.931052 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 18:50:26.931195 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 18:50:27.002679 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 18:50:27.068299 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 18:50:27.068353 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 18:50:27.133550 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 18:50:27.209309 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 18:50:27.209344 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 18:50:27.274683 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 18:50:27.357438 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 18:50:27.357505 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 18:50:27.423319 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 18:50:27.492320 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 18:50:27.492412 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 18:50:27.560206 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 18:50:27.625500 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 18:50:27.625591 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 18:50:27.690792 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 18:50:27.755050 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 18:50:27.755129 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 18:50:27.819302 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 18:50:27.882723 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 18:50:27.882805 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 18:50:27.948062 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 18:50:28.014246 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 18:50:28.014305 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 18:50:28.077950 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 18:50:28.148486 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 18:50:28.148565 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 18:50:28.214199 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 18:50:28.285332 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 18:50:28.285493 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 18:50:28.351329 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 18:50:28.421189 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 18:50:28.421322 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 18:50:28.485925 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 18:50:28.555893 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 18:50:28.555982 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 18:50:28.621456 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 18:50:28.686382 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 18:50:28.686536 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 18:50:28.686862 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 18:50:35.975510 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:50:35.975708 ttproxy.go:138: 	Request Query Params
2023/09/14 18:50:35.976112 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 18:50:35.976152 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 18:50:35.976211 tttmplts.go:37: CGL Worker starting
2023/09/14 18:50:35.976216 tttmplts.go:30: PIXm Worker starting
2023/09/14 18:50:35.976901 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 18:50:35.978131 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 18:50:35.978149 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 18:50:36.169286 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 18:50:36.172246 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 18:50:36.172313 tttmplts.go:39: CGL Worker done
2023/09/14 18:50:36.172337 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 18:50:40.978142 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 18:50:40.978456 tttmplts.go:32: PIXm Worker done
2023/09/14 18:50:40.978514 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 18:50:40.978698 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 18:50:40.978881 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[63fbe45e-07e8-4977-98f3-23ebaafa3ead]]
2023/09/14 18:50:41.122793 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 18:50:41.311471 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:50:41.317775 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 18:50:41.320365 tttmplts.go:93: template: pdsretrieve_tmplt:14:10: executing "pdsretrieve_tmplt" at <.prefix>: can't evaluate field prefix in type struct { ID string "json:\"id,omitempty\""; Use string "json:\"use,omitempty\""; Period struct { Start string "json:\"start,omitempty\""; End string "json:\"end,omitempty\"" } "json:\"period,omitempty\""; Given []string "json:\"given,omitempty\""; Family string "json:\"family,omitempty\""; Prefix []string "json:\"prefix,omitempty\""; Suffix []string "json:\"suffix,omitempty\"" }
2023/09/14 18:50:41.320533 ttproxy.go:105: template: pdsretrieve_tmplt:14:10: executing "pdsretrieve_tmplt" at <.prefix>: can't evaluate field prefix in type struct { ID string "json:\"id,omitempty\""; Use string "json:\"use,omitempty\""; Period struct { Start string "json:\"start,omitempty\""; End string "json:\"end,omitempty\"" } "json:\"period,omitempty\""; Given []string "json:\"given,omitempty\""; Family string "json:\"family,omitempty\""; Prefix []string "json:\"prefix,omitempty\""; Suffix []string "json:\"suffix,omitempty\"" }
2023/09/14 18:50:41.320575 ttproxy.go:149: Response Status Code 500
2023/09/14 18:50:41.320588 ttproxy.go:151: 
2023/09/14 18:50:41.320599 ttproxy.go:152: Response Headers
2023/09/14 18:50:41.320704 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 18:50:41.320721 ttproxy.go:154: ----------------
2023/09/14 18:50:41.320732 ttproxy.go:155: Response
2023/09/14 18:50:41.320742 ttproxy.go:156: ----------------
2023/09/14 18:50:41.321117 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:55457",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 18:50:41.321137 ttproxy.go:158: -------------
2023/09/14 18:50:41.321148 ttproxy.go:160: Error template: pdsretrieve_tmplt:14:10: executing "pdsretrieve_tmplt" at <.prefix>: can't evaluate field prefix in type struct { ID string "json:\"id,omitempty\""; Use string "json:\"use,omitempty\""; Period struct { Start string "json:\"start,omitempty\""; End string "json:\"end,omitempty\"" } "json:\"period,omitempty\""; Given []string "json:\"given,omitempty\""; Family string "json:\"family,omitempty\""; Prefix []string "json:\"prefix,omitempty\""; Suffix []string "json:\"suffix,omitempty\"" }
2023/09/14 18:50:41.321158 ttproxy.go:161: -------------
2023/09/14 18:52:11.891630 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 18:52:14.564528 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 18:52:14.565026 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 18:52:14.565158 ttdb.go:54: Opened Database
2023/09/14 18:52:14.747178 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 18:52:14.817191 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 18:52:14.817317 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 18:52:14.883851 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 18:52:14.983396 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 18:52:14.983431 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 18:52:15.050747 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 18:52:15.121859 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 18:52:15.122031 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 18:52:15.190397 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 18:52:15.257284 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 18:52:15.257445 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 18:52:15.322620 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 18:52:15.388691 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 18:52:15.388730 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 18:52:15.456825 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 18:52:15.576328 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 18:52:15.576389 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 18:52:15.641659 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 18:52:15.705949 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 18:52:15.705991 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 18:52:15.771171 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 18:52:15.838048 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 18:52:15.838205 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 18:52:15.903203 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 18:52:15.970084 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 18:52:15.970242 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 18:52:16.037142 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 18:52:16.103072 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 18:52:16.103215 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 18:52:16.168522 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 18:52:16.247941 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 18:52:16.248105 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 18:52:16.312918 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 18:52:16.392555 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 18:52:16.392660 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 18:52:16.458881 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 18:52:16.530733 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 18:52:16.530848 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 18:52:16.597329 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 18:52:16.664343 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 18:52:16.664518 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 18:52:16.734885 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 18:52:16.801479 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 18:52:16.801574 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 18:52:16.869447 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 18:52:16.935378 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 18:52:16.935547 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 18:52:17.003465 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 18:52:17.072285 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 18:52:17.072348 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 18:52:17.137286 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 18:52:17.205873 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 18:52:17.206326 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 18:52:17.273146 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 18:52:17.344952 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 18:52:17.345239 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 18:52:17.412683 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 18:52:17.488344 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 18:52:17.488521 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 18:52:17.560462 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 18:52:17.646522 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 18:52:17.646707 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 18:52:17.748944 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 18:52:17.835996 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 18:52:17.836454 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 18:52:17.836786 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 18:52:22.365112 ttgethandler.go:10: Processing new GET Request
2023/09/14 18:52:22.365293 ttproxy.go:138: 	Request Query Params
2023/09/14 18:52:22.365662 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 18:52:22.365704 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 18:52:22.365751 tttmplts.go:37: CGL Worker starting
2023/09/14 18:52:22.365744 tttmplts.go:30: PIXm Worker starting
2023/09/14 18:52:22.366241 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 18:52:22.367572 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 18:52:22.367589 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 18:52:22.555192 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 18:52:22.562230 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 18:52:22.562400 tttmplts.go:39: CGL Worker done
2023/09/14 18:52:22.562436 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 18:52:27.367505 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 18:52:27.367782 tttmplts.go:32: PIXm Worker done
2023/09/14 18:52:27.367812 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 18:52:27.368025 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 18:52:27.368103 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[310cbbd1-626e-417d-bbda-ad11b82d271e]]
2023/09/14 18:52:27.500278 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 18:52:27.693778 tttmplts.go:100: Caching 24 Templates
2023/09/14 18:52:27.698121 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 18:52:27.701611 ttproxy.go:149: Response Status Code 200
2023/09/14 19:12:28.996319 ttserver.go:52: ICB Workflow Service stopped
