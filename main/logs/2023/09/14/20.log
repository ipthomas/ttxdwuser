2023/09/14 20:04:44.754882 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:04:44.755409 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:04:44.755543 ttdb.go:54: Opened Database
2023/09/14 20:04:44.970553 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:04:45.038921 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:04:45.038989 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:04:45.105320 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:04:45.208325 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:04:45.208479 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:04:45.272990 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:04:45.341369 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:04:45.341457 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:04:45.405113 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:04:45.470953 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:04:45.470982 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:04:45.536710 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:04:45.601090 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:04:45.601132 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:04:45.669641 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:04:45.788539 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:04:45.788592 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:04:45.853557 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:04:45.917846 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:04:45.917891 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:04:45.985745 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:04:46.053878 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:04:46.053928 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:04:46.119452 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:04:46.185691 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:04:46.185761 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:04:46.250646 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:04:46.317662 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:04:46.317751 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:04:46.383888 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:04:46.460922 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:04:46.461009 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:04:46.527304 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:04:46.609124 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:04:46.609213 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:04:46.674263 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:04:46.748002 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:04:46.748091 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:04:46.813580 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:04:46.876896 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:04:46.876943 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:04:46.943392 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:04:47.009673 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:04:47.009812 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:04:47.080558 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:04:47.146256 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:04:47.146411 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:04:47.212889 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:04:47.283346 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:04:47.283502 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:04:47.351042 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:04:47.419062 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:04:47.419200 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:04:47.484551 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:04:47.552703 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:04:47.552785 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:04:47.618156 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:04:47.690236 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:04:47.690416 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:04:47.756842 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:04:47.829002 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:04:47.829153 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:04:47.898448 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:04:47.963843 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:04:47.964066 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:04:47.964421 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:04:50.725538 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:04:50.725719 ttproxy.go:138: 	Request Query Params
2023/09/14 20:04:50.726111 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:04:50.726168 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:04:50.726215 tttmplts.go:37: CGL Worker starting
2023/09/14 20:04:50.726217 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:04:50.726700 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:04:50.728273 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:04:50.728293 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:04:50.942250 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:04:50.948510 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:04:50.948720 tttmplts.go:39: CGL Worker done
2023/09/14 20:04:50.948838 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:04:55.722011 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:04:55.722383 tttmplts.go:32: PIXm Worker done
2023/09/14 20:04:55.722430 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:04:55.722620 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:04:55.722848 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[201c3d1e-ac8d-4c3f-8045-2955b1bed04f]]
2023/09/14 20:04:55.894527 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:04:56.090885 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:04:56.098693 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:95: unexpected EOF
2023/09/14 20:04:56.099572 server.go:3217: http: panic serving [::1]:56803: runtime error: invalid memory address or nil pointer dereference
goroutine 20 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0000283d8?, 0xc000495fc0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000394000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000394000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setPatientTemplate(0xc000394000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:53 +0x1b1
main.(*Trans).newGetHandler(0xc000394000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:28 +0xd94
main.(*Trans).newProxyTrans(0xc000394000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc00022aa80}, 0xc00027c000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc00027e01f?, {0x15657d0?, 0xc00022aa80?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0002125a0?}, {0x15657d0, 0xc00022aa80}, 0xc00027c000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0001a6d80, {0x15659c8, 0xc0001990b0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:05:53.987213 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:05:55.396265 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:05:55.396763 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:05:55.396902 ttdb.go:54: Opened Database
2023/09/14 20:05:55.578736 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:05:55.644255 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:05:55.644304 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:05:55.708177 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:05:55.807169 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:05:55.807201 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:05:55.871289 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:05:55.939490 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:05:55.939530 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:05:56.005515 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:05:56.077849 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:05:56.077918 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:05:56.144954 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:05:56.208685 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:05:56.208728 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:05:56.276047 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:05:56.400856 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:05:56.401004 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:05:56.470642 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:05:56.546895 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:05:56.547027 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:05:56.633266 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:05:56.698929 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:05:56.698949 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:05:56.763801 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:05:56.828663 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:05:56.828693 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:05:56.892703 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:05:56.955422 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:05:56.955446 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:05:57.019542 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:05:57.094883 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:05:57.094916 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:05:57.157893 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:05:57.237459 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:05:57.237525 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:05:57.301707 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:05:57.371438 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:05:57.371464 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:05:57.436148 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:05:57.498682 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:05:57.498719 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:05:57.564471 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:05:57.628390 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:05:57.628483 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:05:57.692968 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:05:57.758372 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:05:57.758485 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:05:57.824431 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:05:57.893494 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:05:57.893579 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:05:57.957921 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:05:58.024697 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:05:58.024729 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:05:58.088062 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:05:58.156068 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:05:58.156304 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:05:58.220279 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:05:58.288799 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:05:58.288895 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:05:58.354770 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:05:58.426044 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:05:58.426184 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:05:58.489816 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:05:58.555651 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:05:58.555789 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:05:58.556131 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:06:01.614270 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:06:01.614404 ttproxy.go:138: 	Request Query Params
2023/09/14 20:06:01.614693 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:06:01.614718 ttgethandler.go:15: Path = /spa
2023/09/14 20:06:01.614732 tttmplts.go:23: Using Default SPA template
2023/09/14 20:06:01.799745 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:06:01.815407 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 20:06:01.818103 ttproxy.go:149: Response Status Code 200
2023/09/14 20:06:01.870996 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:06:01.871107 ttproxy.go:138: 	Request Query Params
2023/09/14 20:06:01.871195 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 20:06:01.871224 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:06:01.871262 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 20:06:01.872348 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:06:01.872439 ttproxy.go:138: 	Request Query Params
2023/09/14 20:06:01.872485 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:06:01.872506 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:06:01.934057 ttproxy.go:149: Response Status Code 200
2023/09/14 20:06:02.156026 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 20:06:02.225134 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:06:02.229370 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:06:02.233895 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 20:06:02.234061 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.234056 +0100 BST
2023/09/14 20:06:02.234675 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 20:06:02.234702 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 20:06:02.234806 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.234910 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 20:06:02.235454 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 20:06:02.235698 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:06:02.236060 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 20:06:02.236441 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 20:06:02.236506 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.236503 +0100 BST
2023/09/14 20:06:02.236805 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 20:06:02.236818 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 20:06:02.236882 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.236951 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 20:06:02.237244 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 20:06:02.237263 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 20:06:02.237778 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:06:02.238308 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 20:06:02.238382 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.238379 +0100 BST
2023/09/14 20:06:02.238767 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 20:06:02.238782 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 20:06:02.238849 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.238917 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 20:06:02.239307 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 20:06:02.239326 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:06:02.239577 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:06:02.240001 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 20:06:02.240073 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.240071 +0100 BST
2023/09/14 20:06:02.240400 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 20:06:02.240413 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 20:06:02.240480 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.240552 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 20:06:02.240884 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 20:06:02.241122 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:06:02.241377 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:06:02.241798 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 20:06:02.241870 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.241868 +0100 BST
2023/09/14 20:06:02.242222 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 20:06:02.242234 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 20:06:02.242298 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.242380 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 20:06:02.242744 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 20:06:02.242765 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:06:02.242990 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:06:02.243393 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 20:06:02.243458 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.243456 +0100 BST
2023/09/14 20:06:02.243738 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 20:06:02.243750 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 20:06:02.243812 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.243875 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 20:06:02.244117 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 20:06:02.244131 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:06:02.244298 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:06:02.244580 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 20:06:02.244646 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.244644 +0100 BST
2023/09/14 20:06:02.244869 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 20:06:02.244878 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 20:06:02.244926 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.244979 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 20:06:02.245210 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 20:06:02.245224 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:06:02.245398 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:06:02.245687 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 20:06:02.245738 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.245737 +0100 BST
2023/09/14 20:06:02.245964 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 20:06:02.245973 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 20:06:02.246026 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.246082 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 20:06:02.246317 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 20:06:02.246338 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:06:02.246707 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:06:02.247036 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 20:06:02.247087 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.247086 +0100 BST
2023/09/14 20:06:02.247362 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 20:06:02.247371 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:06:02.247426 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.247479 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 20:06:02.247487 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:06:02.247499 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:06:02.247754 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 20:06:02.248012 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 20:06:02.248049 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.248048 +0100 BST
2023/09/14 20:06:02.248179 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 20:06:02.248187 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:06:02.248217 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.248247 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 20:06:02.248367 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 20:06:02.248380 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 20:06:02.248584 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:06:02.248754 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 20:06:02.248777 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.248776 +0100 BST
2023/09/14 20:06:02.248916 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 20:06:02.248924 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 20:06:02.248950 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.248974 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 20:06:02.248993 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:06:02.249001 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:06:02.249168 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:06:02.249533 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 20:06:02.249784 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.249589 +0100 BST
2023/09/14 20:06:02.249972 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 20:06:02.249980 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 20:06:02.250011 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.250037 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 20:06:02.250041 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:06:02.250047 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:06:02.250132 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:06:02.250252 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 20:06:02.250273 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.250272 +0100 BST
2023/09/14 20:06:02.250362 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 20:06:02.250366 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 20:06:02.250387 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.250408 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 20:06:02.250505 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 20:06:02.250513 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:06:02.250589 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 20:06:02.250695 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 20:06:02.250715 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.250714 +0100 BST
2023/09/14 20:06:02.250803 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 20:06:02.250807 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 20:06:02.250828 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.250849 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 20:06:02.250942 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 20:06:02.250948 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 20:06:02.251111 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:06:02.251401 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 20:06:02.251494 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.251493 +0100 BST
2023/09/14 20:06:02.251696 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 20:06:02.251701 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 20:06:02.251722 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.251746 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 20:06:02.251749 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:06:02.251754 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:06:02.251889 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 20:06:02.252030 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 20:06:02.252052 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.252051 +0100 BST
2023/09/14 20:06:02.252172 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 20:06:02.252183 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 20:06:02.252204 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.252225 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 20:06:02.252370 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 20:06:02.252376 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 20:06:02.252547 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:06:02.252718 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 20:06:02.252738 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.252738 +0100 BST
2023/09/14 20:06:02.252983 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 20:06:02.253018 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 20:06:02.253063 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.253097 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 20:06:02.253102 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:06:02.253108 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:06:02.253285 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 20:06:02.253451 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 20:06:02.253472 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.253471 +0100 BST
2023/09/14 20:06:02.253598 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 20:06:02.253602 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 20:06:02.253622 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.253641 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 20:06:02.253644 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:06:02.253649 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 20:06:02.253780 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:06:02.253849 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 20:06:02.253875 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.253874 +0100 BST
2023/09/14 20:06:02.253878 ttxdwconsumer.go:336: Duration - 1 Days 21 Hrs 33 Mins
2023/09/14 20:06:02.253901 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:06:02.253905 ttxdwconsumer.go:347: Workflow Time Remaining : 434h26m25.746096s
2023/09/14 20:06:02.253933 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.253952 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:06:02.253955 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:06:02.253961 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 20:06:02.253965 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 20:06:02.254227 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:06:02.254469 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 20:06:02.254493 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.254493 +0100 BST
2023/09/14 20:06:02.254716 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 20:06:02.254720 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:06:02.254743 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.254763 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 20:06:02.254766 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:06:02.254771 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:06:02.255012 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:06:02.255185 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 20:06:02.255203 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.255203 +0100 BST
2023/09/14 20:06:02.255372 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 20:06:02.255376 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 20:06:02.255396 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.255415 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 20:06:02.255419 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:06:02.255433 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:06:02.255682 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:06:02.255866 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 20:06:02.255883 ttxdwconsumer.go:330: Time Now 2023-09-14 20:06:02.255883 +0100 BST
2023/09/14 20:06:02.255886 ttxdwconsumer.go:336: Duration - 1 Days 9 Hrs 44 Mins
2023/09/14 20:06:02.255905 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:06:02.255909 ttxdwconsumer.go:347: Workflow Time Remaining : 446h15m26.744092s
2023/09/14 20:06:02.255927 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:06:02.255951 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:06:02.255954 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:06:02.255958 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 20:06:02.255981 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 20:06:02.256048 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:06:02.346374 ttproxy.go:149: Response Status Code 200
2023/09/14 20:06:02.372419 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:06:02.372486 ttproxy.go:138: 	Request Query Params
2023/09/14 20:06:02.372529 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:06:02.372544 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 20:06:02.374262 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:06:02.374296 ttproxy.go:138: 	Request Query Params
2023/09/14 20:06:02.374315 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 20:06:02.374325 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:06:02.374334 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 20:06:02.434551 ttproxy.go:149: Response Status Code 200
2023/09/14 20:06:02.435900 ttproxy.go:149: Response Status Code 200
2023/09/14 20:06:11.664120 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:06:11.664210 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:06:11.664292 ttproxy.go:138: 	Request Query Params
2023/09/14 20:06:11.665038 ttproxy.go:138: 	Request Query Params
2023/09/14 20:06:11.665050 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:06:11.665113 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 20:06:11.665229 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 20:06:11.665244 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:06:11.665928 ttproxy.go:149: Response Status Code 200
2023/09/14 20:06:11.730550 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 20:06:11.813106 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:06:11.813269 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:06:11.813763 ttproxy.go:149: Response Status Code 200
2023/09/14 20:06:13.903310 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:06:13.903562 ttproxy.go:138: 	Request Query Params
2023/09/14 20:06:13.903687 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:06:13.903740 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:06:13.903810 tttmplts.go:37: CGL Worker starting
2023/09/14 20:06:13.903821 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:06:13.904479 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:06:13.909221 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:06:13.909257 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:06:14.080924 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:06:14.083554 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:06:14.083687 tttmplts.go:39: CGL Worker done
2023/09/14 20:06:14.083733 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:06:18.906199 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:06:18.906716 tttmplts.go:32: PIXm Worker done
2023/09/14 20:06:18.906779 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:06:18.907195 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:06:18.907345 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[a2812600-84dc-4107-9109-10896c125e39]]
2023/09/14 20:06:19.113847 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:06:19.116684 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:06:19.120632 tttmplts.go:93: template: pdsretrieve_tmplt:45:9: executing "pdsretrieve_tmplt" at <eq $rsp.DeceasedDateTime "">: error calling eq: incompatible types for comparison
2023/09/14 20:06:19.120730 ttproxy.go:105: template: pdsretrieve_tmplt:45:9: executing "pdsretrieve_tmplt" at <eq $rsp.DeceasedDateTime "">: error calling eq: incompatible types for comparison
2023/09/14 20:06:19.120773 ttproxy.go:149: Response Status Code 500
2023/09/14 20:06:19.120791 ttproxy.go:151: 
2023/09/14 20:06:19.120809 ttproxy.go:152: Response Headers
2023/09/14 20:06:19.120901 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 20:06:19.120923 ttproxy.go:154: ----------------
2023/09/14 20:06:19.120945 ttproxy.go:155: Response
2023/09/14 20:06:19.120958 ttproxy.go:156: ----------------
2023/09/14 20:06:19.121550 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:56839",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 20:06:19.121638 ttproxy.go:158: -------------
2023/09/14 20:06:19.121659 ttproxy.go:160: Error template: pdsretrieve_tmplt:45:9: executing "pdsretrieve_tmplt" at <eq $rsp.DeceasedDateTime "">: error calling eq: incompatible types for comparison
2023/09/14 20:06:19.121678 ttproxy.go:161: -------------
2023/09/14 20:07:38.819304 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:07:42.841518 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:07:42.842000 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:07:42.842130 ttdb.go:54: Opened Database
2023/09/14 20:07:43.024434 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:07:43.091024 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:07:43.091121 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:07:43.158138 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:07:43.257037 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:07:43.257095 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:07:43.322751 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:07:43.390067 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:07:43.390172 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:07:43.456423 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:07:43.524561 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:07:43.524715 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:07:43.596836 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:07:43.662142 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:07:43.662278 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:07:43.729116 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:07:43.851853 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:07:43.851992 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:07:43.916845 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:07:43.986569 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:07:43.986634 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:07:44.056048 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:07:44.122298 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:07:44.122491 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:07:44.190443 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:07:44.257792 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:07:44.258003 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:07:44.325128 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:07:44.392639 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:07:44.392825 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:07:44.459037 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:07:44.540156 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:07:44.540324 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:07:44.607468 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:07:44.688880 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:07:44.689034 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:07:44.756918 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:07:44.831734 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:07:44.831904 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:07:44.897192 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:07:44.963326 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:07:44.963353 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:07:45.031710 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:07:45.102348 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:07:45.102896 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:07:45.168117 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:07:45.233392 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:07:45.233480 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:07:45.300339 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:07:45.368479 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:07:45.368614 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:07:45.434111 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:07:45.502954 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:07:45.503098 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:07:45.575771 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:07:45.647458 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:07:45.647603 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:07:45.713627 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:07:45.786490 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:07:45.786611 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:07:45.852055 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:07:45.926203 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:07:45.926341 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:07:45.992838 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:07:46.060177 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:07:46.060312 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:07:46.060541 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:07:48.752462 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:07:48.752617 ttproxy.go:138: 	Request Query Params
2023/09/14 20:07:48.752956 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:07:48.752994 ttgethandler.go:15: Path = /spa
2023/09/14 20:07:48.753009 tttmplts.go:23: Using Default SPA template
2023/09/14 20:07:48.954515 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:07:48.969722 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 20:07:48.972317 ttproxy.go:149: Response Status Code 200
2023/09/14 20:07:49.024411 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:07:49.024494 ttproxy.go:138: 	Request Query Params
2023/09/14 20:07:49.024542 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 20:07:49.024560 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:07:49.024575 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 20:07:49.025098 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:07:49.025137 ttproxy.go:138: 	Request Query Params
2023/09/14 20:07:49.025157 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:07:49.025166 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:07:49.088332 ttproxy.go:149: Response Status Code 200
2023/09/14 20:07:49.317719 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 20:07:49.389417 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:07:49.392648 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:07:49.393457 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 20:07:49.393527 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.393525 +0100 BST
2023/09/14 20:07:49.393858 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 20:07:49.393872 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 20:07:49.393930 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.393987 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 20:07:49.394302 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 20:07:49.394437 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:07:49.394660 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 20:07:49.394943 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 20:07:49.394992 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.394991 +0100 BST
2023/09/14 20:07:49.395247 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 20:07:49.395260 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 20:07:49.395330 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.395389 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 20:07:49.395601 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 20:07:49.395616 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 20:07:49.396003 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:07:49.396331 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 20:07:49.396380 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.396379 +0100 BST
2023/09/14 20:07:49.396671 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 20:07:49.396680 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 20:07:49.396727 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.396774 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 20:07:49.397076 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 20:07:49.397090 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:07:49.397264 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:07:49.397554 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 20:07:49.397604 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.397603 +0100 BST
2023/09/14 20:07:49.397840 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 20:07:49.397848 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 20:07:49.397898 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.397952 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 20:07:49.398194 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 20:07:49.398367 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:07:49.398555 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:07:49.398858 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 20:07:49.398911 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.39891 +0100 BST
2023/09/14 20:07:49.399162 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 20:07:49.399171 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 20:07:49.399220 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.399276 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 20:07:49.399533 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 20:07:49.399550 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:07:49.399721 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:07:49.399972 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 20:07:49.400018 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.400017 +0100 BST
2023/09/14 20:07:49.400231 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 20:07:49.400241 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 20:07:49.400287 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.400335 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 20:07:49.400657 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 20:07:49.400836 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:07:49.401055 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:07:49.401477 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 20:07:49.401541 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.401539 +0100 BST
2023/09/14 20:07:49.401763 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 20:07:49.401775 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 20:07:49.401826 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.401880 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 20:07:49.402084 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 20:07:49.402098 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:07:49.402292 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:07:49.402552 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 20:07:49.402605 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.402603 +0100 BST
2023/09/14 20:07:49.402927 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 20:07:49.402947 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 20:07:49.403007 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.403172 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 20:07:49.404909 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 20:07:49.404949 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:07:49.405340 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:07:49.405730 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 20:07:49.405787 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.405785 +0100 BST
2023/09/14 20:07:49.406074 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 20:07:49.406085 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:07:49.406144 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.406203 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 20:07:49.406216 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:07:49.406229 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:07:49.406464 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 20:07:49.406823 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 20:07:49.406886 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.406884 +0100 BST
2023/09/14 20:07:49.407184 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 20:07:49.407203 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:07:49.407258 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.407313 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 20:07:49.407602 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 20:07:49.407620 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 20:07:49.408093 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:07:49.408474 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 20:07:49.408525 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.408523 +0100 BST
2023/09/14 20:07:49.408802 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 20:07:49.408812 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 20:07:49.408867 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.408920 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 20:07:49.408928 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:07:49.408940 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:07:49.409293 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:07:49.409758 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 20:07:49.409808 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.409806 +0100 BST
2023/09/14 20:07:49.410085 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 20:07:49.410094 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 20:07:49.410141 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.410195 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 20:07:49.410202 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:07:49.410214 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:07:49.410382 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:07:49.410624 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 20:07:49.410670 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.410669 +0100 BST
2023/09/14 20:07:49.410863 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 20:07:49.410886 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 20:07:49.410919 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.410950 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 20:07:49.411043 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 20:07:49.411051 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:07:49.411141 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 20:07:49.411310 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 20:07:49.411333 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.411332 +0100 BST
2023/09/14 20:07:49.411415 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 20:07:49.411420 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 20:07:49.411440 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.411462 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 20:07:49.411550 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 20:07:49.411559 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 20:07:49.411726 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:07:49.411862 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 20:07:49.411881 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.411881 +0100 BST
2023/09/14 20:07:49.411993 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 20:07:49.412000 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 20:07:49.412019 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.412039 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 20:07:49.412042 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:07:49.412047 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:07:49.412173 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 20:07:49.412312 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 20:07:49.412332 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.412331 +0100 BST
2023/09/14 20:07:49.412450 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 20:07:49.412454 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 20:07:49.412473 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.412493 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 20:07:49.412603 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 20:07:49.412609 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 20:07:49.412758 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:07:49.412890 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 20:07:49.412908 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.412908 +0100 BST
2023/09/14 20:07:49.413018 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 20:07:49.413022 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 20:07:49.413041 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.413061 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 20:07:49.413064 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:07:49.413069 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:07:49.413231 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 20:07:49.414739 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 20:07:49.414904 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.414902 +0100 BST
2023/09/14 20:07:49.415044 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 20:07:49.415049 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 20:07:49.415072 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.415091 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 20:07:49.415093 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:07:49.415098 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 20:07:49.415226 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:07:49.415290 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 20:07:49.415309 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.415308 +0100 BST
2023/09/14 20:07:49.415312 ttxdwconsumer.go:336: Duration - 1 Days 21 Hrs 35 Mins
2023/09/14 20:07:49.415330 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:07:49.415334 ttxdwconsumer.go:347: Workflow Time Remaining : 434h24m38.584667s
2023/09/14 20:07:49.415354 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.415372 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:07:49.415375 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:07:49.415380 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 20:07:49.415384 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 20:07:49.415614 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:07:49.415837 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 20:07:49.415856 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.415856 +0100 BST
2023/09/14 20:07:49.416056 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 20:07:49.416060 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:07:49.416082 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.416101 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 20:07:49.416104 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:07:49.416110 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:07:49.416348 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:07:49.416519 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 20:07:49.416537 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.416536 +0100 BST
2023/09/14 20:07:49.416682 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 20:07:49.416685 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 20:07:49.416703 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.416721 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 20:07:49.416723 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:07:49.416729 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:07:49.416950 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:07:49.417129 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 20:07:49.417147 ttxdwconsumer.go:330: Time Now 2023-09-14 20:07:49.417146 +0100 BST
2023/09/14 20:07:49.417150 ttxdwconsumer.go:336: Duration - 1 Days 9 Hrs 46 Mins
2023/09/14 20:07:49.417168 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:07:49.417171 ttxdwconsumer.go:347: Workflow Time Remaining : 446h13m39.58283s
2023/09/14 20:07:49.417188 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:07:49.417206 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:07:49.417209 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:07:49.417213 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 20:07:49.417236 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 20:07:49.417288 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:07:49.506023 ttproxy.go:149: Response Status Code 200
2023/09/14 20:07:49.528460 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:07:49.528568 ttproxy.go:138: 	Request Query Params
2023/09/14 20:07:49.528611 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:07:49.528626 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 20:07:49.531316 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:07:49.531371 ttproxy.go:138: 	Request Query Params
2023/09/14 20:07:49.531397 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 20:07:49.531408 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:07:49.531418 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 20:07:49.592309 ttproxy.go:149: Response Status Code 200
2023/09/14 20:07:49.593107 ttproxy.go:149: Response Status Code 200
2023/09/14 20:07:57.265861 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:07:57.265933 ttproxy.go:138: 	Request Query Params
2023/09/14 20:07:57.265973 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:07:57.265987 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 20:07:57.266007 ttproxy.go:149: Response Status Code 200
2023/09/14 20:07:57.267761 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:07:57.267806 ttproxy.go:138: 	Request Query Params
2023/09/14 20:07:57.267836 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 20:07:57.267848 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:07:57.328921 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 20:07:57.391109 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:07:57.391719 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:07:57.392091 ttproxy.go:149: Response Status Code 200
2023/09/14 20:08:00.658906 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:08:00.659095 ttproxy.go:138: 	Request Query Params
2023/09/14 20:08:00.659209 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:08:00.659242 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:08:00.659301 tttmplts.go:37: CGL Worker starting
2023/09/14 20:08:00.659311 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:08:00.660020 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:08:00.662049 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:08:00.662072 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:08:00.838424 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:08:00.839975 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:08:00.840082 tttmplts.go:39: CGL Worker done
2023/09/14 20:08:00.840106 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:08:05.660678 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:08:05.661424 tttmplts.go:32: PIXm Worker done
2023/09/14 20:08:05.661802 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:08:05.662300 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:08:05.662507 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[1d98b3b9-c344-43d0-98e1-621ff5aa898c]]
2023/09/14 20:08:05.823445 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:08:05.824949 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:08:05.828949 ttproxy.go:149: Response Status Code 200
2023/09/14 20:11:19.561846 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:11:21.359416 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:11:21.359906 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:11:21.360031 ttdb.go:54: Opened Database
2023/09/14 20:11:21.597141 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:11:21.662896 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:11:21.662957 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:11:21.728793 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:11:21.828175 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:11:21.828269 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:11:21.894123 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:11:21.968608 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:11:21.968771 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:11:22.035067 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:11:22.101270 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:11:22.101298 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:11:22.168070 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:11:22.231879 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:11:22.231904 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:11:22.297517 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:11:22.415757 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:11:22.415804 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:11:22.481373 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:11:22.548933 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:11:22.549025 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:11:22.616591 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:11:22.681673 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:11:22.681720 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:11:22.748491 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:11:22.818773 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:11:22.818924 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:11:22.895147 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:11:22.988802 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:11:22.988967 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:11:23.086262 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:11:23.166027 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:11:23.166158 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:11:23.231347 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:11:23.311252 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:11:23.311384 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:11:23.375960 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:11:23.447976 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:11:23.448081 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:11:23.513808 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:11:23.585973 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:11:23.586155 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:11:23.653267 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:11:23.718637 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:11:23.718813 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:11:23.785584 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:11:23.853789 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:11:23.853953 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:11:23.924175 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:11:23.993222 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:11:23.993377 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:11:24.060861 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:11:24.128784 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:11:24.128943 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:11:24.194194 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:11:24.265924 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:11:24.266154 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:11:24.331970 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:11:24.404281 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:11:24.404328 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:11:24.468364 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:11:24.535921 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:11:24.535957 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:11:24.600026 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:11:24.665018 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:11:24.665130 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:11:24.665323 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:11:27.767618 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:11:27.767871 ttproxy.go:138: 	Request Query Params
2023/09/14 20:11:27.768315 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:11:27.768363 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:11:27.768416 tttmplts.go:37: CGL Worker starting
2023/09/14 20:11:27.768421 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:11:27.768848 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:11:27.770517 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:11:27.770534 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:11:27.982274 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:11:27.989027 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:11:27.989098 tttmplts.go:39: CGL Worker done
2023/09/14 20:11:27.989117 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:11:32.770474 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:11:32.771071 tttmplts.go:32: PIXm Worker done
2023/09/14 20:11:32.771137 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:11:32.771483 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:11:32.771669 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[e5e536e6-f5d3-48fb-bc2d-eca56616b73b]]
2023/09/14 20:11:32.928522 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:11:33.123737 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:11:33.133833 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:11:33.139704 ttproxy.go:149: Response Status Code 200
2023/09/14 20:14:08.790648 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:14:10.554921 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:14:10.555393 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:14:10.555513 ttdb.go:54: Opened Database
2023/09/14 20:14:10.896113 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:14:10.958937 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:14:10.959006 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:14:11.022196 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:14:11.118305 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:14:11.118352 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:14:11.181413 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:14:11.244785 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:14:11.244822 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:14:11.308978 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:14:11.372613 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:14:11.372747 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:14:11.435393 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:14:11.498319 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:14:11.498362 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:14:11.561908 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:14:11.687612 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:14:11.687712 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:14:11.753084 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:14:11.816849 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:14:11.816911 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:14:11.879816 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:14:11.942830 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:14:11.942861 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:14:12.005885 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:14:12.075901 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:14:12.075931 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:14:12.138782 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:14:12.207905 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:14:12.207939 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:14:12.270802 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:14:12.346626 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:14:12.346747 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:14:12.411122 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:14:12.493609 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:14:12.493788 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:14:12.558623 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:14:12.631780 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:14:12.631991 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:14:12.696044 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:14:12.762556 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:14:12.762721 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:14:12.829146 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:14:12.894543 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:14:12.894694 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:14:12.957766 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:14:13.027667 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:14:13.027819 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:14:13.092520 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:14:13.159820 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:14:13.159994 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:14:13.224063 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:14:13.292382 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:14:13.292466 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:14:13.366787 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:14:13.433850 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:14:13.433880 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:14:13.498207 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:14:13.566285 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:14:13.566395 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:14:13.629465 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:14:13.699587 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:14:13.699691 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:14:13.762994 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:14:13.826956 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:14:13.827065 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:14:13.827309 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:14:16.715635 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:14:16.715804 ttproxy.go:138: 	Request Query Params
2023/09/14 20:14:16.716317 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:14:16.716363 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:14:16.716407 tttmplts.go:37: CGL Worker starting
2023/09/14 20:14:16.716424 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:14:16.717030 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:14:16.718090 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:14:16.718341 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:14:16.919761 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:14:16.922570 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:14:16.922614 tttmplts.go:39: CGL Worker done
2023/09/14 20:14:16.922632 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:14:21.718059 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:14:21.718552 tttmplts.go:32: PIXm Worker done
2023/09/14 20:14:21.718631 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:14:21.719289 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:14:21.719510 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[42653e09-a391-4546-80ee-9ba2c19da950]]
2023/09/14 20:14:21.944762 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:14:22.130748 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:14:22.135770 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:14:22.138610 ttproxy.go:149: Response Status Code 200
2023/09/14 20:16:22.892732 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:16:25.669685 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:16:25.670174 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:16:25.670317 ttdb.go:54: Opened Database
2023/09/14 20:16:25.851582 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:16:25.919441 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:16:25.919565 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:16:25.982184 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:16:26.078713 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:16:26.078799 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:16:26.141413 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:16:26.204983 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:16:26.205030 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:16:26.267139 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:16:26.329513 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:16:26.329670 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:16:26.414966 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:16:26.477538 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:16:26.477563 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:16:26.540147 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:16:26.657271 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:16:26.657330 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:16:26.719318 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:16:26.783578 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:16:26.783610 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:16:26.847425 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:16:26.908958 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:16:26.909015 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:16:26.973156 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:16:27.037240 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:16:27.037319 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:16:27.100842 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:16:27.165541 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:16:27.165611 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:16:27.229962 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:16:27.305638 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:16:27.305675 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:16:27.368028 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:16:27.446509 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:16:27.446542 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:16:27.508895 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:16:27.577349 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:16:27.577374 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:16:27.639314 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:16:27.701454 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:16:27.701517 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:16:27.763337 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:16:27.825177 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:16:27.825214 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:16:27.888095 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:16:27.950186 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:16:27.950221 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:16:28.022230 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:16:28.091572 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:16:28.091645 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:16:28.153680 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:16:28.220049 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:16:28.220167 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:16:28.285163 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:16:28.352625 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:16:28.352805 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:16:28.415657 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:16:28.486874 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:16:28.487092 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:16:28.552741 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:16:28.620616 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:16:28.620767 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:16:28.685537 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:16:28.749659 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:16:28.749778 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:16:28.750053 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:16:31.659664 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:16:31.659724 ttproxy.go:138: 	Request Query Params
2023/09/14 20:16:31.659889 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:16:31.659899 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:16:31.659929 tttmplts.go:37: CGL Worker starting
2023/09/14 20:16:31.659936 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:16:31.660307 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:16:31.661028 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:16:31.661069 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:16:31.828952 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:16:31.831612 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:16:31.831672 tttmplts.go:39: CGL Worker done
2023/09/14 20:16:31.831683 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:16:36.661571 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:16:36.663121 tttmplts.go:32: PIXm Worker done
2023/09/14 20:16:36.663192 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:16:36.663449 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:16:36.663619 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[14836ee7-733f-4724-827e-e672ae8819c5]]
2023/09/14 20:16:36.821077 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:16:37.006327 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:16:37.011395 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:16:37.014616 tttmplts.go:93: template: pdsretrieve_tmplt:45:25: executing "pdsretrieve_tmplt" at <$rsp.DeceasedDateTime>: wrong type for value; expected string; got time.Time
2023/09/14 20:16:37.014835 ttproxy.go:105: template: pdsretrieve_tmplt:45:25: executing "pdsretrieve_tmplt" at <$rsp.DeceasedDateTime>: wrong type for value; expected string; got time.Time
2023/09/14 20:16:37.014884 ttproxy.go:149: Response Status Code 500
2023/09/14 20:16:37.014900 ttproxy.go:151: 
2023/09/14 20:16:37.014909 ttproxy.go:152: Response Headers
2023/09/14 20:16:37.014996 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 20:16:37.015013 ttproxy.go:154: ----------------
2023/09/14 20:16:37.015021 ttproxy.go:155: Response
2023/09/14 20:16:37.015028 ttproxy.go:156: ----------------
2023/09/14 20:16:37.015510 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:57047",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 20:16:37.015573 ttproxy.go:158: -------------
2023/09/14 20:16:37.015588 ttproxy.go:160: Error template: pdsretrieve_tmplt:45:25: executing "pdsretrieve_tmplt" at <$rsp.DeceasedDateTime>: wrong type for value; expected string; got time.Time
2023/09/14 20:16:37.015603 ttproxy.go:161: -------------
2023/09/14 20:30:45.833147 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:30:47.731348 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:30:47.731832 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:30:47.731957 ttdb.go:54: Opened Database
2023/09/14 20:30:47.920018 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:30:47.996298 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:30:47.996363 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:30:48.075967 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:30:48.225481 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:30:48.225570 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:30:48.314018 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:30:48.379761 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:30:48.379806 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:30:48.440596 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:30:48.503863 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:30:48.504024 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:30:48.565831 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:30:48.627001 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:30:48.627109 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:30:48.690471 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:30:48.803856 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:30:48.803995 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:30:48.866235 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:30:48.930689 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:30:48.930742 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:30:48.992297 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:30:49.054201 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:30:49.054268 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:30:49.115461 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:30:49.178646 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:30:49.178722 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:30:49.238968 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:30:49.300356 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:30:49.300513 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:30:49.362298 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:30:49.438626 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:30:49.438807 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:30:49.501391 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:30:49.578678 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:30:49.578834 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:30:49.641385 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:30:49.711714 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:30:49.711884 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:30:49.773887 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:30:49.836338 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:30:49.836525 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:30:49.899756 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:30:49.961134 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:30:49.961329 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:30:50.024973 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:30:50.085826 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:30:50.085868 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:30:50.147723 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:30:50.213633 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:30:50.213705 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:30:50.275614 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:30:50.338971 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:30:50.339113 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:30:50.399723 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:30:50.466894 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:30:50.467021 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:30:50.528697 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:30:50.597808 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:30:50.597921 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:30:50.658635 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:30:50.727025 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:30:50.727173 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:30:50.789545 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:30:50.852554 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:30:50.852689 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:30:50.853014 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:30:54.120871 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:30:54.121055 ttproxy.go:138: 	Request Query Params
2023/09/14 20:30:54.121420 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:30:54.121503 ttgethandler.go:15: Path = /spa
2023/09/14 20:30:54.121533 tttmplts.go:23: Using Default SPA template
2023/09/14 20:30:54.295201 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:30:54.309880 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 20:30:54.312670 ttproxy.go:149: Response Status Code 200
2023/09/14 20:30:54.360669 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:30:54.360795 ttproxy.go:138: 	Request Query Params
2023/09/14 20:30:54.360944 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 20:30:54.360988 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:30:54.361024 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 20:30:54.361852 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:30:54.361961 ttproxy.go:138: 	Request Query Params
2023/09/14 20:30:54.362013 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:30:54.362043 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:30:54.420031 ttproxy.go:149: Response Status Code 200
2023/09/14 20:30:54.635408 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 20:30:54.701307 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:30:54.706000 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:30:54.708288 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 20:30:54.708387 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.708383 +0100 BST
2023/09/14 20:30:54.708738 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 20:30:54.708758 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 20:30:54.708819 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.708879 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 20:30:54.709287 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 20:30:54.709450 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:30:54.709750 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 20:30:54.710084 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 20:30:54.710137 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.710135 +0100 BST
2023/09/14 20:30:54.710387 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 20:30:54.710401 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 20:30:54.710455 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.710514 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 20:30:54.710743 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 20:30:54.710765 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 20:30:54.711221 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:30:54.711931 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 20:30:54.712036 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.712032 +0100 BST
2023/09/14 20:30:54.712654 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 20:30:54.712680 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 20:30:54.712777 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.712832 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 20:30:54.713135 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 20:30:54.713153 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:30:54.713330 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:30:54.713663 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 20:30:54.713719 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.713717 +0100 BST
2023/09/14 20:30:54.713987 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 20:30:54.713999 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 20:30:54.714047 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.714099 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 20:30:54.714360 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 20:30:54.714575 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:30:54.714773 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:30:54.715175 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 20:30:54.715290 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.715288 +0100 BST
2023/09/14 20:30:54.715932 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 20:30:54.716132 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 20:30:54.716246 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.716356 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 20:30:54.716859 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 20:30:54.716894 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:30:54.717110 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:30:54.717439 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 20:30:54.717503 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.717501 +0100 BST
2023/09/14 20:30:54.717744 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 20:30:54.717757 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 20:30:54.717815 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.717875 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 20:30:54.718108 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 20:30:54.718126 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:30:54.718296 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:30:54.718590 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 20:30:54.718644 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.718643 +0100 BST
2023/09/14 20:30:54.718923 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 20:30:54.718942 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 20:30:54.719021 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.719105 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 20:30:54.719424 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 20:30:54.719453 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:30:54.719674 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:30:54.720044 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 20:30:54.720112 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.72011 +0100 BST
2023/09/14 20:30:54.720430 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 20:30:54.720451 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 20:30:54.720526 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.720602 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 20:30:54.720989 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 20:30:54.721036 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:30:54.721534 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:30:54.721986 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 20:30:54.722057 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.722055 +0100 BST
2023/09/14 20:30:54.722427 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 20:30:54.722442 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:30:54.722522 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.722601 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 20:30:54.722615 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:30:54.722638 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:30:54.722919 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 20:30:54.723311 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 20:30:54.723379 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.723377 +0100 BST
2023/09/14 20:30:54.723753 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 20:30:54.723772 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:30:54.723835 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.723900 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 20:30:54.724758 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 20:30:54.724787 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 20:30:54.725737 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:30:54.726170 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 20:30:54.726227 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.726225 +0100 BST
2023/09/14 20:30:54.726593 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 20:30:54.726608 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 20:30:54.726667 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.726785 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 20:30:54.726818 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:30:54.726842 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:30:54.727099 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:30:54.727531 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 20:30:54.727571 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.72757 +0100 BST
2023/09/14 20:30:54.727717 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 20:30:54.727726 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 20:30:54.727753 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.727778 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 20:30:54.727787 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:30:54.727794 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:30:54.727884 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:30:54.728001 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 20:30:54.728029 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.728028 +0100 BST
2023/09/14 20:30:54.728120 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 20:30:54.728126 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 20:30:54.728149 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.728173 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 20:30:54.728264 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 20:30:54.728272 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:30:54.728352 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 20:30:54.728476 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 20:30:54.728499 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.728499 +0100 BST
2023/09/14 20:30:54.728590 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 20:30:54.728595 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 20:30:54.728617 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.728640 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 20:30:54.728732 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 20:30:54.728744 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 20:30:54.728912 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:30:54.729077 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 20:30:54.729099 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.729098 +0100 BST
2023/09/14 20:30:54.729220 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 20:30:54.729225 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 20:30:54.729246 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.729272 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 20:30:54.729275 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:30:54.729281 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:30:54.729409 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 20:30:54.729539 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 20:30:54.729559 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.729559 +0100 BST
2023/09/14 20:30:54.729672 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 20:30:54.729676 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 20:30:54.729695 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.729717 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 20:30:54.729828 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 20:30:54.729835 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 20:30:54.729987 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:30:54.730115 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 20:30:54.730133 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.730133 +0100 BST
2023/09/14 20:30:54.730243 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 20:30:54.730247 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 20:30:54.730266 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.730286 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 20:30:54.730290 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:30:54.730295 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:30:54.730446 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 20:30:54.730591 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 20:30:54.730610 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.730609 +0100 BST
2023/09/14 20:30:54.730728 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 20:30:54.730732 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 20:30:54.730752 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.730772 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 20:30:54.730776 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:30:54.730781 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 20:30:54.730907 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:30:54.730978 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 20:30:54.730997 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.730996 +0100 BST
2023/09/14 20:30:54.731001 ttxdwconsumer.go:336: Duration - 1 Days 21 Hrs 58 Mins
2023/09/14 20:30:54.731024 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:30:54.731029 ttxdwconsumer.go:347: Workflow Time Remaining : 434h1m33.268972s
2023/09/14 20:30:54.731055 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.731076 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:30:54.731080 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:30:54.731087 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 20:30:54.731091 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 20:30:54.731326 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:30:54.731529 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 20:30:54.731547 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.731547 +0100 BST
2023/09/14 20:30:54.731722 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 20:30:54.731726 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:30:54.731745 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.731764 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 20:30:54.731767 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:30:54.731772 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:30:54.732007 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:30:54.732217 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 20:30:54.732241 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.73224 +0100 BST
2023/09/14 20:30:54.732958 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 20:30:54.732985 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 20:30:54.733206 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.733352 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 20:30:54.733387 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:30:54.733410 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:30:54.733932 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:30:54.734213 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 20:30:54.734242 ttxdwconsumer.go:330: Time Now 2023-09-14 20:30:54.734241 +0100 BST
2023/09/14 20:30:54.734250 ttxdwconsumer.go:336: Duration - 1 Days 10 Hrs 9 Mins
2023/09/14 20:30:54.734275 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:30:54.734281 ttxdwconsumer.go:347: Workflow Time Remaining : 445h50m34.26572s
2023/09/14 20:30:54.734305 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:30:54.734328 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:30:54.734333 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:30:54.734340 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 20:30:54.734366 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 20:30:54.734419 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:30:54.821809 ttproxy.go:149: Response Status Code 200
2023/09/14 20:30:54.845956 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:30:54.846041 ttproxy.go:138: 	Request Query Params
2023/09/14 20:30:54.846095 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:30:54.846127 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 20:30:54.847428 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:30:54.847481 ttproxy.go:138: 	Request Query Params
2023/09/14 20:30:54.847509 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 20:30:54.847529 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:30:54.847546 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 20:30:54.903391 ttproxy.go:149: Response Status Code 200
2023/09/14 20:30:54.906263 ttproxy.go:149: Response Status Code 200
2023/09/14 20:31:04.522430 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:31:04.522582 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:31:04.522668 ttproxy.go:138: 	Request Query Params
2023/09/14 20:31:04.522755 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 20:31:04.522856 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:31:04.522610 ttproxy.go:138: 	Request Query Params
2023/09/14 20:31:04.523404 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:31:04.523514 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 20:31:04.523858 ttproxy.go:149: Response Status Code 200
2023/09/14 20:31:04.583586 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 20:31:04.641681 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:31:04.641839 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:31:04.642326 ttproxy.go:149: Response Status Code 200
2023/09/14 20:31:07.657787 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:31:07.657979 ttproxy.go:138: 	Request Query Params
2023/09/14 20:31:07.658079 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:31:07.658116 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:31:07.658175 tttmplts.go:37: CGL Worker starting
2023/09/14 20:31:07.658179 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:31:07.659267 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:31:07.660549 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:31:07.660568 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:31:07.854548 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:31:07.855978 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:31:07.856057 tttmplts.go:39: CGL Worker done
2023/09/14 20:31:07.856087 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:31:12.659953 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:31:12.660320 tttmplts.go:32: PIXm Worker done
2023/09/14 20:31:12.660386 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:31:12.660596 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:31:12.660795 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[c5fa3e7d-6601-4ae7-97df-7b31ba3c1835]]
2023/09/14 20:31:12.807521 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:31:12.810462 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:31:12.813797 ttproxy.go:149: Response Status Code 200
2023/09/14 20:37:43.256875 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:37:45.131383 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:37:45.131868 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:37:45.131996 ttdb.go:54: Opened Database
2023/09/14 20:37:45.390227 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:37:45.458044 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:37:45.458246 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:37:45.527852 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:37:45.644323 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:37:45.644465 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:37:45.710512 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:37:45.780034 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:37:45.780141 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:37:45.847907 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:37:45.918143 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:37:45.918280 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:37:45.986279 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:37:46.058391 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:37:46.058542 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:37:46.127659 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:37:46.252872 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:37:46.253078 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:37:46.322802 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:37:46.391804 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:37:46.391978 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:37:46.461920 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:37:46.529811 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:37:46.529969 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:37:46.597798 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:37:46.666217 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:37:46.666435 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:37:46.734294 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:37:46.803687 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:37:46.803771 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:37:46.871142 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:37:46.950257 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:37:46.950376 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:37:47.017804 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:37:47.102786 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:37:47.102854 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:37:47.170183 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:37:47.243128 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:37:47.243156 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:37:47.308927 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:37:47.379039 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:37:47.379068 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:37:47.446784 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:37:47.513555 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:37:47.513685 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:37:47.581843 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:37:47.652934 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:37:47.653037 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:37:47.721299 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:37:47.793734 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:37:47.793884 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:37:47.862253 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:37:47.932062 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:37:47.932228 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:37:48.000941 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:37:48.073838 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:37:48.074028 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:37:48.140554 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:37:48.211778 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:37:48.211907 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:37:48.278936 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:37:48.351248 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:37:48.351437 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:37:48.420435 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:37:48.488891 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:37:48.489052 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:37:48.489290 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:37:51.616243 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:37:51.616499 ttproxy.go:138: 	Request Query Params
2023/09/14 20:37:51.616932 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:37:51.616970 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:37:51.617021 tttmplts.go:37: CGL Worker starting
2023/09/14 20:37:51.617011 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:37:51.617465 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:37:51.618741 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:37:51.618824 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:37:51.823690 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:37:51.827001 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:37:51.827185 tttmplts.go:39: CGL Worker done
2023/09/14 20:37:51.827234 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:37:56.619756 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:37:56.620073 tttmplts.go:32: PIXm Worker done
2023/09/14 20:37:56.620125 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:37:56.620294 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:37:56.620468 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[d38e65ab-8e18-4077-b6d1-bf7732dce2c7]]
2023/09/14 20:37:56.864271 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:37:57.063407 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:37:57.067204 tttmplts.go:104: Template pdsretrieve_tmplt caused Error template: pdsretrieve_tmplt:67: bad character U+005B '['
2023/09/14 20:37:57.067783 server.go:3217: http: panic serving [::1]:57488: runtime error: invalid memory address or nil pointer dereference
goroutine 7 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028450?, 0xc0001c5fc0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0001e6000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0001e6000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setPatientTemplate(0xc0001e6000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:53 +0x1b1
main.(*Trans).newGetHandler(0xc0001e6000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:28 +0xd94
main.(*Trans).newProxyTrans(0xc0001e6000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0001a2540}, 0xc0001be100)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0001d601f?, {0x15657d0?, 0xc0001a2540?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001a6450?}, {0x15657d0, 0xc0001a2540}, 0xc0001be100)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc000076ab0, {0x15659c8, 0xc000078d50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:40:46.645392 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:40:48.100317 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:40:48.100857 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:40:48.101001 ttdb.go:54: Opened Database
2023/09/14 20:40:48.282929 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:40:48.351855 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:40:48.351953 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:40:48.418424 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:40:48.538912 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:40:48.538964 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:40:48.643163 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:40:48.709716 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:40:48.709872 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:40:48.776784 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:40:48.839556 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:40:48.839658 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:40:48.908498 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:40:48.970149 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:40:48.970229 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:40:49.033875 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:40:49.149921 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:40:49.149990 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:40:49.216190 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:40:49.280343 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:40:49.280487 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:40:49.347676 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:40:49.410817 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:40:49.411047 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:40:49.474954 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:40:49.540242 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:40:49.540431 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:40:49.604164 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:40:49.671468 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:40:49.671637 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:40:49.735511 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:40:49.815116 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:40:49.815304 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:40:49.878313 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:40:49.958179 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:40:49.958304 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:40:50.023439 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:40:50.093722 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:40:50.093833 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:40:50.156335 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:40:50.218550 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:40:50.218592 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:40:50.282011 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:40:50.341701 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:40:50.341792 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:40:50.404589 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:40:50.466730 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:40:50.466812 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:40:50.529567 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:40:50.593692 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:40:50.593786 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:40:50.657080 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:40:50.722394 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:40:50.722581 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:40:50.786558 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:40:50.853564 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:40:50.853724 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:40:50.917671 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:40:50.985933 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:40:50.986074 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:40:51.049244 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:40:51.116372 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:40:51.116510 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:40:51.180273 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:40:51.245056 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:40:51.245633 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:40:51.246090 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:40:54.108237 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:40:54.108415 ttproxy.go:138: 	Request Query Params
2023/09/14 20:40:54.108762 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:40:54.108805 ttgethandler.go:15: Path = /spa
2023/09/14 20:40:54.108823 tttmplts.go:23: Using Default SPA template
2023/09/14 20:40:54.292837 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:40:54.300792 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 20:40:54.302999 ttproxy.go:149: Response Status Code 200
2023/09/14 20:40:54.348987 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:40:54.349072 ttproxy.go:138: 	Request Query Params
2023/09/14 20:40:54.349121 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 20:40:54.349142 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:40:54.349170 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 20:40:54.349468 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:40:54.349517 ttproxy.go:138: 	Request Query Params
2023/09/14 20:40:54.349546 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:40:54.349563 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:40:54.411183 ttproxy.go:149: Response Status Code 200
2023/09/14 20:40:54.649667 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 20:40:54.722403 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:40:54.730911 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:40:54.732635 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 20:40:54.732777 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.732773 +0100 BST
2023/09/14 20:40:54.733401 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 20:40:54.733432 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 20:40:54.733540 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.733653 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 20:40:54.734154 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 20:40:54.734322 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:40:54.734624 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 20:40:54.734975 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 20:40:54.735042 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.73504 +0100 BST
2023/09/14 20:40:54.735339 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 20:40:54.735355 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 20:40:54.735422 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.735503 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 20:40:54.735802 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 20:40:54.735826 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 20:40:54.736337 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:40:54.737075 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 20:40:54.737145 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.737143 +0100 BST
2023/09/14 20:40:54.737535 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 20:40:54.737558 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 20:40:54.737626 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.737708 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 20:40:54.738086 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 20:40:54.738106 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:40:54.738328 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:40:54.738684 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 20:40:54.738743 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.738741 +0100 BST
2023/09/14 20:40:54.739056 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 20:40:54.739069 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 20:40:54.739153 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.739229 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 20:40:54.739556 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 20:40:54.739783 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:40:54.740029 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:40:54.740404 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 20:40:54.740468 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.740466 +0100 BST
2023/09/14 20:40:54.740796 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 20:40:54.740809 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 20:40:54.740868 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.740932 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 20:40:54.741247 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 20:40:54.741269 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:40:54.741467 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:40:54.741763 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 20:40:54.741810 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.741809 +0100 BST
2023/09/14 20:40:54.742020 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 20:40:54.742030 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 20:40:54.742083 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.742136 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 20:40:54.742355 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 20:40:54.742369 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:40:54.742531 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:40:54.742797 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 20:40:54.742846 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.742845 +0100 BST
2023/09/14 20:40:54.743063 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 20:40:54.743074 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 20:40:54.743129 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.743180 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 20:40:54.743395 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 20:40:54.743409 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:40:54.743570 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:40:54.743836 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 20:40:54.743887 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.743886 +0100 BST
2023/09/14 20:40:54.744469 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 20:40:54.744493 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 20:40:54.744570 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.744657 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 20:40:54.745607 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 20:40:54.745645 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:40:54.745935 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:40:54.746207 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 20:40:54.746250 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.746244 +0100 BST
2023/09/14 20:40:54.746404 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 20:40:54.746414 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:40:54.746443 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.746470 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 20:40:54.746475 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:40:54.746482 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:40:54.746580 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 20:40:54.746705 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 20:40:54.746728 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.746727 +0100 BST
2023/09/14 20:40:54.746837 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 20:40:54.746843 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:40:54.746863 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.746886 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 20:40:54.747024 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 20:40:54.747032 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 20:40:54.747203 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:40:54.747371 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 20:40:54.747400 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.747399 +0100 BST
2023/09/14 20:40:54.747604 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 20:40:54.747620 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 20:40:54.747646 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.747672 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 20:40:54.747678 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:40:54.747687 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:40:54.747888 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:40:54.748039 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 20:40:54.748065 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.748064 +0100 BST
2023/09/14 20:40:54.748210 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 20:40:54.748215 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 20:40:54.748240 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.748265 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 20:40:54.748272 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:40:54.748278 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:40:54.748360 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:40:54.748467 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 20:40:54.748486 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.748486 +0100 BST
2023/09/14 20:40:54.748575 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 20:40:54.748580 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 20:40:54.748600 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.748628 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 20:40:54.748723 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 20:40:54.748730 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:40:54.748814 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 20:40:54.748933 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 20:40:54.748959 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.748958 +0100 BST
2023/09/14 20:40:54.749057 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 20:40:54.749063 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 20:40:54.749096 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.749127 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 20:40:54.749217 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 20:40:54.749224 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 20:40:54.749372 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:40:54.749514 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 20:40:54.749532 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.749532 +0100 BST
2023/09/14 20:40:54.749645 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 20:40:54.749649 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 20:40:54.749674 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.749701 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 20:40:54.749705 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:40:54.749711 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:40:54.749853 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 20:40:54.750006 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 20:40:54.750025 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.750025 +0100 BST
2023/09/14 20:40:54.750139 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 20:40:54.750144 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 20:40:54.750171 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.750192 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 20:40:54.750316 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 20:40:54.750324 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 20:40:54.750487 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:40:54.750620 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 20:40:54.750646 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.750645 +0100 BST
2023/09/14 20:40:54.750757 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 20:40:54.750761 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 20:40:54.750781 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.750805 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 20:40:54.750809 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:40:54.750815 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:40:54.750970 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 20:40:54.751135 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 20:40:54.751156 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.751156 +0100 BST
2023/09/14 20:40:54.751300 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 20:40:54.751304 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 20:40:54.751328 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.751350 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 20:40:54.751353 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:40:54.751359 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 20:40:54.751489 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:40:54.751566 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 20:40:54.751594 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.751594 +0100 BST
2023/09/14 20:40:54.751599 ttxdwconsumer.go:336: Duration - 1 Days 22 Hrs 8 Mins
2023/09/14 20:40:54.751634 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:40:54.751638 ttxdwconsumer.go:347: Workflow Time Remaining : 433h51m33.248363s
2023/09/14 20:40:54.751670 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.751692 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:40:54.751696 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:40:54.751703 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 20:40:54.751707 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 20:40:54.751971 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:40:54.752578 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 20:40:54.752612 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.752612 +0100 BST
2023/09/14 20:40:54.753438 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 20:40:54.753452 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:40:54.753564 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.753652 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 20:40:54.753667 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:40:54.753678 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:40:54.753951 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:40:54.754162 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 20:40:54.754187 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.754186 +0100 BST
2023/09/14 20:40:54.754346 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 20:40:54.754355 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 20:40:54.754376 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.754397 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 20:40:54.754402 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:40:54.754408 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:40:54.754656 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:40:54.754861 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 20:40:54.754880 ttxdwconsumer.go:330: Time Now 2023-09-14 20:40:54.75488 +0100 BST
2023/09/14 20:40:54.754885 ttxdwconsumer.go:336: Duration - 1 Days 10 Hrs 19 Mins
2023/09/14 20:40:54.754906 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:40:54.754911 ttxdwconsumer.go:347: Workflow Time Remaining : 445h40m34.24509s
2023/09/14 20:40:54.754932 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:40:54.754953 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:40:54.754957 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:40:54.754962 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 20:40:54.754990 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 20:40:54.755045 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:40:54.844704 ttproxy.go:149: Response Status Code 200
2023/09/14 20:40:54.868848 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:40:54.868946 ttproxy.go:138: 	Request Query Params
2023/09/14 20:40:54.869005 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:40:54.869038 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 20:40:54.870311 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:40:54.870357 ttproxy.go:138: 	Request Query Params
2023/09/14 20:40:54.870381 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 20:40:54.870397 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:40:54.870410 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 20:40:54.927396 ttproxy.go:149: Response Status Code 200
2023/09/14 20:40:54.934437 ttproxy.go:149: Response Status Code 200
2023/09/14 20:41:03.293765 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:41:03.293944 ttproxy.go:138: 	Request Query Params
2023/09/14 20:41:03.294032 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:41:03.294072 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 20:41:03.294122 ttproxy.go:149: Response Status Code 200
2023/09/14 20:41:03.294081 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:41:03.294849 ttproxy.go:138: 	Request Query Params
2023/09/14 20:41:03.294900 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 20:41:03.294916 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:41:03.358235 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 20:41:03.422493 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:41:03.422642 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:41:03.423073 ttproxy.go:149: Response Status Code 200
2023/09/14 20:41:05.851723 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:41:05.851922 ttproxy.go:138: 	Request Query Params
2023/09/14 20:41:05.852031 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:41:05.852059 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:41:05.852106 tttmplts.go:37: CGL Worker starting
2023/09/14 20:41:05.852109 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:41:05.852592 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:41:05.854554 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:41:05.854618 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:41:06.055853 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:41:06.057172 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:41:06.057233 tttmplts.go:39: CGL Worker done
2023/09/14 20:41:06.057254 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:41:10.854316 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:41:10.854699 tttmplts.go:32: PIXm Worker done
2023/09/14 20:41:10.854770 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:41:10.854967 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:41:10.855120 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[938bf17b-d6fc-4165-af55-ecce0cd0ecb9]]
2023/09/14 20:41:11.031025 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:41:11.032818 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:41:11.034927 tttmplts.go:93: template: pdsretrieve_tmplt:65:32: executing "pdsretrieve_tmplt" at <$rsp.Address.Line>: can't evaluate field Line in type []struct { ID string "json:\"id,omitempty\""; Period struct { Start string "json:\"start,omitempty\""; End string "json:\"end,omitempty\"" } "json:\"period,omitempty\""; Use string "json:\"use,omitempty\""; Line []string "json:\"line,omitempty\""; PostalCode string "json:\"postalCode,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; ValueCoding struct { System string "json:\"system,omitempty\""; Code string "json:\"code,omitempty\"" } "json:\"valueCoding,omitempty\""; ValueString string "json:\"valueString,omitempty\"" } "json:\"extension,omitempty\"" } "json:\"extension,omitempty\""; Text string "json:\"text,omitempty\"" }
2023/09/14 20:41:11.035012 ttproxy.go:105: template: pdsretrieve_tmplt:65:32: executing "pdsretrieve_tmplt" at <$rsp.Address.Line>: can't evaluate field Line in type []struct { ID string "json:\"id,omitempty\""; Period struct { Start string "json:\"start,omitempty\""; End string "json:\"end,omitempty\"" } "json:\"period,omitempty\""; Use string "json:\"use,omitempty\""; Line []string "json:\"line,omitempty\""; PostalCode string "json:\"postalCode,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; ValueCoding struct { System string "json:\"system,omitempty\""; Code string "json:\"code,omitempty\"" } "json:\"valueCoding,omitempty\""; ValueString string "json:\"valueString,omitempty\"" } "json:\"extension,omitempty\"" } "json:\"extension,omitempty\""; Text string "json:\"text,omitempty\"" }
2023/09/14 20:41:11.035039 ttproxy.go:149: Response Status Code 500
2023/09/14 20:41:11.035052 ttproxy.go:151: 
2023/09/14 20:41:11.035062 ttproxy.go:152: Response Headers
2023/09/14 20:41:11.035128 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 20:41:11.035146 ttproxy.go:154: ----------------
2023/09/14 20:41:11.035159 ttproxy.go:155: Response
2023/09/14 20:41:11.035168 ttproxy.go:156: ----------------
2023/09/14 20:41:11.035441 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:57544",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 20:41:11.035481 ttproxy.go:158: -------------
2023/09/14 20:41:11.035493 ttproxy.go:160: Error template: pdsretrieve_tmplt:65:32: executing "pdsretrieve_tmplt" at <$rsp.Address.Line>: can't evaluate field Line in type []struct { ID string "json:\"id,omitempty\""; Period struct { Start string "json:\"start,omitempty\""; End string "json:\"end,omitempty\"" } "json:\"period,omitempty\""; Use string "json:\"use,omitempty\""; Line []string "json:\"line,omitempty\""; PostalCode string "json:\"postalCode,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; ValueCoding struct { System string "json:\"system,omitempty\""; Code string "json:\"code,omitempty\"" } "json:\"valueCoding,omitempty\""; ValueString string "json:\"valueString,omitempty\"" } "json:\"extension,omitempty\"" } "json:\"extension,omitempty\""; Text string "json:\"text,omitempty\"" }
2023/09/14 20:41:11.035502 ttproxy.go:161: -------------
2023/09/14 20:43:21.424131 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:43:24.665616 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:43:24.666073 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:43:24.666200 ttdb.go:54: Opened Database
2023/09/14 20:43:24.843219 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:43:24.905618 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:43:24.905678 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:43:24.969488 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:43:25.063976 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:43:25.064022 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:43:25.126568 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:43:25.192023 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:43:25.192110 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:43:25.254089 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:43:25.316020 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:43:25.316059 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:43:25.379379 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:43:25.445942 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:43:25.446024 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:43:25.508777 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:43:25.627601 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:43:25.627656 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:43:25.691586 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:43:25.755469 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:43:25.755635 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:43:25.818186 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:43:25.880758 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:43:25.880913 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:43:25.943473 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:43:26.005963 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:43:26.006118 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:43:26.068446 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:43:26.131188 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:43:26.131343 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:43:26.201199 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:43:26.281738 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:43:26.281840 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:43:26.356348 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:43:26.434166 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:43:26.434248 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:43:26.499249 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:43:26.565336 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:43:26.565448 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:43:26.627718 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:43:26.690899 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:43:26.691067 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:43:26.754343 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:43:26.816068 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:43:26.816305 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:43:26.880524 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:43:26.944350 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:43:26.944447 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:43:27.010068 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:43:27.074788 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:43:27.074818 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:43:27.140273 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:43:27.203487 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:43:27.203529 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:43:27.265149 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:43:27.331577 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:43:27.331681 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:43:27.392819 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:43:27.461222 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:43:27.461263 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:43:27.525584 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:43:27.590149 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:43:27.590185 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:43:27.652506 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:43:27.714292 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:43:27.714391 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:43:27.714588 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:43:31.182862 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:43:31.183030 ttproxy.go:138: 	Request Query Params
2023/09/14 20:43:31.183418 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:43:31.183456 ttgethandler.go:15: Path = /spa
2023/09/14 20:43:31.183473 tttmplts.go:23: Using Default SPA template
2023/09/14 20:43:31.364840 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:43:31.379993 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 20:43:31.382546 ttproxy.go:149: Response Status Code 200
2023/09/14 20:43:31.430258 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:43:31.430337 ttproxy.go:138: 	Request Query Params
2023/09/14 20:43:31.430378 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 20:43:31.430398 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:43:31.430420 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 20:43:31.430797 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:43:31.430845 ttproxy.go:138: 	Request Query Params
2023/09/14 20:43:31.430866 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:43:31.430878 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:43:31.490726 ttproxy.go:149: Response Status Code 200
2023/09/14 20:43:31.724669 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 20:43:31.796087 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:43:31.807280 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:43:31.808645 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 20:43:31.808788 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.808784 +0100 BST
2023/09/14 20:43:31.809430 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 20:43:31.809457 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 20:43:31.809573 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.809685 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 20:43:31.810484 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 20:43:31.810773 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:43:31.811089 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 20:43:31.811471 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 20:43:31.811545 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.811542 +0100 BST
2023/09/14 20:43:31.811837 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 20:43:31.811858 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 20:43:31.811927 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.812001 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 20:43:31.812279 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 20:43:31.812302 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 20:43:31.812865 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:43:31.813427 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 20:43:31.813506 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.813503 +0100 BST
2023/09/14 20:43:31.813947 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 20:43:31.813965 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 20:43:31.814046 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.814122 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 20:43:31.814544 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 20:43:31.814567 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:43:31.814788 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:43:31.815113 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 20:43:31.815168 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.815166 +0100 BST
2023/09/14 20:43:31.815458 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 20:43:31.815470 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 20:43:31.815522 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.815585 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 20:43:31.815850 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 20:43:31.816039 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:43:31.816238 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:43:31.816553 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 20:43:31.816624 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.816622 +0100 BST
2023/09/14 20:43:31.816956 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 20:43:31.816971 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 20:43:31.817029 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.817090 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 20:43:31.817360 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 20:43:31.817380 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:43:31.817572 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:43:31.817846 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 20:43:31.817910 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.817908 +0100 BST
2023/09/14 20:43:31.818172 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 20:43:31.818184 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 20:43:31.818239 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.818300 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 20:43:31.818624 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 20:43:31.818660 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:43:31.818765 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:43:31.819055 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 20:43:31.819088 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.819087 +0100 BST
2023/09/14 20:43:31.819203 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 20:43:31.819211 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 20:43:31.819237 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.819263 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 20:43:31.819458 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 20:43:31.819489 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:43:31.819579 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:43:31.819706 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 20:43:31.819734 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.819733 +0100 BST
2023/09/14 20:43:31.819823 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 20:43:31.819829 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 20:43:31.819850 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.819876 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 20:43:31.819972 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 20:43:31.819986 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:43:31.820138 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:43:31.820265 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 20:43:31.820285 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.820284 +0100 BST
2023/09/14 20:43:31.820407 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 20:43:31.820411 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:43:31.820433 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.820454 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 20:43:31.820457 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:43:31.820461 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:43:31.820550 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 20:43:31.821093 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 20:43:31.821510 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.821507 +0100 BST
2023/09/14 20:43:31.822015 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 20:43:31.822030 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:43:31.822057 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.822083 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 20:43:31.822191 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 20:43:31.822198 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 20:43:31.822355 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:43:31.822499 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 20:43:31.822519 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.822519 +0100 BST
2023/09/14 20:43:31.822638 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 20:43:31.822642 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 20:43:31.822661 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.822683 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 20:43:31.822686 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:43:31.822692 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:43:31.822848 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:43:31.823123 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 20:43:31.823154 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.823154 +0100 BST
2023/09/14 20:43:31.823300 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 20:43:31.823306 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 20:43:31.823329 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.823356 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 20:43:31.823360 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:43:31.823366 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:43:31.823466 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:43:31.823579 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 20:43:31.823601 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.8236 +0100 BST
2023/09/14 20:43:31.823690 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 20:43:31.823697 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 20:43:31.823717 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.823739 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 20:43:31.823829 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 20:43:31.823836 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:43:31.823910 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 20:43:31.824015 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 20:43:31.824036 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.824036 +0100 BST
2023/09/14 20:43:31.824122 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 20:43:31.824127 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 20:43:31.824147 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.824168 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 20:43:31.824262 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 20:43:31.824269 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 20:43:31.824438 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:43:31.824585 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 20:43:31.824606 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.824605 +0100 BST
2023/09/14 20:43:31.824726 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 20:43:31.824730 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 20:43:31.824751 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.824772 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 20:43:31.824776 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:43:31.824781 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:43:31.824916 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 20:43:31.825057 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 20:43:31.825077 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.825076 +0100 BST
2023/09/14 20:43:31.825202 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 20:43:31.825206 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 20:43:31.825229 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.825250 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 20:43:31.825369 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 20:43:31.825375 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 20:43:31.825533 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:43:31.825681 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 20:43:31.825701 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.8257 +0100 BST
2023/09/14 20:43:31.825831 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 20:43:31.825834 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 20:43:31.825855 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.825876 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 20:43:31.825879 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:43:31.825884 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:43:31.826050 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 20:43:31.826205 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 20:43:31.826225 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.826225 +0100 BST
2023/09/14 20:43:31.826367 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 20:43:31.826371 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 20:43:31.826393 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.826431 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 20:43:31.826441 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:43:31.826450 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 20:43:31.826606 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:43:31.826711 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 20:43:31.826739 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.826738 +0100 BST
2023/09/14 20:43:31.826744 ttxdwconsumer.go:336: Duration - 1 Days 22 Hrs 11 Mins
2023/09/14 20:43:31.826769 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:43:31.826773 ttxdwconsumer.go:347: Workflow Time Remaining : 433h48m56.173228s
2023/09/14 20:43:31.826802 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.826825 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:43:31.826828 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:43:31.826835 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 20:43:31.826839 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 20:43:31.827108 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:43:31.827537 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 20:43:31.827556 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.827556 +0100 BST
2023/09/14 20:43:31.827741 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 20:43:31.827744 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:43:31.827765 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.827784 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 20:43:31.827787 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:43:31.827792 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:43:31.828018 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:43:31.829331 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 20:43:31.829351 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.82935 +0100 BST
2023/09/14 20:43:31.829503 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 20:43:31.829506 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 20:43:31.829524 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.829543 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 20:43:31.829545 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:43:31.829551 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:43:31.829804 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:43:31.829986 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 20:43:31.830007 ttxdwconsumer.go:330: Time Now 2023-09-14 20:43:31.830007 +0100 BST
2023/09/14 20:43:31.830011 ttxdwconsumer.go:336: Duration - 1 Days 10 Hrs 22 Mins
2023/09/14 20:43:31.830030 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:43:31.830033 ttxdwconsumer.go:347: Workflow Time Remaining : 445h37m57.169968s
2023/09/14 20:43:31.830054 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:43:31.830072 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:43:31.830075 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:43:31.830080 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 20:43:31.830101 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 20:43:31.830148 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:43:31.919856 ttproxy.go:149: Response Status Code 200
2023/09/14 20:43:31.944050 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:43:31.944131 ttproxy.go:138: 	Request Query Params
2023/09/14 20:43:31.944192 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:43:31.944213 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 20:43:31.945795 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:43:31.945823 ttproxy.go:138: 	Request Query Params
2023/09/14 20:43:31.945838 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 20:43:31.945848 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:43:31.945857 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 20:43:32.005111 ttproxy.go:149: Response Status Code 200
2023/09/14 20:43:32.011042 ttproxy.go:149: Response Status Code 200
2023/09/14 20:43:40.052175 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:43:40.052408 ttproxy.go:138: 	Request Query Params
2023/09/14 20:43:40.052539 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:43:40.052590 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 20:43:40.052650 ttproxy.go:149: Response Status Code 200
2023/09/14 20:43:40.052420 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:43:40.053614 ttproxy.go:138: 	Request Query Params
2023/09/14 20:43:40.053694 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 20:43:40.053728 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:43:40.116214 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 20:43:40.178862 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:43:40.179091 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:43:40.179742 ttproxy.go:149: Response Status Code 200
2023/09/14 20:43:42.790624 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:43:42.790804 ttproxy.go:138: 	Request Query Params
2023/09/14 20:43:42.790879 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:43:42.790908 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:43:42.790963 tttmplts.go:37: CGL Worker starting
2023/09/14 20:43:42.791942 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:43:42.792265 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:43:42.793344 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:43:42.793365 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:43:43.007520 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:43:43.009975 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:43:43.010192 tttmplts.go:39: CGL Worker done
2023/09/14 20:43:43.010281 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:43:47.793551 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:43:47.795798 tttmplts.go:32: PIXm Worker done
2023/09/14 20:43:47.795907 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:43:47.796277 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:43:47.796549 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[1c1df915-66a4-4617-aa01-e23a4ceb0022]]
2023/09/14 20:43:48.005461 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:43:48.008336 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:43:48.012500 tttmplts.go:93: template: pdsretrieve_tmplt:65:36: executing "pdsretrieve_tmplt" at <.Address.Line>: can't evaluate field Address in type *main.Trans
2023/09/14 20:43:48.012697 ttproxy.go:105: template: pdsretrieve_tmplt:65:36: executing "pdsretrieve_tmplt" at <.Address.Line>: can't evaluate field Address in type *main.Trans
2023/09/14 20:43:48.012745 ttproxy.go:149: Response Status Code 500
2023/09/14 20:43:48.012768 ttproxy.go:151: 
2023/09/14 20:43:48.012791 ttproxy.go:152: Response Headers
2023/09/14 20:43:48.013283 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 20:43:48.013615 ttproxy.go:154: ----------------
2023/09/14 20:43:48.013637 ttproxy.go:155: Response
2023/09/14 20:43:48.013656 ttproxy.go:156: ----------------
2023/09/14 20:43:48.015743 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:57590",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 20:43:48.015871 ttproxy.go:158: -------------
2023/09/14 20:43:48.015896 ttproxy.go:160: Error template: pdsretrieve_tmplt:65:36: executing "pdsretrieve_tmplt" at <.Address.Line>: can't evaluate field Address in type *main.Trans
2023/09/14 20:43:48.015910 ttproxy.go:161: -------------
2023/09/14 20:44:29.797284 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:44:31.475656 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:44:31.476129 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:44:31.476282 ttdb.go:54: Opened Database
2023/09/14 20:44:31.653569 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:44:31.716360 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:44:31.716418 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:44:31.783811 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:44:31.879404 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:44:31.879443 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:44:31.945478 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:44:32.010250 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:44:32.010410 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:44:32.072778 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:44:32.134972 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:44:32.135121 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:44:32.198896 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:44:32.261045 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:44:32.261119 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:44:32.323213 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:44:32.439400 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:44:32.439477 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:44:32.503071 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:44:32.570238 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:44:32.570404 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:44:32.649489 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:44:32.716365 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:44:32.716504 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:44:32.779509 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:44:32.843771 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:44:32.843903 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:44:32.908358 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:44:32.972118 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:44:32.972283 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:44:33.046483 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:44:33.132360 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:44:33.132503 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:44:33.195409 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:44:33.277165 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:44:33.277249 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:44:33.341375 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:44:33.410407 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:44:33.410471 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:44:33.473243 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:44:33.537899 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:44:33.538066 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:44:33.603481 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:44:33.668848 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:44:33.669030 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:44:33.734440 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:44:33.798594 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:44:33.798770 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:44:33.864720 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:44:33.934037 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:44:33.934207 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:44:33.999483 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:44:34.067896 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:44:34.068064 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:44:34.131682 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:44:34.202906 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:44:34.203125 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:44:34.266648 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:44:34.341631 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:44:34.341809 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:44:34.406192 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:44:34.474772 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:44:34.474809 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:44:34.537276 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:44:34.604890 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:44:34.605000 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:44:34.605185 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:44:37.721679 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:44:37.721873 ttproxy.go:138: 	Request Query Params
2023/09/14 20:44:37.722254 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:44:37.722286 ttgethandler.go:15: Path = /spa
2023/09/14 20:44:37.722303 tttmplts.go:23: Using Default SPA template
2023/09/14 20:44:37.902271 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:44:37.920285 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 20:44:37.922997 ttproxy.go:149: Response Status Code 200
2023/09/14 20:44:37.971700 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:44:37.971787 ttproxy.go:138: 	Request Query Params
2023/09/14 20:44:37.971832 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 20:44:37.971850 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:44:37.971872 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 20:44:37.972319 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:44:37.972376 ttproxy.go:138: 	Request Query Params
2023/09/14 20:44:37.972401 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:44:37.972417 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:44:38.033165 ttproxy.go:149: Response Status Code 200
2023/09/14 20:44:38.270196 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 20:44:38.346355 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:44:38.349809 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:44:38.351142 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 20:44:38.351670 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.351666 +0100 BST
2023/09/14 20:44:38.354473 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 20:44:38.354599 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 20:44:38.354777 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.354894 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 20:44:38.357081 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 20:44:38.357242 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:44:38.357517 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 20:44:38.357820 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 20:44:38.357877 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.357875 +0100 BST
2023/09/14 20:44:38.358104 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 20:44:38.358118 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 20:44:38.358178 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.358233 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 20:44:38.358462 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 20:44:38.358480 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 20:44:38.358926 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:44:38.359445 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 20:44:38.359567 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.359564 +0100 BST
2023/09/14 20:44:38.360035 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 20:44:38.360062 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 20:44:38.360133 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.360206 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 20:44:38.360608 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 20:44:38.360634 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:44:38.360909 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:44:38.361737 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 20:44:38.361817 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.361815 +0100 BST
2023/09/14 20:44:38.362096 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 20:44:38.362112 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 20:44:38.362170 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.362225 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 20:44:38.362486 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 20:44:38.362772 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:44:38.363051 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:44:38.363587 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 20:44:38.363668 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.363666 +0100 BST
2023/09/14 20:44:38.363945 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 20:44:38.363961 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 20:44:38.364016 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.364082 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 20:44:38.364350 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 20:44:38.364381 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:44:38.364693 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:44:38.365052 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 20:44:38.365119 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.365117 +0100 BST
2023/09/14 20:44:38.365451 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 20:44:38.365473 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 20:44:38.365530 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.365588 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 20:44:38.365804 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 20:44:38.365822 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:44:38.366021 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:44:38.366291 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 20:44:38.366344 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.366342 +0100 BST
2023/09/14 20:44:38.366562 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 20:44:38.366580 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 20:44:38.366685 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.366772 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 20:44:38.367059 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 20:44:38.367087 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:44:38.367292 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:44:38.367596 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 20:44:38.367660 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.367659 +0100 BST
2023/09/14 20:44:38.367995 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 20:44:38.368014 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 20:44:38.368083 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.368179 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 20:44:38.368452 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 20:44:38.368491 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:44:38.368913 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:44:38.369466 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 20:44:38.369726 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.369724 +0100 BST
2023/09/14 20:44:38.370027 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 20:44:38.370043 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:44:38.370102 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.370165 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 20:44:38.370177 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:44:38.370193 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:44:38.370446 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 20:44:38.370693 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 20:44:38.370735 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.370734 +0100 BST
2023/09/14 20:44:38.370872 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 20:44:38.370882 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:44:38.370917 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.370946 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 20:44:38.371084 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 20:44:38.371095 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 20:44:38.371275 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:44:38.371479 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 20:44:38.371508 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.371507 +0100 BST
2023/09/14 20:44:38.371654 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 20:44:38.371661 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 20:44:38.371691 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.371717 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 20:44:38.371722 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:44:38.371729 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:44:38.371918 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:44:38.372137 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 20:44:38.372167 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.372166 +0100 BST
2023/09/14 20:44:38.372415 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 20:44:38.372428 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 20:44:38.372565 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.373010 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 20:44:38.373020 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:44:38.373029 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:44:38.373308 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:44:38.373432 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 20:44:38.373454 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.373453 +0100 BST
2023/09/14 20:44:38.373538 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 20:44:38.373542 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 20:44:38.373566 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.373586 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 20:44:38.373671 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 20:44:38.373678 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:44:38.373749 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 20:44:38.373850 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 20:44:38.373869 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.373868 +0100 BST
2023/09/14 20:44:38.373949 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 20:44:38.373953 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 20:44:38.373976 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.373996 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 20:44:38.374083 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 20:44:38.374090 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 20:44:38.374240 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:44:38.374367 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 20:44:38.374389 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.374389 +0100 BST
2023/09/14 20:44:38.374501 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 20:44:38.374505 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 20:44:38.374525 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.374545 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 20:44:38.374548 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:44:38.374554 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:44:38.374681 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 20:44:38.374808 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 20:44:38.374828 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.374828 +0100 BST
2023/09/14 20:44:38.374942 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 20:44:38.374946 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 20:44:38.374966 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.374986 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 20:44:38.375096 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 20:44:38.375102 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 20:44:38.375248 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:44:38.375375 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 20:44:38.375395 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.375395 +0100 BST
2023/09/14 20:44:38.375504 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 20:44:38.375508 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 20:44:38.375527 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.375548 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 20:44:38.375551 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:44:38.375557 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:44:38.375712 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 20:44:38.375855 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 20:44:38.375874 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.375873 +0100 BST
2023/09/14 20:44:38.376006 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 20:44:38.376011 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 20:44:38.376033 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.376060 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 20:44:38.376065 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:44:38.376071 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 20:44:38.376203 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:44:38.376271 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 20:44:38.376289 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.376289 +0100 BST
2023/09/14 20:44:38.376293 ttxdwconsumer.go:336: Duration - 1 Days 22 Hrs 12 Mins
2023/09/14 20:44:38.376314 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:44:38.376319 ttxdwconsumer.go:347: Workflow Time Remaining : 433h47m49.623682s
2023/09/14 20:44:38.376342 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.376362 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:44:38.376366 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:44:38.376372 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 20:44:38.376377 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 20:44:38.376609 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:44:38.376815 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 20:44:38.376834 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.376833 +0100 BST
2023/09/14 20:44:38.377041 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 20:44:38.377046 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:44:38.377067 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.377090 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 20:44:38.377094 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:44:38.377100 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:44:38.377355 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:44:38.377913 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 20:44:38.377938 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.377937 +0100 BST
2023/09/14 20:44:38.378110 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 20:44:38.378115 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 20:44:38.378137 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.378160 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 20:44:38.378164 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:44:38.378172 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:44:38.378426 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:44:38.378617 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 20:44:38.378637 ttxdwconsumer.go:330: Time Now 2023-09-14 20:44:38.378636 +0100 BST
2023/09/14 20:44:38.378641 ttxdwconsumer.go:336: Duration - 1 Days 10 Hrs 23 Mins
2023/09/14 20:44:38.378661 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:44:38.378666 ttxdwconsumer.go:347: Workflow Time Remaining : 445h36m50.621335s
2023/09/14 20:44:38.378685 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:44:38.378705 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:44:38.378709 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:44:38.378715 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 20:44:38.378739 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 20:44:38.378785 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:44:38.472906 ttproxy.go:149: Response Status Code 200
2023/09/14 20:44:38.496899 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:44:38.497004 ttproxy.go:138: 	Request Query Params
2023/09/14 20:44:38.497066 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:44:38.497087 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 20:44:38.498341 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:44:38.498377 ttproxy.go:138: 	Request Query Params
2023/09/14 20:44:38.498404 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 20:44:38.498416 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:44:38.498427 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 20:44:38.591354 ttproxy.go:149: Response Status Code 200
2023/09/14 20:44:38.591989 ttproxy.go:149: Response Status Code 200
2023/09/14 20:44:49.097606 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:44:49.097804 ttproxy.go:138: 	Request Query Params
2023/09/14 20:44:49.097868 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:44:49.097969 ttproxy.go:138: 	Request Query Params
2023/09/14 20:44:49.097901 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:44:49.098021 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 20:44:49.099285 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 20:44:49.099479 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:44:49.100283 ttproxy.go:149: Response Status Code 200
2023/09/14 20:44:49.164838 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 20:44:49.227080 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:44:49.227270 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:44:49.227759 ttproxy.go:149: Response Status Code 200
2023/09/14 20:44:51.261905 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:44:51.262090 ttproxy.go:138: 	Request Query Params
2023/09/14 20:44:51.262184 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:44:51.262223 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:44:51.262290 tttmplts.go:37: CGL Worker starting
2023/09/14 20:44:51.262307 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:44:51.262873 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:44:51.264914 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:44:51.264937 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:44:51.438206 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:44:51.441021 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:44:51.441143 tttmplts.go:39: CGL Worker done
2023/09/14 20:44:51.441181 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:44:56.264938 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:44:56.265550 tttmplts.go:32: PIXm Worker done
2023/09/14 20:44:56.265646 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:44:56.266133 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:44:56.266345 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[ad560017-7010-4a82-bcb5-6c5de88546e1]]
2023/09/14 20:44:56.471101 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:44:56.474196 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:44:56.477988 tttmplts.go:93: template: pdsretrieve_tmplt:65:32: executing "pdsretrieve_tmplt" at <$rsp.Address.Line>: can't evaluate field Line in type []struct { ID string "json:\"id,omitempty\""; Period struct { Start string "json:\"start,omitempty\""; End string "json:\"end,omitempty\"" } "json:\"period,omitempty\""; Use string "json:\"use,omitempty\""; Line []string "json:\"line,omitempty\""; PostalCode string "json:\"postalCode,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; ValueCoding struct { System string "json:\"system,omitempty\""; Code string "json:\"code,omitempty\"" } "json:\"valueCoding,omitempty\""; ValueString string "json:\"valueString,omitempty\"" } "json:\"extension,omitempty\"" } "json:\"extension,omitempty\""; Text string "json:\"text,omitempty\"" }
2023/09/14 20:44:56.478127 ttproxy.go:105: template: pdsretrieve_tmplt:65:32: executing "pdsretrieve_tmplt" at <$rsp.Address.Line>: can't evaluate field Line in type []struct { ID string "json:\"id,omitempty\""; Period struct { Start string "json:\"start,omitempty\""; End string "json:\"end,omitempty\"" } "json:\"period,omitempty\""; Use string "json:\"use,omitempty\""; Line []string "json:\"line,omitempty\""; PostalCode string "json:\"postalCode,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; ValueCoding struct { System string "json:\"system,omitempty\""; Code string "json:\"code,omitempty\"" } "json:\"valueCoding,omitempty\""; ValueString string "json:\"valueString,omitempty\"" } "json:\"extension,omitempty\"" } "json:\"extension,omitempty\""; Text string "json:\"text,omitempty\"" }
2023/09/14 20:44:56.478161 ttproxy.go:149: Response Status Code 500
2023/09/14 20:44:56.478178 ttproxy.go:151: 
2023/09/14 20:44:56.478196 ttproxy.go:152: Response Headers
2023/09/14 20:44:56.478288 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 20:44:56.478310 ttproxy.go:154: ----------------
2023/09/14 20:44:56.478324 ttproxy.go:155: Response
2023/09/14 20:44:56.478335 ttproxy.go:156: ----------------
2023/09/14 20:44:56.478770 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:57641",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 20:44:56.478810 ttproxy.go:158: -------------
2023/09/14 20:44:56.478826 ttproxy.go:160: Error template: pdsretrieve_tmplt:65:32: executing "pdsretrieve_tmplt" at <$rsp.Address.Line>: can't evaluate field Line in type []struct { ID string "json:\"id,omitempty\""; Period struct { Start string "json:\"start,omitempty\""; End string "json:\"end,omitempty\"" } "json:\"period,omitempty\""; Use string "json:\"use,omitempty\""; Line []string "json:\"line,omitempty\""; PostalCode string "json:\"postalCode,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; Extension []struct { URL string "json:\"url,omitempty\""; ValueCoding struct { System string "json:\"system,omitempty\""; Code string "json:\"code,omitempty\"" } "json:\"valueCoding,omitempty\""; ValueString string "json:\"valueString,omitempty\"" } "json:\"extension,omitempty\"" } "json:\"extension,omitempty\""; Text string "json:\"text,omitempty\"" }
2023/09/14 20:44:56.478839 ttproxy.go:161: -------------
2023/09/14 20:47:49.474368 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:47:51.356283 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:47:51.356777 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:47:51.356908 ttdb.go:54: Opened Database
2023/09/14 20:47:51.543095 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:47:51.609868 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:47:51.609946 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:47:51.676123 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:47:51.776727 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:47:51.776783 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:47:51.843116 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:47:51.910826 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:47:51.910916 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:47:51.976993 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:47:52.044539 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:47:52.044650 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:47:52.110715 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:47:52.177445 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:47:52.177624 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:47:52.243335 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:47:52.362849 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:47:52.362937 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:47:52.429271 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:47:52.495841 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:47:52.496001 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:47:52.561231 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:47:52.627993 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:47:52.628156 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:47:52.692727 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:47:52.762748 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:47:52.762807 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:47:52.828526 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:47:52.893603 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:47:52.893619 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:47:52.960380 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:47:53.039478 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:47:53.039570 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:47:53.105177 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:47:53.186091 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:47:53.186147 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:47:53.251704 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:47:53.326696 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:47:53.326873 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:47:53.394422 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:47:53.462153 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:47:53.462226 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:47:53.531165 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:47:53.597439 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:47:53.597609 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:47:53.664219 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:47:53.729273 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:47:53.729451 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:47:53.795796 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:47:53.865109 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:47:53.865301 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:47:53.932042 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:47:54.001022 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:47:54.001059 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:47:54.066629 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:47:54.135951 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:47:54.136016 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:47:54.200748 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:47:54.269840 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:47:54.269989 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:47:54.334364 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:47:54.407195 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:47:54.407337 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:47:54.474420 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:47:54.540797 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:47:54.540969 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:47:54.541279 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:47:58.977479 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:47:58.977572 ttproxy.go:138: 	Request Query Params
2023/09/14 20:47:58.977803 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:47:58.977821 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:47:58.977848 tttmplts.go:37: CGL Worker starting
2023/09/14 20:47:58.977852 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:47:58.978188 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:47:58.979499 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:47:58.979573 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:47:59.159757 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:47:59.165482 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:47:59.165614 tttmplts.go:39: CGL Worker done
2023/09/14 20:47:59.165650 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:48:03.979845 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:48:03.980240 tttmplts.go:32: PIXm Worker done
2023/09/14 20:48:03.980297 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:48:03.980457 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:48:03.980617 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[d4407c66-29ac-4f5c-b0a7-ccdecf0e0eae]]
2023/09/14 20:48:04.161717 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:48:04.362186 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:48:04.367679 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:48:04.371469 ttproxy.go:149: Response Status Code 200
2023/09/14 20:53:46.070666 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:53:47.934067 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:53:47.934553 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:53:47.934684 ttdb.go:54: Opened Database
2023/09/14 20:53:48.155156 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:53:48.220379 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:53:48.220435 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:53:48.286320 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:53:48.385508 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:53:48.385559 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:53:48.448310 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:53:48.515738 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:53:48.515766 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:53:48.580097 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:53:48.642817 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:53:48.642977 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:53:48.705966 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:53:48.771150 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:53:48.771285 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:53:48.834569 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:53:48.956377 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:53:48.956403 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:53:49.019916 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:53:49.086232 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:53:49.086275 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:53:49.150381 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:53:49.212180 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:53:49.212214 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:53:49.276897 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:53:49.345251 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:53:49.345405 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:53:49.409920 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:53:49.473245 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:53:49.473392 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:53:49.535358 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:53:49.613131 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:53:49.613288 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:53:49.676810 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:53:49.760456 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:53:49.760579 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:53:49.825206 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:53:49.894959 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:53:49.895105 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:53:49.967819 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:53:50.030183 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:53:50.030235 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:53:50.094543 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:53:50.158528 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:53:50.158719 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:53:50.223155 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:53:50.288221 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:53:50.288429 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:53:50.353908 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:53:50.425000 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:53:50.425191 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:53:50.489975 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:53:50.556536 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:53:50.556707 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:53:50.621057 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:53:50.690210 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:53:50.690371 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:53:50.755060 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:53:50.829188 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:53:50.829398 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:53:50.894251 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:53:50.964732 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:53:50.964918 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:53:51.028455 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:53:51.093057 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:53:51.093088 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:53:51.093150 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:53:54.236726 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:53:54.236915 ttproxy.go:138: 	Request Query Params
2023/09/14 20:53:54.237274 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:53:54.237318 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:53:54.237353 tttmplts.go:37: CGL Worker starting
2023/09/14 20:53:54.237357 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:53:54.237856 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:53:54.239024 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:53:54.239040 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:53:54.754414 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:53:54.761472 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:53:54.761641 tttmplts.go:39: CGL Worker done
2023/09/14 20:53:54.761689 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:53:59.240975 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:53:59.241410 tttmplts.go:32: PIXm Worker done
2023/09/14 20:53:59.241480 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:53:59.241902 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:53:59.242124 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[3f78b15f-19d3-4c58-b896-57990d83f7b8]]
2023/09/14 20:54:00.010206 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:54:00.254045 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:54:00.258620 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 20:54:00.259187 server.go:3217: http: panic serving [::1]:57802: runtime error: invalid memory address or nil pointer dereference
goroutine 19 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc00019caf8?, 0xc0004abfc0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0001e8000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0001e8000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setPatientTemplate(0xc0001e8000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:53 +0x1b1
main.(*Trans).newGetHandler(0xc0001e8000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:28 +0xd94
main.(*Trans).newProxyTrans(0xc0001e8000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0001aa1c0}, 0xc0001c6100)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0001d601f?, {0x15657d0?, 0xc0001aa1c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001ae240?}, {0x15657d0, 0xc0001aa1c0}, 0xc0001c6100)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000a1950, {0x15659c8, 0xc0000a3e30})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:04.854092 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:57:06.413959 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:57:06.414456 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:57:06.414584 ttdb.go:54: Opened Database
2023/09/14 20:57:06.589862 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:57:06.652832 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:57:06.652899 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:57:06.715630 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:57:06.812506 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:57:06.812578 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:57:06.874969 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:57:06.943160 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:57:06.943192 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:57:07.006893 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:57:07.071215 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:57:07.071390 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:57:07.135167 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:57:07.198824 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:57:07.198991 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:57:07.262422 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:57:07.378235 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:57:07.378419 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:57:07.443535 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:57:07.510563 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:57:07.510724 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:57:07.573710 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:57:07.636864 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:57:07.636936 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:57:07.699535 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:57:07.764069 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:57:07.764246 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:57:07.832411 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:57:07.902082 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:57:07.902381 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:57:07.967792 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:57:08.061149 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:57:08.061362 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:57:08.126370 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:57:08.208651 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:57:08.208853 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:57:08.273415 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:57:08.342806 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:57:08.342965 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:57:08.405409 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:57:08.466859 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:57:08.466883 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:57:08.529657 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:57:08.592352 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:57:08.592373 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:57:08.654508 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:57:08.718245 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:57:08.718304 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:57:08.783949 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:57:08.850512 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:57:08.850669 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:57:08.913252 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:57:08.980451 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:57:08.980601 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:57:09.044066 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:57:09.111518 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:57:09.111731 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:57:09.176002 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:57:09.247343 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:57:09.247528 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:57:09.322016 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:57:09.402540 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:57:09.402675 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:57:09.465727 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:57:09.532501 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:57:09.532666 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:57:09.533006 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:57:16.662264 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:16.662444 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:16.662806 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:16.662854 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:16.662877 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:16.846800 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:16.855295 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:16.855962 server.go:3217: http: panic serving [::1]:57891: runtime error: invalid memory address or nil pointer dereference
goroutine 8 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0000289a8?, 0xc000459fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000366000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0002fe8c0}, 0xc0001be100)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0000306c9?, {0x15657d0?, 0xc0002fe8c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001a6480?}, {0x15657d0, 0xc0002fe8c0}, 0xc0001be100)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007b0e0, {0x15659c8, 0xc000075500})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:16.856817 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:16.856869 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:16.856910 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:16.856924 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:16.856936 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:16.940790 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:16.944714 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:16.945087 server.go:3217: http: panic serving [::1]:57892: runtime error: invalid memory address or nil pointer dereference
goroutine 9 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0000284c8?, 0xc00055dfb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000368600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000368600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000368600?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000368600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000368600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0002fe1c0}, 0xc000358000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0004a3ec9?, {0x15657d0?, 0xc0002fe1c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000075650?}, {0x15657d0, 0xc0002fe1c0}, 0xc000358000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007b170, {0x15659c8, 0xc000075500})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:16.946389 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:16.946431 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:16.946476 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:16.946489 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:16.946501 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:17.030998 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:17.034710 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:17.035228 server.go:3217: http: panic serving [::1]:57895: runtime error: invalid memory address or nil pointer dereference
goroutine 65 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028c00?, 0xc00024ffb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000369900)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000369900)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000369900?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000369900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000369900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0002feb60}, 0xc0004c4900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0001b8bc9?, {0x15657d0?, 0xc0002feb60?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001d6ed0?}, {0x15657d0, 0xc0002feb60}, 0xc0004c4900)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a510, {0x15659c8, 0xc000075500})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:18.077314 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:18.077465 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:18.077538 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:18.077561 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:18.077575 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:18.233798 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:18.242552 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:18.243109 server.go:3217: http: panic serving [::1]:57896: runtime error: invalid memory address or nil pointer dereference
goroutine 68 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0000aa270?, 0xc000215fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000366000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc000400000}, 0xc00027c000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc00024a009?, {0x15657d0?, 0xc000400000?}, 0x2e303d713b2a2f2a?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc00027a030?}, {0x15657d0, 0xc000400000}, 0xc00027c000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a900, {0x15659c8, 0xc000075500})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:18.243928 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:18.244003 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:18.244071 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:18.244102 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:18.244124 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:18.329438 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:18.338805 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:18.339477 server.go:3217: http: panic serving [::1]:57897: runtime error: invalid memory address or nil pointer dereference
goroutine 69 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0000aa780?, 0xc0002effb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000368600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000368600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000368600?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000368600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000368600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0004008c0}, 0xc0002d1100)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000317909?, {0x15657d0?, 0xc0004008c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000332990?}, {0x15657d0, 0xc0004008c0}, 0xc0002d1100)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a990, {0x15659c8, 0xc000075500})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:18.341027 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:18.341135 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:18.341219 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:18.341244 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:18.341287 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:18.425860 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:18.433749 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:18.434365 server.go:3217: http: panic serving [::1]:57898: runtime error: invalid memory address or nil pointer dereference
goroutine 72 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0000aac90?, 0xc0004a7fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000369900)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000369900)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000369900?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000369900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000369900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc000401180}, 0xc00010b900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000031409?, {0x15657d0?, 0xc000401180?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000445560?}, {0x15657d0, 0xc000401180}, 0xc00010b900)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a510, {0x15659c8, 0xc000075500})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:23.455369 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:23.455524 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:23.455609 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:23.455636 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:23.455654 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:23.638730 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:23.641751 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:23.642009 server.go:3217: http: panic serving [::1]:57899: runtime error: invalid memory address or nil pointer dereference
goroutine 75 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028180?, 0xc000135fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000366000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000366000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0004001c0}, 0xc0001be000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000542d09?, {0x15657d0?, 0xc0004001c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc00011c030?}, {0x15657d0, 0xc0004001c0}, 0xc0001be000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0001261b0, {0x15659c8, 0xc000075500})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:23.642466 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:23.642495 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:23.642518 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:23.642526 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:23.642533 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:23.732050 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:23.735522 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:23.735720 server.go:3217: http: panic serving [::1]:57900: runtime error: invalid memory address or nil pointer dereference
goroutine 76 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0000aa4b0?, 0xc00030dfb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000242000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000242000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000242000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000242000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000242000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc000152380}, 0xc000516500)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0004b6609?, {0x15657d0?, 0xc000152380?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001a7110?}, {0x15657d0, 0xc000152380}, 0xc000516500)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc000126240, {0x15659c8, 0xc000075500})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:23.737004 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:23.737027 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:23.737048 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:23.737054 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:23.737060 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:23.820391 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:23.822738 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:23.822914 server.go:3217: http: panic serving [::1]:57901: runtime error: invalid memory address or nil pointer dereference
goroutine 78 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028528?, 0xc0001e5fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc000243300)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc000243300)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc000243300?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc000243300)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc000243300)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0001521c0}, 0xc0001be500)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0004b78c9?, {0x15657d0?, 0xc0001521c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001460c0?}, {0x15657d0, 0xc0001521c0}, 0xc0001be500)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00007a1b0, {0x15659c8, 0xc000075500})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:41.454182 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:57:42.903011 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:57:42.903515 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:57:42.903645 ttdb.go:54: Opened Database
2023/09/14 20:57:43.080610 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:57:43.145020 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:57:43.145076 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:57:43.209258 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:57:43.305331 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:57:43.305356 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:57:43.369531 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:57:43.439386 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:57:43.439554 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:57:43.503803 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:57:43.568295 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:57:43.568440 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:57:43.631766 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:57:43.697372 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:57:43.697446 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:57:43.761838 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:57:43.879978 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:57:43.880079 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:57:43.943889 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:57:44.009976 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:57:44.010102 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:57:44.074860 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:57:44.139214 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:57:44.139391 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:57:44.204971 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:57:44.270656 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:57:44.270766 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:57:44.337381 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:57:44.402657 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:57:44.402847 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:57:44.467671 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:57:44.549390 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:57:44.549574 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:57:44.614324 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:57:44.695508 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:57:44.695676 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:57:44.761786 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:57:44.833271 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:57:44.833346 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:57:44.901231 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:57:44.966514 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:57:44.966701 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:57:45.029825 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:57:45.094635 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:57:45.094807 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:57:45.162291 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:57:45.227483 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:57:45.227658 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:57:45.295324 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:57:45.362090 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:57:45.362293 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:57:45.427415 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:57:45.498313 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:57:45.498487 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:57:45.561545 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:57:45.639763 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:57:45.639851 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:57:45.707399 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:57:45.776557 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:57:45.776709 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:57:45.841809 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:57:45.914039 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:57:45.914247 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:57:45.977755 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:57:46.042767 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:57:46.042943 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:57:46.043272 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:57:52.174813 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:52.174944 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:52.175283 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:52.175311 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:52.175327 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:52.357258 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:52.373105 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:52.373859 server.go:3217: http: panic serving [::1]:57910: runtime error: invalid memory address or nil pointer dereference
goroutine 18 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc00009c2e8?, 0xc0004a5fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f2000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0000aa1c0}, 0xc0000c6100)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000098109?, {0x15657d0?, 0xc0000aa1c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0000ae270?}, {0x15657d0, 0xc0000aa1c0}, 0xc0000c6100)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc000197710, {0x15659c8, 0xc000199bc0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:52.375579 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:52.375651 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:52.375702 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:52.375720 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:52.375743 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:52.459930 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:52.463677 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:52.464067 server.go:3217: http: panic serving [::1]:57911: runtime error: invalid memory address or nil pointer dereference
goroutine 19 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc00009c600?, 0xc00021ffb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f4600?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0000aa2a0}, 0xc000380000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0004f1949?, {0x15657d0?, 0xc0000aa2a0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000199d10?}, {0x15657d0, 0xc0000aa2a0}, 0xc000380000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0001977a0, {0x15659c8, 0xc000199bc0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:52.465301 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:52.465391 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:52.465448 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:52.465466 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:52.465478 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:52.550219 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:52.562805 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:52.563297 server.go:3217: http: panic serving [::1]:57912: runtime error: invalid memory address or nil pointer dereference
goroutine 9 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028288?, 0xc00031bfb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f5900)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f5900)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f5900?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f5900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f5900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0000aab60}, 0xc000150f00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0001b5589?, {0x15657d0?, 0xc0000aab60?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0002b5950?}, {0x15657d0, 0xc0000aab60}, 0xc000150f00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d45a0, {0x15659c8, 0xc000199bc0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:53.862554 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:53.862625 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:53.862665 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:53.862679 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:53.862690 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:54.044537 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:54.053306 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:54.054029 server.go:3217: http: panic serving [::1]:57917: runtime error: invalid memory address or nil pointer dereference
goroutine 12 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc00009c120?, 0xc000217fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f2000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0000a4000}, 0xc000150200)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000336049?, {0x15657d0?, 0xc0000a4000?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000388030?}, {0x15657d0, 0xc0000a4000}, 0xc000150200)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d4120, {0x15659c8, 0xc000199bc0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:54.054766 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:54.054826 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:54.054883 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:54.054909 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:54.054928 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:54.139503 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:54.150959 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:54.151555 server.go:3217: http: panic serving [::1]:57918: runtime error: invalid memory address or nil pointer dereference
goroutine 13 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc00009c660?, 0xc000429fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f4600?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0000a48c0}, 0xc0000c7e00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000030d89?, {0x15657d0?, 0xc0000a48c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0002f6060?}, {0x15657d0, 0xc0000a48c0}, 0xc0000c7e00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d41b0, {0x15659c8, 0xc000199bc0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:57:54.152838 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:57:54.152916 ttproxy.go:138: 	Request Query Params
2023/09/14 20:57:54.152990 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:57:54.153014 ttgethandler.go:15: Path = /spa
2023/09/14 20:57:54.153036 tttmplts.go:23: Using Default SPA template
2023/09/14 20:57:54.237720 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:57:54.243921 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:57:54.244550 server.go:3217: http: panic serving [::1]:57919: runtime error: invalid memory address or nil pointer dereference
goroutine 14 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028288?, 0xc0004f9fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f2000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0000a41c0}, 0xc000268e00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0001b4449?, {0x15657d0?, 0xc0000a41c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0003893e0?}, {0x15657d0, 0xc0000a41c0}, 0xc000268e00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00016c1b0, {0x15659c8, 0xc000199bc0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:58:24.271099 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:24.271267 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:24.271360 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:58:24.271395 ttgethandler.go:15: Path = /spa
2023/09/14 20:58:24.271409 tttmplts.go:23: Using Default SPA template
2023/09/14 20:58:24.451789 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:58:24.459432 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:58:24.459699 server.go:3217: http: panic serving [::1]:57935: runtime error: invalid memory address or nil pointer dereference
goroutine 47 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0002760a8?, 0xc0000cdfb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f5900)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f5900)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f5900?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f5900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f5900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0000a47e0}, 0xc000268f00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0001b4589?, {0x15657d0?, 0xc0000a47e0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000389830?}, {0x15657d0, 0xc0000a47e0}, 0xc000268f00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d4120, {0x15659c8, 0xc000199bc0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:58:24.460192 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:24.460228 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:24.460255 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:58:24.460266 ttgethandler.go:15: Path = /spa
2023/09/14 20:58:24.460275 tttmplts.go:23: Using Default SPA template
2023/09/14 20:58:24.544171 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:58:24.549063 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:58:24.549482 server.go:3217: http: panic serving [::1]:57936: runtime error: invalid memory address or nil pointer dereference
goroutine 48 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0002765a0?, 0xc00024ffb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f2000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0000a41c0}, 0xc000079f00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000299809?, {0x15657d0?, 0xc0000a41c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0002a9ef0?}, {0x15657d0, 0xc0000a41c0}, 0xc000079f00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d4240, {0x15659c8, 0xc000199bc0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:58:24.550127 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:24.550170 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:24.550204 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:58:24.550225 ttgethandler.go:15: Path = /spa
2023/09/14 20:58:24.550235 tttmplts.go:23: Using Default SPA template
2023/09/14 20:58:24.633212 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:58:24.640436 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:126: unexpected EOF
2023/09/14 20:58:24.640849 server.go:3217: http: panic serving [::1]:57939: runtime error: invalid memory address or nil pointer dereference
goroutine 68 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000276ab0?, 0xc0003c1fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0000f4600?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0000f4600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0000a4b60}, 0xc000241900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000031349?, {0x15657d0?, 0xc0000a4b60?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000303560?}, {0x15657d0, 0xc0000a4b60}, 0xc000241900)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc000196510, {0x15659c8, 0xc000199bc0})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:58:28.533125 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:58:30.050213 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:58:30.050729 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:58:30.050861 ttdb.go:54: Opened Database
2023/09/14 20:58:30.231711 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:58:30.296825 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:58:30.296870 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:58:30.362612 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:58:30.460782 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:58:30.460817 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:58:30.525871 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:58:30.592135 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:58:30.592161 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:58:30.658601 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:58:30.723075 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:58:30.723242 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:58:30.787726 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:58:30.854058 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:58:30.854114 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:58:30.918729 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:58:31.039299 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:58:31.039350 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:58:31.115861 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:58:31.199846 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:58:31.200018 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:58:31.296206 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:58:31.383054 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:58:31.383088 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:58:31.447749 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:58:31.517752 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:58:31.517934 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:58:31.584350 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:58:31.649577 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:58:31.649635 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:58:31.714453 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:58:31.789071 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:58:31.789126 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:58:31.855787 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:58:31.936513 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:58:31.936615 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:58:32.004947 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:58:32.079378 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:58:32.079482 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:58:32.144740 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:58:32.212919 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:58:32.213096 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:58:32.279405 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:58:32.345302 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:58:32.345488 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:58:32.412077 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:58:32.479825 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:58:32.480038 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:58:32.547042 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:58:32.617497 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:58:32.617667 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:58:32.682015 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:58:32.751466 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:58:32.751511 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:58:32.816105 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:58:32.890718 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:58:32.890897 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:58:32.959715 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:58:33.033791 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:58:33.033991 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:58:33.100762 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:58:33.175084 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:58:33.175197 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:58:33.241344 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:58:33.314017 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:58:33.314160 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:58:33.314443 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:58:38.169911 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:38.170018 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:38.170374 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:58:38.170409 ttgethandler.go:15: Path = /spa
2023/09/14 20:58:38.170425 tttmplts.go:23: Using Default SPA template
2023/09/14 20:58:38.361023 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:58:38.377480 tttmplts.go:87: Processing Template spa2t_tmplt
2023/09/14 20:58:38.380625 ttproxy.go:149: Response Status Code 200
2023/09/14 20:58:38.436201 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:38.436305 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:38.436352 ttutil.go:140: 	{
  "Name": "event-logo.png"
}
2023/09/14 20:58:38.436376 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:58:38.436399 ttsysman.go:237: Retrieving event-logo.png
2023/09/14 20:58:38.437037 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:38.437088 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:38.437111 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:58:38.437122 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:58:38.498956 ttproxy.go:149: Response Status Code 200
2023/09/14 20:58:38.721958 ttxdwconsumer.go:407: selected 22 Workflows for Pathway  NHS  Version -1
2023/09/14 20:58:38.790683 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:58:38.796317 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:58:38.797287 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:18:57 +0100 BST Status CLOSED
2023/09/14 20:58:38.797363 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.797361 +0100 BST
2023/09/14 20:58:38.798002 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:42:42 +0000 UTC
2023/09/14 20:58:38.798036 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 23 Mins
2023/09/14 20:58:38.798145 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.798272 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 19:18:57 +0100 BST
2023/09/14 20:58:38.799512 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:42:42 +0000 UTC. Workflow Target Met = true
2023/09/14 20:58:38.799696 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:58:38.800659 ttxdwconsumer.go:226: Setting EREF Workflow state for Patient 6072406157
2023/09/14 20:58:38.801003 ttxdwconsumer.go:327: Workflow Started 2023-08-24 19:23:11 +0100 BST Status CLOSED
2023/09/14 20:58:38.801069 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.801067 +0100 BST
2023/09/14 20:58:38.801308 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-24 19:22:58 +0000 UTC
2023/09/14 20:58:38.801323 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 59 Mins
2023/09/14 20:58:38.801379 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.801439 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-26 19:23:11 +0100 BST
2023/09/14 20:58:38.801667 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-24 19:22:58 +0000 UTC. Workflow Target Met = true
2023/09/14 20:58:38.801688 ttxdwconsumer.go:296: Workflow eref6072406157 is CLOSED
2023/09/14 20:58:38.802108 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:58:38.802503 ttxdwconsumer.go:327: Workflow Started 2023-08-24 20:42:54 +0100 BST Status CLOSED
2023/09/14 20:58:38.802556 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.802554 +0100 BST
2023/09/14 20:58:38.802850 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 15:06:08 +0000 UTC
2023/09/14 20:58:38.802863 ttxdwconsumer.go:336: Duration - 1 Days 19 Hrs 23 Mins
2023/09/14 20:58:38.802918 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.802969 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-13 20:42:54 +0100 BST
2023/09/14 20:58:38.803267 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 15:06:08 +0000 UTC. Workflow Target Met = true
2023/09/14 20:58:38.803284 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:58:38.803463 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:58:38.803759 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:15:32 +0100 BST Status CLOSED
2023/09/14 20:58:38.803807 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.803805 +0100 BST
2023/09/14 20:58:38.804053 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:15:38 +0000 UTC
2023/09/14 20:58:38.804067 ttxdwconsumer.go:336: Duration - 6 Secs
2023/09/14 20:58:38.804119 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.804171 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 13:15:32 +0100 BST
2023/09/14 20:58:38.804552 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:15:38 +0000 UTC. Workflow Target Met = true
2023/09/14 20:58:38.804793 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:58:38.805007 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:58:38.805644 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:36:31 +0100 BST Status CLOSED
2023/09/14 20:58:38.805702 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.8057 +0100 BST
2023/09/14 20:58:38.805959 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:36:36 +0000 UTC
2023/09/14 20:58:38.805972 ttxdwconsumer.go:336: Duration - 5 Secs
2023/09/14 20:58:38.806030 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.806091 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:36:31 +0100 BST
2023/09/14 20:58:38.806347 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:36:36 +0000 UTC. Workflow Target Met = true
2023/09/14 20:58:38.806377 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:58:38.806559 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:58:38.806808 ttxdwconsumer.go:327: Workflow Started 2023-08-25 10:57:22 +0100 BST Status CLOSED
2023/09/14 20:58:38.806857 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.806855 +0100 BST
2023/09/14 20:58:38.807062 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 09:58:09 +0000 UTC
2023/09/14 20:58:38.807073 ttxdwconsumer.go:336: Duration - 47 Secs
2023/09/14 20:58:38.807120 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.807174 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 10:57:22 +0100 BST
2023/09/14 20:58:38.807397 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 09:58:09 +0000 UTC. Workflow Target Met = true
2023/09/14 20:58:38.807412 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:58:38.807576 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:58:38.807855 ttxdwconsumer.go:327: Workflow Started 2023-08-25 11:43:49 +0100 BST Status CLOSED
2023/09/14 20:58:38.807911 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.807909 +0100 BST
2023/09/14 20:58:38.808127 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-25 18:24:45 +0000 UTC
2023/09/14 20:58:38.808139 ttxdwconsumer.go:336: Duration - 0 Days 7 Hrs 40 Mins
2023/09/14 20:58:38.808196 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.808257 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-28 11:43:49 +0100 BST
2023/09/14 20:58:38.808487 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-25 18:24:45 +0000 UTC. Workflow Target Met = true
2023/09/14 20:58:38.808506 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:58:38.808669 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:58:38.808933 ttxdwconsumer.go:327: Workflow Started 2023-08-25 19:25:01 +0100 BST Status CLOSED
2023/09/14 20:58:38.808983 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.808981 +0100 BST
2023/09/14 20:58:38.809191 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-26 09:01:49 +0100 BST
2023/09/14 20:58:38.809203 ttxdwconsumer.go:336: Duration - 0 Days 13 Hrs 36 Mins
2023/09/14 20:58:38.809252 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.809307 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-25 22:25:01 +0100 BST
2023/09/14 20:58:38.809521 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-26 09:01:49 +0100 BST. Workflow Target Met = false
2023/09/14 20:58:38.809557 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:58:38.809948 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:58:38.810355 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:00:58 +0100 BST Status CLOSED
2023/09/14 20:58:38.810425 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.810423 +0100 BST
2023/09/14 20:58:38.810708 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:03:32 +0000 UTC
2023/09/14 20:58:38.810726 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:58:38.810787 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.810859 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-18 17:00:58 +0100 BST
2023/09/14 20:58:38.810871 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:58:38.810886 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:58:38.811131 ttxdwconsumer.go:226: Setting PATHALERT Workflow state for Patient 6072406157
2023/09/14 20:58:38.811387 ttxdwconsumer.go:327: Workflow Started 2023-08-29 17:20:32 +0100 BST Status CLOSED
2023/09/14 20:58:38.811430 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.811429 +0100 BST
2023/09/14 20:58:38.811550 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-29 16:23:05 +0000 UTC
2023/09/14 20:58:38.811558 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:58:38.811582 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.811609 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 01:20:32 +0100 BST
2023/09/14 20:58:38.811719 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-29 16:23:05 +0000 UTC. Workflow Target Met = true
2023/09/14 20:58:38.811730 ttxdwconsumer.go:296: Workflow pathalert6072406157 is CLOSED
2023/09/14 20:58:38.811920 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:58:38.812071 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:21:36 +0100 BST Status CLOSED
2023/09/14 20:58:38.812094 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.812093 +0100 BST
2023/09/14 20:58:38.812222 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 09:36:38 +0000 UTC
2023/09/14 20:58:38.812227 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 15 Mins
2023/09/14 20:58:38.812249 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.812273 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:21:36 +0100 BST
2023/09/14 20:58:38.812277 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:58:38.812283 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:58:38.813464 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:58:38.813870 ttxdwconsumer.go:327: Workflow Started 2023-08-30 10:39:37 +0100 BST Status CLOSED
2023/09/14 20:58:38.813901 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.8139 +0100 BST
2023/09/14 20:58:38.814021 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 11:31:20 +0000 UTC
2023/09/14 20:58:38.814027 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 51 Mins
2023/09/14 20:58:38.814048 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.814069 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-19 10:39:37 +0100 BST
2023/09/14 20:58:38.814074 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:58:38.814080 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:58:38.814153 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 9999999468
2023/09/14 20:58:38.814250 ttxdwconsumer.go:327: Workflow Started 2023-08-30 14:34:22 +0100 BST Status CLOSED
2023/09/14 20:58:38.814269 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.814269 +0100 BST
2023/09/14 20:58:38.814355 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-08-30 13:39:22 +0000 UTC
2023/09/14 20:58:38.814360 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 5 Mins
2023/09/14 20:58:38.814381 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.814401 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 17:34:22 +0100 BST
2023/09/14 20:58:38.814509 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-08-30 13:39:22 +0000 UTC. Workflow Target Met = true
2023/09/14 20:58:38.814515 ttxdwconsumer.go:296: Workflow radconsult9999999468 is CLOSED
2023/09/14 20:58:38.814586 ttxdwconsumer.go:226: Setting RADCONSULT Workflow state for Patient 1111111111
2023/09/14 20:58:38.814706 ttxdwconsumer.go:327: Workflow Started 2023-08-30 17:47:08 +0100 BST Status CLOSED
2023/09/14 20:58:38.814731 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.81473 +0100 BST
2023/09/14 20:58:38.814814 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:22:50 +0000 UTC
2023/09/14 20:58:38.814818 ttxdwconsumer.go:336: Duration - 12 Days 2 Hrs 35 Mins
2023/09/14 20:58:38.814837 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.814861 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-08-30 20:47:08 +0100 BST
2023/09/14 20:58:38.814956 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-11 19:22:50 +0000 UTC. Workflow Target Met = false
2023/09/14 20:58:38.814964 ttxdwconsumer.go:296: Workflow radconsult1111111111 is CLOSED
2023/09/14 20:58:38.815148 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:58:38.815351 ttxdwconsumer.go:327: Workflow Started 2023-09-03 15:33:30 +0100 BST Status CLOSED
2023/09/14 20:58:38.815373 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.815373 +0100 BST
2023/09/14 20:58:38.815508 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-05 14:42:19 +0100 BST
2023/09/14 20:58:38.815515 ttxdwconsumer.go:336: Duration - 1 Days 23 Hrs 8 Mins
2023/09/14 20:58:38.815538 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.815564 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-23 15:33:30 +0100 BST
2023/09/14 20:58:38.815569 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:58:38.815582 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:58:38.815734 ttxdwconsumer.go:226: Setting TOC Workflow state for Patient 6072406157
2023/09/14 20:58:38.815907 ttxdwconsumer.go:327: Workflow Started 2023-09-09 09:47:48 +0100 BST Status CLOSED
2023/09/14 20:58:38.815933 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.815932 +0100 BST
2023/09/14 20:58:38.816065 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-09 08:52:24 +0000 UTC
2023/09/14 20:58:38.816070 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 4 Mins
2023/09/14 20:58:38.816096 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.816119 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-09-14 09:47:48 +0100 BST
2023/09/14 20:58:38.816282 ttxdwconsumer.go:358: Workflow Latest Event Time 2023-09-09 08:52:24 +0000 UTC. Workflow Target Met = true
2023/09/14 20:58:38.816289 ttxdwconsumer.go:296: Workflow toc6072406157 is CLOSED
2023/09/14 20:58:38.816508 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:58:38.816775 ttxdwconsumer.go:327: Workflow Started 2023-09-11 20:25:32 +0100 BST Status CLOSED
2023/09/14 20:58:38.816805 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.816804 +0100 BST
2023/09/14 20:58:38.816936 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 19:52:17 +0000 UTC
2023/09/14 20:58:38.816942 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 26 Mins
2023/09/14 20:58:38.816964 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.816987 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 20:25:32 +0100 BST
2023/09/14 20:58:38.816991 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:58:38.816998 ttxdwconsumer.go:296: Workflow d2a6072406157 is CLOSED
2023/09/14 20:58:38.817156 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 9999999468
2023/09/14 20:58:38.817321 ttxdwconsumer.go:327: Workflow Started 2023-09-11 21:09:53 +0100 BST Status CLOSED
2023/09/14 20:58:38.817345 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.817344 +0100 BST
2023/09/14 20:58:38.817493 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-11 21:43:10 +0000 UTC
2023/09/14 20:58:38.817498 ttxdwconsumer.go:336: Duration - 0 Days 1 Hrs 33 Mins
2023/09/14 20:58:38.817517 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.817537 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-01 21:09:53 +0100 BST
2023/09/14 20:58:38.817541 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:58:38.817546 ttxdwconsumer.go:296: Workflow d2a9999999468 is CLOSED
2023/09/14 20:58:38.817673 ttxdwconsumer.go:226: Setting D2A Workflow state for Patient 6072406157
2023/09/14 20:58:38.817743 ttxdwconsumer.go:327: Workflow Started 2023-09-12 22:32:28 +0100 BST Status OPEN
2023/09/14 20:58:38.817762 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.817762 +0100 BST
2023/09/14 20:58:38.817766 ttxdwconsumer.go:336: Duration - 1 Days 22 Hrs 26 Mins
2023/09/14 20:58:38.817788 ttxdwconsumer.go:342: Completion time 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:58:38.817793 ttxdwconsumer.go:347: Workflow Time Remaining : 433h33m49.182208s
2023/09/14 20:58:38.817817 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.817837 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 22:32:28 +0100 BST
2023/09/14 20:58:38.817842 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:58:38.817851 ttxdwconsumer.go:286: Workflow d2a6072406157 is OPEN
2023/09/14 20:58:38.817857 ttxdwconsumer.go:381: No Escalate time defined for Workflow
2023/09/14 20:58:38.818178 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:58:38.818623 ttxdwconsumer.go:327: Workflow Started 2023-09-12 23:00:30 +0100 BST Status CLOSED
2023/09/14 20:58:38.818665 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.818664 +0100 BST
2023/09/14 20:58:38.818963 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-12 23:03:05 +0100 BST
2023/09/14 20:58:38.818970 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 2 Mins
2023/09/14 20:58:38.818994 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.819019 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-02 23:00:30 +0100 BST
2023/09/14 20:58:38.819026 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:58:38.819035 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:58:38.819307 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:58:38.819509 ttxdwconsumer.go:327: Workflow Started 2023-09-13 09:36:29 +0100 BST Status CLOSED
2023/09/14 20:58:38.819531 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.81953 +0100 BST
2023/09/14 20:58:38.819703 ttxdwconsumer.go:333: Workflow is Complete. Latest Event Time was 2023-09-13 09:11:05 +0000 UTC
2023/09/14 20:58:38.819709 ttxdwconsumer.go:336: Duration - 0 Days 0 Hrs 34 Mins
2023/09/14 20:58:38.819729 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.819752 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 09:36:29 +0100 BST
2023/09/14 20:58:38.819756 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:58:38.819763 ttxdwconsumer.go:296: Workflow lac1111111111 is CLOSED
2023/09/14 20:58:38.819993 ttxdwconsumer.go:226: Setting LAC Workflow state for Patient 1111111111
2023/09/14 20:58:38.821053 ttxdwconsumer.go:327: Workflow Started 2023-09-13 10:21:29 +0100 BST Status OPEN
2023/09/14 20:58:38.821108 ttxdwconsumer.go:330: Time Now 2023-09-14 20:58:38.821106 +0100 BST
2023/09/14 20:58:38.821117 ttxdwconsumer.go:336: Duration - 1 Days 10 Hrs 37 Mins
2023/09/14 20:58:38.821154 ttxdwconsumer.go:342: Completion time 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:58:38.821159 ttxdwconsumer.go:347: Workflow Time Remaining : 445h22m50.178841s
2023/09/14 20:58:38.821189 ttxdwconsumer.go:351: Checking if Workflow is Overdue
2023/09/14 20:58:38.821220 ttxdwconsumer.go:354: Workflow Complete By Date is 2023-10-03 10:21:29 +0100 BST
2023/09/14 20:58:38.821225 ttxdwconsumer.go:365: Workflow is not overdue
2023/09/14 20:58:38.821232 ttxdwconsumer.go:286: Workflow lac1111111111 is OPEN
2023/09/14 20:58:38.821260 ttxdwconsumer.go:378: Workflow Start Time 2023-09-13T10:21:29+01:00 Worklow Escalate Time 2023-10-04 10:21:29 +0100 BST Workflow Escaleted = false
2023/09/14 20:58:38.821307 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:58:38.919284 ttproxy.go:149: Response Status Code 200
2023/09/14 20:58:38.951815 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:38.951918 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:38.951970 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:58:38.951989 ttgethandler.go:15: Path = /beta/spa/consumer/pathways
2023/09/14 20:58:38.954353 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:38.954401 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:38.954425 ttutil.go:140: 	{
  "Name": "favicon.ico"
}
2023/09/14 20:58:38.954438 ttgethandler.go:15: Path = /beta/spa/consumer/static
2023/09/14 20:58:38.954453 ttsysman.go:237: Retrieving favicon.ico
2023/09/14 20:58:39.015115 ttproxy.go:149: Response Status Code 200
2023/09/14 20:58:39.016062 ttproxy.go:149: Response Status Code 200
2023/09/14 20:58:48.114252 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:48.114425 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:48.114523 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:58:48.114574 ttgethandler.go:15: Path = /beta/spa/consumer/expressions
2023/09/14 20:58:48.114631 ttproxy.go:149: Response Status Code 200
2023/09/14 20:58:48.114554 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:48.115584 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:48.115658 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009",
  "Vers": "-1"
}
2023/09/14 20:58:48.115674 ttgethandler.go:15: Path = /beta/spa/consumer/xdws
2023/09/14 20:58:48.177188 ttxdwconsumer.go:407: selected 0 Workflows for Pathway  NHS 9000000009 Version -1
2023/09/14 20:58:48.238963 ttxdwconsumer.go:213: Setting Workflow States
2023/09/14 20:58:48.239182 tttmplts.go:87: Processing Template wfstate2t_tmplt
2023/09/14 20:58:48.239866 ttproxy.go:149: Response Status Code 200
2023/09/14 20:58:50.551829 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:58:50.551987 ttproxy.go:138: 	Request Query Params
2023/09/14 20:58:50.552056 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical",
  "Nhs": "9000000009"
}
2023/09/14 20:58:50.552082 ttgethandler.go:15: Path = /beta/spa/consumer/patient
2023/09/14 20:58:50.552126 tttmplts.go:37: CGL Worker starting
2023/09/14 20:58:50.552128 tttmplts.go:30: PIXm Worker starting
2023/09/14 20:58:50.552643 tthttp.go:15: Creating PIXm PDQ - Server URL http://lac-demo-01.tianispirit.co.uk:8081/SpiritPIXFhir/r4/Patient?identifier=2.16.840.1.113883.2.1.4.1%7C9000000009
2023/09/14 20:58:50.556376 tthttp.go:160: Request Headers 
map[Content-Type:[application/json]]
2023/09/14 20:58:50.556431 tthttp.go:160: Request Headers 
map[Accept:[application/json] X-Api-Key:[FNhb#OhxWiEiMdf+@6085k5Zmt] X-Api-Secret:[9710ea0fb4ffb5d56c2e62c71c30bdfhjsyr56a79d]]
2023/09/14 20:58:50.749605 tthttp.go:174: Server Response - Status Code 404 
{"errors":[{"message":"No clients matching nhs number 9000000009","path":"\/"}],"status":404}
2023/09/14 20:58:50.752066 ttutil.go:140: 	{
  "data": {
    "client": {
      "basicDetails": {
        "address": {},
        "name": {}
      },
      "bbvInformation": {},
      "drugTestResults": {
        "results": {}
      },
      "riskInformation": {
        "mentalHealthDomain": {},
        "riskOfHarmToSelfDomain": {},
        "socialDomain": {},
        "substanceMisuseDomain": {}
      },
      "safeguardingInformation": {}
    },
    "keyWorker": {
      "name": {}
    }
  }
}
2023/09/14 20:58:50.752165 tttmplts.go:39: CGL Worker done
2023/09/14 20:58:50.752196 tttmplts.go:40: CGL Worker Status Code 404
2023/09/14 20:58:55.554193 tthttp.go:174: Server Response - Status Code 0 
2023/09/14 20:58:55.554984 tttmplts.go:32: PIXm Worker done
2023/09/14 20:58:55.555110 tttmplts.go:33: PIXm Worker Status Code 408
2023/09/14 20:58:55.555628 tthttp.go:56: Creating PDS Search Request - Server URL https://sandbox.api.service.nhs.uk/personal-demographics/FHIR/R4/Patient/9000000009
2023/09/14 20:58:55.555844 tthttp.go:160: Request Headers 
map[Accept:[*/*] Content-Type:[application/json] X-Request-Id:[ffb04afa-7edf-4787-9704-7709c4ed0d38]]
2023/09/14 20:58:55.767936 tthttp.go:174: Server Response - Status Code 200 
{"resourceType":"Patient","id":"9000000009","identifier":[{"system":"https://fhir.nhs.uk/Id/nhs-number","value":"9000000009","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus","version":"1.0.0","code":"01","display":"Number present and verified"}]}}]}],"meta":{"versionId":"2","security":[{"system":"http://terminology.hl7.org/CodeSystem/v3-Confidentiality","code":"U","display":"unrestricted"}]},"name":[{"id":"123","use":"usual","period":{"start":"2020-01-01","end":"2021-12-31"},"given":["Jane"],"family":"Smith","prefix":["Mrs"],"suffix":["MBE"]}],"gender":"female","birthDate":"2010-10-22","multipleBirthInteger":1,"deceasedDateTime":"2010-10-22T00:00:00+00:00","generalPractitioner":[{"id":"254406A3","type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}}],"managingOrganization":{"type":"Organization","identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345","period":{"start":"2020-01-01","end":"2021-12-31"}}},"extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y12345"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y23456"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier","valueReference":{"identifier":{"system":"https://fhir.nhs.uk/Id/ods-organization-code","value":"Y34567"}}},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus","extension":[{"url":"deathNotificationStatus","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus","version":"1.0.0","code":"2","display":"Formal - death notice received from Registrar of Deaths"}]}},{"url":"systemEffectiveDate","valueDateTime":"2010-10-22T00:00:00+00:00"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication","extension":[{"url":"language","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage","version":"1.0.0","code":"fr","display":"French"}]}},{"url":"interpreterRequired","valueBoolean":true}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference","extension":[{"url":"PreferredWrittenCommunicationFormat","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat","code":"12","display":"Braille"}]}},{"url":"PreferredContactMethod","valueCodeableConcept":{"coding":[{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod","code":"1","display":"Letter"}]}},{"url":"PreferredContactTimes","valueString":"Not after 7pm"}]},{"url":"http://hl7.org/fhir/StructureDefinition/patient-birthPlace","valueAddress":{"city":"Manchester","district":"Greater Manchester","country":"GBR"}},{"url":"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration","extension":[{"url":"removalFromRegistrationCode","valueCodeableConcept":{"coding":[{"system":"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode","code":"SCT","display":"Transferred to Scotland"}]}},{"url":"effectiveTime","valuePeriod":{"start":"2020-01-01T00:00:00+00:00","end":"2021-12-31T00:00:00+00:00"}}]}],"telecom":[{"id":"789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"phone","value":"01632960587","use":"home"},{"id":"790","period":{"start":"2019-01-01","end":"2022-12-31"},"system":"email","value":"jane.smith@example.com","use":"home"},{"id":"OC789","period":{"start":"2020-01-01","end":"2021-12-31"},"system":"other","value":"01632960587","use":"home","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem","code":"textphone","display":"Minicom (Textphone)"}}]}],"contact":[{"id":"C123","period":{"start":"2020-01-01","end":"2021-12-31"},"relationship":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/v2-0131","code":"C","display":"Emergency Contact"}]}],"telecom":[{"system":"phone","value":"01632960587"}]}],"address":[{"id":"456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"home","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]},{"id":"T456","period":{"start":"2020-01-01","end":"2021-12-31"},"use":"temp","text":"Student Accommodation","line":["1 Trevelyan Square","Boar Lane","City Centre","Leeds","West Yorkshire"],"postalCode":"LS1 6AE","extension":[{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"PAF"}},{"url":"value","valueString":"12345678"}]},{"url":"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey","extension":[{"url":"type","valueCoding":{"system":"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType","code":"UPRN"}},{"url":"value","valueString":"123456789012"}]}]}]}
2023/09/14 20:58:55.770686 tttmplts.go:87: Processing Template allpatientSrvs_tmplt
2023/09/14 20:58:55.773750 tttmplts.go:93: template: pixm_tmplt:6:39: executing "pixm_tmplt" at <len>: wrong number of args for len: want 1 got 0
2023/09/14 20:58:55.773839 ttproxy.go:105: template: pixm_tmplt:6:39: executing "pixm_tmplt" at <len>: wrong number of args for len: want 1 got 0
2023/09/14 20:58:55.773870 ttproxy.go:149: Response Status Code 500
2023/09/14 20:58:55.773888 ttproxy.go:151: 
2023/09/14 20:58:55.773902 ttproxy.go:152: Response Headers
2023/09/14 20:58:55.774007 ttutil.go:140: 	{
  "Access-Control-Allow-Origin": "*",
  "Content-Type": "",
  "Server": "Workflow Service"
}
2023/09/14 20:58:55.774027 ttproxy.go:154: ----------------
2023/09/14 20:58:55.774044 ttproxy.go:155: Response
2023/09/14 20:58:55.774056 ttproxy.go:156: ----------------
2023/09/14 20:58:55.774512 ttutil.go:140: 	{
  "Host": "MacBook-Pro-3.lan",
  "Path": "/beta/spa/consumer/patient",
  "Method": "GET",
  "SourceIP": "[::1]:57956",
  "ReqContentType": "",
  "RspContentType": "",
  "ResponseBody": "{\"resourceType\":\"Patient\",\"id\":\"9000000009\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9000000009\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\"version\":\"1.0.0\",\"code\":\"01\",\"display\":\"Number present and verified\"}]}}]}],\"meta\":{\"versionId\":\"2\",\"security\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v3-Confidentiality\",\"code\":\"U\",\"display\":\"unrestricted\"}]},\"name\":[{\"id\":\"123\",\"use\":\"usual\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"given\":[\"Jane\"],\"family\":\"Smith\",\"prefix\":[\"Mrs\"],\"suffix\":[\"MBE\"]}],\"gender\":\"female\",\"birthDate\":\"2010-10-22\",\"multipleBirthInteger\":1,\"deceasedDateTime\":\"2010-10-22T00:00:00+00:00\",\"generalPractitioner\":[{\"id\":\"254406A3\",\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}}],\"managingOrganization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"}}},\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NominatedPharmacy\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y12345\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y23456\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"Y34567\"}}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-DeathNotificationStatus\",\"extension\":[{\"url\":\"deathNotificationStatus\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-DeathNotificationStatus\",\"version\":\"1.0.0\",\"code\":\"2\",\"display\":\"Formal - death notice received from Registrar of Deaths\"}]}},{\"url\":\"systemEffectiveDate\",\"valueDateTime\":\"2010-10-22T00:00:00+00:00\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSCommunication\",\"extension\":[{\"url\":\"language\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-HumanLanguage\",\"version\":\"1.0.0\",\"code\":\"fr\",\"display\":\"French\"}]}},{\"url\":\"interpreterRequired\",\"valueBoolean\":true}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-ContactPreference\",\"extension\":[{\"url\":\"PreferredWrittenCommunicationFormat\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\",\"code\":\"12\",\"display\":\"Braille\"}]}},{\"url\":\"PreferredContactMethod\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-PreferredContactMethod\",\"code\":\"1\",\"display\":\"Letter\"}]}},{\"url\":\"PreferredContactTimes\",\"valueString\":\"Not after 7pm\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\"valueAddress\":{\"city\":\"Manchester\",\"district\":\"Greater Manchester\",\"country\":\"GBR\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-PDS-RemovalFromRegistration\",\"extension\":[{\"url\":\"removalFromRegistrationCode\",\"valueCodeableConcept\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/PDS-RemovalReasonExitCode\",\"code\":\"SCT\",\"display\":\"Transferred to Scotland\"}]}},{\"url\":\"effectiveTime\",\"valuePeriod\":{\"start\":\"2020-01-01T00:00:00+00:00\",\"end\":\"2021-12-31T00:00:00+00:00\"}}]}],\"telecom\":[{\"id\":\"789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"phone\",\"value\":\"01632960587\",\"use\":\"home\"},{\"id\":\"790\",\"period\":{\"start\":\"2019-01-01\",\"end\":\"2022-12-31\"},\"system\":\"email\",\"value\":\"jane.smith@example.com\",\"use\":\"home\"},{\"id\":\"OC789\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"system\":\"other\",\"value\":\"01632960587\",\"use\":\"home\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-OtherContactSystem\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-OtherContactSystem\",\"code\":\"textphone\",\"display\":\"Minicom (Textphone)\"}}]}],\"contact\":[{\"id\":\"C123\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"relationship\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/v2-0131\",\"code\":\"C\",\"display\":\"Emergency Contact\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01632960587\"}]}],\"address\":[{\"id\":\"456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"home\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]},{\"id\":\"T456\",\"period\":{\"start\":\"2020-01-01\",\"end\":\"2021-12-31\"},\"use\":\"temp\",\"text\":\"Student Accommodation\",\"line\":[\"1 Trevelyan Square\",\"Boar Lane\",\"City Centre\",\"Leeds\",\"West Yorkshire\"],\"postalCode\":\"LS1 6AE\",\"extension\":[{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"PAF\"}},{\"url\":\"value\",\"valueString\":\"12345678\"}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-AddressKey\",\"extension\":[{\"url\":\"type\",\"valueCoding\":{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-AddressKeyType\",\"code\":\"UPRN\"}},{\"url\":\"value\",\"valueString\":\"123456789012\"}]}]}]}",
  "StatusCode": 500,
  "IsBase64": false,
  "Timeout": 0
}
2023/09/14 20:58:55.774535 ttproxy.go:158: -------------
2023/09/14 20:58:55.774550 ttproxy.go:160: Error template: pixm_tmplt:6:39: executing "pixm_tmplt" at <len>: wrong number of args for len: want 1 got 0
2023/09/14 20:58:55.774565 ttproxy.go:161: -------------
2023/09/14 20:59:46.437306 ttserver.go:52: ICB Workflow Service stopped
2023/09/14 20:59:50.532886 ttutil.go:133: -----------------------------------------------------------------------------------
2023/09/14 20:59:50.533394 ttdb.go:51: Opening DB Connection to mysql instance
User: root
Host: tuk.coil1nnpqdlr.eu-west-1.rds.amazonaws.com
Port: :3306
Name: tuk
Connect Timeout 2s
Read Timeout 5s
2023/09/14 20:59:50.533534 ttdb.go:54: Opened Database
2023/09/14 20:59:50.725790 ttdb.go:379: Persisting Template dsubcancel_tmplt
2023/09/14 20:59:50.789195 ttdb.go:385: Persisted Template dsubcancel_tmplt
2023/09/14 20:59:50.789241 ttdb.go:366: Persisted Template dsubcancel_tmplt.xml
2023/09/14 20:59:50.854558 ttdb.go:379: Persisting Template cgl_tmplt
2023/09/14 20:59:50.951881 ttdb.go:385: Persisted Template cgl_tmplt
2023/09/14 20:59:50.952043 ttdb.go:366: Persisted Template cgl_tmplt.html
2023/09/14 20:59:51.015689 ttdb.go:379: Persisting Template pdssearch_tmplt
2023/09/14 20:59:51.084091 ttdb.go:385: Persisted Template pdssearch_tmplt
2023/09/14 20:59:51.084227 ttdb.go:366: Persisted Template pdssearch_tmplt.html
2023/09/14 20:59:51.149192 ttdb.go:379: Persisting Template dsubsubscribe_tmplt
2023/09/14 20:59:51.213168 ttdb.go:385: Persisted Template dsubsubscribe_tmplt
2023/09/14 20:59:51.213247 ttdb.go:366: Persisted Template dsubsubscribe_tmplt.xml
2023/09/14 20:59:51.282839 ttdb.go:379: Persisting Template notification_tmplt
2023/09/14 20:59:51.351174 ttdb.go:385: Persisted Template notification_tmplt
2023/09/14 20:59:51.351295 ttdb.go:366: Persisted Template notification_tmplt.txt
2023/09/14 20:59:51.418318 ttdb.go:379: Persisting Template wfstate2t_tmplt
2023/09/14 20:59:51.539598 ttdb.go:385: Persisted Template wfstate2t_tmplt
2023/09/14 20:59:51.539707 ttdb.go:366: Persisted Template wfstate2t_tmplt.html
2023/09/14 20:59:51.604486 ttdb.go:379: Persisting Template publishfile2t_tmplt
2023/09/14 20:59:51.669290 ttdb.go:385: Persisted Template publishfile2t_tmplt
2023/09/14 20:59:51.669427 ttdb.go:366: Persisted Template publishfile2t_tmplt.html
2023/09/14 20:59:51.734721 ttdb.go:379: Persisting Template react_tmplt
2023/09/14 20:59:51.805494 ttdb.go:385: Persisted Template react_tmplt
2023/09/14 20:59:51.805653 ttdb.go:366: Persisted Template react_tmplt.html
2023/09/14 20:59:51.871228 ttdb.go:379: Persisting Template pdsretrieve_tmplt
2023/09/14 20:59:51.937324 ttdb.go:385: Persisted Template pdsretrieve_tmplt
2023/09/14 20:59:51.937503 ttdb.go:366: Persisted Template pdsretrieve_tmplt.html
2023/09/14 20:59:52.003725 ttdb.go:379: Persisting Template allpatientSrvs_tmplt
2023/09/14 20:59:52.069844 ttdb.go:385: Persisted Template allpatientSrvs_tmplt
2023/09/14 20:59:52.070036 ttdb.go:366: Persisted Template allpatientSrvs_tmplt.html
2023/09/14 20:59:52.136589 ttdb.go:379: Persisting Template spa2t_tmplt
2023/09/14 20:59:52.215350 ttdb.go:385: Persisted Template spa2t_tmplt
2023/09/14 20:59:52.215407 ttdb.go:366: Persisted Template spa2t_tmplt.html
2023/09/14 20:59:52.280037 ttdb.go:379: Persisting Template xdw2t_tmplt
2023/09/14 20:59:52.361842 ttdb.go:385: Persisted Template xdw2t_tmplt
2023/09/14 20:59:52.361993 ttdb.go:366: Persisted Template xdw2t_tmplt.html
2023/09/14 20:59:52.425643 ttdb.go:379: Persisting Template spaheader2t_tmplt
2023/09/14 20:59:52.494916 ttdb.go:385: Persisted Template spaheader2t_tmplt
2023/09/14 20:59:52.494984 ttdb.go:366: Persisted Template spaheader2t_tmplt.html
2023/09/14 20:59:52.558577 ttdb.go:379: Persisting Template pds_tmplt
2023/09/14 20:59:52.622352 ttdb.go:385: Persisted Template pds_tmplt
2023/09/14 20:59:52.622397 ttdb.go:366: Persisted Template pds_tmplt.html
2023/09/14 20:59:52.686245 ttdb.go:379: Persisting Template error_tmplt
2023/09/14 20:59:52.749248 ttdb.go:385: Persisted Template error_tmplt
2023/09/14 20:59:52.749304 ttdb.go:366: Persisted Template error_tmplt.html
2023/09/14 20:59:52.815750 ttdb.go:379: Persisting Template dsuback_tmplt
2023/09/14 20:59:52.882210 ttdb.go:385: Persisted Template dsuback_tmplt
2023/09/14 20:59:52.882318 ttdb.go:366: Persisted Template dsuback_tmplt.xml
2023/09/14 20:59:52.951013 ttdb.go:379: Persisting Template pixm_tmplt
2023/09/14 20:59:53.021729 ttdb.go:385: Persisted Template pixm_tmplt
2023/09/14 20:59:53.021859 ttdb.go:366: Persisted Template pixm_tmplt.html
2023/09/14 20:59:53.090591 ttdb.go:379: Persisting Template subscriptions2t_tmplt
2023/09/14 20:59:53.159070 ttdb.go:385: Persisted Template subscriptions2t_tmplt
2023/09/14 20:59:53.159186 ttdb.go:366: Persisted Template subscriptions2t_tmplt.html
2023/09/14 20:59:53.224226 ttdb.go:379: Persisting Template codemaps2t_tmplt
2023/09/14 20:59:53.298934 ttdb.go:385: Persisted Template codemaps2t_tmplt
2023/09/14 20:59:53.299061 ttdb.go:366: Persisted Template codemaps2t_tmplt.html
2023/09/14 20:59:53.364704 ttdb.go:379: Persisting Template mhdpublish_tmplt
2023/09/14 20:59:53.440520 ttdb.go:385: Persisted Template mhdpublish_tmplt
2023/09/14 20:59:53.440614 ttdb.go:366: Persisted Template mhdpublish_tmplt.json
2023/09/14 20:59:53.507514 ttdb.go:379: Persisting Template events_tmplt
2023/09/14 20:59:53.580818 ttdb.go:385: Persisted Template events_tmplt
2023/09/14 20:59:53.580964 ttdb.go:366: Persisted Template events_tmplt.html
2023/09/14 20:59:53.649888 ttdb.go:379: Persisting Template uploadfile2t_tmplt
2023/09/14 20:59:53.728342 ttdb.go:385: Persisted Template uploadfile2t_tmplt
2023/09/14 20:59:53.728512 ttdb.go:366: Persisted Template uploadfile2t_tmplt.html
2023/09/14 20:59:53.728856 ttserver.go:40: Starting ICB Workflow Service. Service Endpoint http://MacBook-Pro-3.lan:8080/
2023/09/14 20:59:56.871937 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:59:56.872104 ttproxy.go:138: 	Request Query Params
2023/09/14 20:59:56.872440 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:59:56.872472 ttgethandler.go:15: Path = /spa
2023/09/14 20:59:56.872489 tttmplts.go:23: Using Default SPA template
2023/09/14 20:59:57.058691 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:59:57.073231 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 20:59:57.074067 server.go:3217: http: panic serving [::1]:58000: runtime error: invalid memory address or nil pointer dereference
goroutine 19 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0001ac4c8?, 0xc00043dfb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003aa000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0001b1500}, 0xc000318000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0001b4449?, {0x15657d0?, 0xc0001b1500?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000207110?}, {0x15657d0, 0xc0001b1500}, 0xc000318000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00019a750, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:59:57.075189 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:59:57.075291 ttproxy.go:138: 	Request Query Params
2023/09/14 20:59:57.075365 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:59:57.075386 ttgethandler.go:15: Path = /spa
2023/09/14 20:59:57.075406 tttmplts.go:23: Using Default SPA template
2023/09/14 20:59:57.160125 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:59:57.165717 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 20:59:57.166510 server.go:3217: http: panic serving [::1]:58001: runtime error: invalid memory address or nil pointer dereference
goroutine 20 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028618?, 0xc0006edfb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003ac600?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0001b01c0}, 0xc000396000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000030fc9?, {0x15657d0?, 0xc0001b01c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000196ba0?}, {0x15657d0, 0xc0001b01c0}, 0xc000396000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00019a7e0, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:59:57.168529 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:59:57.168677 ttproxy.go:138: 	Request Query Params
2023/09/14 20:59:57.168750 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:59:57.168775 ttgethandler.go:15: Path = /spa
2023/09/14 20:59:57.168790 tttmplts.go:23: Using Default SPA template
2023/09/14 20:59:57.253714 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:59:57.265143 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 20:59:57.265560 server.go:3217: http: panic serving [::1]:58004: runtime error: invalid memory address or nil pointer dereference
goroutine 9 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0001ac0a8?, 0xc0002a5fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003ad900)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003ad900)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003ad900?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003ad900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003ad900)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0001b0a80}, 0xc0004a6d00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0000f68c9?, {0x15657d0?, 0xc0001b0a80?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000172ba0?}, {0x15657d0, 0xc0001b0a80}, 0xc0004a6d00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d4510, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:59:58.293148 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:59:58.293296 ttproxy.go:138: 	Request Query Params
2023/09/14 20:59:58.293380 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:59:58.293405 ttgethandler.go:15: Path = /spa
2023/09/14 20:59:58.293418 tttmplts.go:23: Using Default SPA template
2023/09/14 20:59:58.452459 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:59:58.457680 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 20:59:58.458183 server.go:3217: http: panic serving [::1]:58005: runtime error: invalid memory address or nil pointer dereference
goroutine 38 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0001ac270?, 0xc0001e1fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003aa000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0004ea000}, 0xc000396000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0004d8149?, {0x15657d0?, 0xc0004ea000?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0004e8030?}, {0x15657d0, 0xc0004ea000}, 0xc000396000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d41b0, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:59:58.458737 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:59:58.458784 ttproxy.go:138: 	Request Query Params
2023/09/14 20:59:58.458824 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:59:58.458835 ttgethandler.go:15: Path = /spa
2023/09/14 20:59:58.458847 tttmplts.go:23: Using Default SPA template
2023/09/14 20:59:58.543529 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:59:58.550514 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 20:59:58.551092 server.go:3217: http: panic serving [::1]:58006: runtime error: invalid memory address or nil pointer dereference
goroutine 39 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0001ac768?, 0xc00043bfb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003ac600?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0004ea8c0}, 0xc0004a7800)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0002efb09?, {0x15657d0?, 0xc0004ea8c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0000009c0?}, {0x15657d0, 0xc0004ea8c0}, 0xc0004a7800)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d4240, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 20:59:58.552584 ttgethandler.go:10: Processing new GET Request
2023/09/14 20:59:58.552686 ttproxy.go:138: 	Request Query Params
2023/09/14 20:59:58.552837 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 20:59:58.552899 ttgethandler.go:15: Path = /spa
2023/09/14 20:59:58.552936 tttmplts.go:23: Using Default SPA template
2023/09/14 20:59:58.638324 tttmplts.go:100: Caching 24 Templates
2023/09/14 20:59:58.641739 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 20:59:58.642096 server.go:3217: http: panic serving [::1]:58007: runtime error: invalid memory address or nil pointer dereference
goroutine 11 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028288?, 0xc0001f9fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003aa000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0004ea1c0}, 0xc0004a6100)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0001b5449?, {0x15657d0?, 0xc0004ea1c0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0000aa990?}, {0x15657d0, 0xc0004ea1c0}, 0xc0004a6100)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00016e1b0, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 21:00:00.605292 ttgethandler.go:10: Processing new GET Request
2023/09/14 21:00:00.605411 ttproxy.go:138: 	Request Query Params
2023/09/14 21:00:00.605487 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 21:00:00.605513 ttgethandler.go:15: Path = /spa
2023/09/14 21:00:00.605535 tttmplts.go:23: Using Default SPA template
2023/09/14 21:00:00.816006 tttmplts.go:100: Caching 24 Templates
2023/09/14 21:00:00.825330 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 21:00:00.825772 server.go:3217: http: panic serving [::1]:58008: runtime error: invalid memory address or nil pointer dereference
goroutine 32 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0000286f0?, 0xc00049bfb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003ba000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003ba000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003ba000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003ba000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003ba000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc000386000}, 0xc000306000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0002ee009?, {0x15657d0?, 0xc000386000?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc000300030?}, {0x15657d0, 0xc000386000}, 0xc000306000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d41b0, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 21:00:00.826571 ttgethandler.go:10: Processing new GET Request
2023/09/14 21:00:00.826631 ttproxy.go:138: 	Request Query Params
2023/09/14 21:00:00.826686 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 21:00:00.826704 ttgethandler.go:15: Path = /spa
2023/09/14 21:00:00.826720 tttmplts.go:23: Using Default SPA template
2023/09/14 21:00:00.935470 tttmplts.go:100: Caching 24 Templates
2023/09/14 21:00:00.942822 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 21:00:00.943493 server.go:3217: http: panic serving [::1]:58009: runtime error: invalid memory address or nil pointer dereference
goroutine 65 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000312468?, 0xc0001e7fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003bb300)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003bb300)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003bb300?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003bb300)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003bb300)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0003862a0}, 0xc00025fb00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0002efc49?, {0x15657d0?, 0xc0003862a0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0002cbfb0?}, {0x15657d0, 0xc0003862a0}, 0xc00025fb00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d42d0, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 21:00:00.945998 ttgethandler.go:10: Processing new GET Request
2023/09/14 21:00:00.946150 ttproxy.go:138: 	Request Query Params
2023/09/14 21:00:00.946217 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 21:00:00.946244 ttgethandler.go:15: Path = /spa
2023/09/14 21:00:00.946261 tttmplts.go:23: Using Default SPA template
2023/09/14 21:00:01.031747 tttmplts.go:100: Caching 24 Templates
2023/09/14 21:00:01.035506 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 21:00:01.035912 server.go:3217: http: panic serving [::1]:58010: runtime error: invalid memory address or nil pointer dereference
goroutine 16 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000312930?, 0xc0003c5fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003bc600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003bc600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003bc600?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003bc600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003bc600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc000386b60}, 0xc000150b00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0001b5ac9?, {0x15657d0?, 0xc000386b60?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0002aeea0?}, {0x15657d0, 0xc000386b60}, 0xc000150b00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0003085a0, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 21:00:06.064169 ttgethandler.go:10: Processing new GET Request
2023/09/14 21:00:06.064689 ttproxy.go:138: 	Request Query Params
2023/09/14 21:00:06.064737 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 21:00:06.064752 ttgethandler.go:15: Path = /spa
2023/09/14 21:00:06.064976 tttmplts.go:23: Using Default SPA template
2023/09/14 21:00:06.248008 tttmplts.go:100: Caching 24 Templates
2023/09/14 21:00:06.252221 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 21:00:06.252588 server.go:3217: http: panic serving [::1]:58019: runtime error: invalid memory address or nil pointer dereference
goroutine 83 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028330?, 0xc0001dffb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003aa000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003aa000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0005160e0}, 0xc0003f2000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000514009?, {0x15657d0?, 0xc0005160e0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0003ee030?}, {0x15657d0, 0xc0005160e0}, 0xc0003f2000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc000308990, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 21:00:06.253024 ttgethandler.go:10: Processing new GET Request
2023/09/14 21:00:06.253070 ttproxy.go:138: 	Request Query Params
2023/09/14 21:00:06.253106 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 21:00:06.253126 ttgethandler.go:15: Path = /spa
2023/09/14 21:00:06.253140 tttmplts.go:23: Using Default SPA template
2023/09/14 21:00:06.344948 tttmplts.go:100: Caching 24 Templates
2023/09/14 21:00:06.352161 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 21:00:06.352462 server.go:3217: http: panic serving [::1]:58020: runtime error: invalid memory address or nil pointer dereference
goroutine 84 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0001e0090?, 0xc000385fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc0003ac600?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc0003ac600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0005169a0}, 0xc000496600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000031849?, {0x15657d0?, 0xc0005169a0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0004c1230?}, {0x15657d0, 0xc0005169a0}, 0xc000496600)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc000308a20, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 21:00:06.353008 ttgethandler.go:10: Processing new GET Request
2023/09/14 21:00:06.353035 ttproxy.go:138: 	Request Query Params
2023/09/14 21:00:06.353061 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 21:00:06.353069 ttgethandler.go:15: Path = /spa
2023/09/14 21:00:06.353074 tttmplts.go:23: Using Default SPA template
2023/09/14 21:00:06.437764 tttmplts.go:100: Caching 24 Templates
2023/09/14 21:00:06.442427 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 21:00:06.442993 server.go:3217: http: panic serving [::1]:58021: runtime error: invalid memory address or nil pointer dereference
goroutine 42 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0001e0060?, 0xc0000f1fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00049a000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00049a000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00049a000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00049a000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00049a000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc000302380}, 0xc000151a00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc00041f649?, {0x15657d0?, 0xc000302380?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc00047df50?}, {0x15657d0, 0xc000302380}, 0xc000151a00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00016e1b0, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 21:00:36.464852 ttgethandler.go:10: Processing new GET Request
2023/09/14 21:00:36.465052 ttproxy.go:138: 	Request Query Params
2023/09/14 21:00:36.465137 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 21:00:36.465174 ttgethandler.go:15: Path = /spa
2023/09/14 21:00:36.465199 tttmplts.go:23: Using Default SPA template
2023/09/14 21:00:36.649633 tttmplts.go:100: Caching 24 Templates
2023/09/14 21:00:36.652744 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 21:00:36.652969 server.go:3217: http: panic serving [::1]:58027: runtime error: invalid memory address or nil pointer dereference
goroutine 87 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028348?, 0xc0002bdfb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00049b300)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00049b300)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00049b300?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00049b300)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00049b300)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0004c20e0}, 0xc0004be000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc0001b4009?, {0x15657d0?, 0xc0004c20e0?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0004b0030?}, {0x15657d0, 0xc0004c20e0}, 0xc0004be000)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00016e480, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 21:00:36.653342 ttgethandler.go:10: Processing new GET Request
2023/09/14 21:00:36.653373 ttproxy.go:138: 	Request Query Params
2023/09/14 21:00:36.653402 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 21:00:36.653413 ttgethandler.go:15: Path = /spa
2023/09/14 21:00:36.653424 tttmplts.go:23: Using Default SPA template
2023/09/14 21:00:36.738914 tttmplts.go:100: Caching 24 Templates
2023/09/14 21:00:36.743756 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 21:00:36.744084 server.go:3217: http: panic serving [::1]:58028: runtime error: invalid memory address or nil pointer dereference
goroutine 88 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc0000281b0?, 0xc0000e5fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00049c600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00049c600)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00049c600?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00049c600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00049c600)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0004c2a80}, 0xc0004a7b00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000383689?, {0x15657d0?, 0xc0004c2a80?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001d05d0?}, {0x15657d0, 0xc0004c2a80}, 0xc0004a7b00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc00016e510, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 21:00:36.744695 ttgethandler.go:10: Processing new GET Request
2023/09/14 21:00:36.744728 ttproxy.go:138: 	Request Query Params
2023/09/14 21:00:36.744757 ttutil.go:140: 	{
  "User": "ian.thomas",
  "Org": "2tsolutions",
  "Role": "clinical"
}
2023/09/14 21:00:36.744770 ttgethandler.go:15: Path = /spa
2023/09/14 21:00:36.744781 tttmplts.go:23: Using Default SPA template
2023/09/14 21:00:36.830388 tttmplts.go:100: Caching 24 Templates
2023/09/14 21:00:36.835549 tttmplts.go:104: Template pixm_tmplt caused Error template: pixm_tmplt:6: unexpected "(" in operand
2023/09/14 21:00:36.835997 server.go:3217: http: panic serving [::1]:58029: runtime error: invalid memory address or nil pointer dereference
goroutine 66 [running]:
net/http.(*conn).serve.func1()
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1854 +0xbf
panic({0x1434ca0, 0x17e4e70})
	/Users/IanThomas/sdk/go1.20.5/src/runtime/panic.go:890 +0x263
html/template.(*Template).New(0x14c1682?, {0xc000028750?, 0xc000247fb0?})
	/Users/IanThomas/sdk/go1.20.5/src/html/template/template.go:305 +0x37
main.(*Trans).cacheTemplates(0xc00049a000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:103 +0x1d2
main.(*Trans).setResponseFromTemplate(0xc00049a000)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:85 +0x45
main.(*Trans).setSpaTemplate(0xc00049a000?)
	/Users/IanThomas/go/src/ttxdwuser/main/tttmplts.go:26 +0x9a
main.(*Trans).newGetHandler(0xc00049a000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttgethandler.go:44 +0xd58
main.(*Trans).newProxyTrans(0xc00049a000)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:73 +0x4d1
main.Handle_HTTP_Request({0x15657d0, 0xc0004c2380}, 0xc000151b00)
	/Users/IanThomas/go/src/ttxdwuser/main/ttproxy.go:15 +0xeb
net/http.HandlerFunc.ServeHTTP(0xc000031809?, {0x15657d0?, 0xc0004c2380?}, 0x1064cee?)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2122 +0x2f
net/http.serverHandler.ServeHTTP({0xc0001d2540?}, {0x15657d0, 0xc0004c2380}, 0xc000151b00)
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:2936 +0x316
net/http.(*conn).serve(0xc0000d41b0, {0x15659c8, 0xc000196a50})
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:1995 +0x612
created by net/http.(*Server).Serve
	/Users/IanThomas/sdk/go1.20.5/src/net/http/server.go:3089 +0x5ed
2023/09/14 21:01:02.462793 ttserver.go:52: ICB Workflow Service stopped
